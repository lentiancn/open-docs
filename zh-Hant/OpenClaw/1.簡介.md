# OpenClaw 🦞

## 什麼是 OpenClaw？

OpenClaw 是一個**自託管閘道**，它將你喜歡的聊天應用——WhatsApp、Telegram、Discord、iMessage 等——連接到 AI 編程助手（如 Pi）。你只需在自己的電腦或伺服器上運行一個 Gateway 進程，它就會成為你的訊息應用與隨時可用的 AI 助手之間的橋樑。

### 核心特點

- **自託管**：運行在你的硬體上，你做主
- **多渠道**：一個 Gateway 同時服務 WhatsApp、Telegram、Discord 等
- **原生 AI 代理**：專為編程代理設計，支援工具調用、會話管理和多代理路由
- **開源**：MIT 許可證，社群驅動

### 適用人群

開發者和高級用戶，他們想要一個可以隨時隨地發送訊息的私人 AI 助手，同時不想放棄對數據的控制，也不依賴托管服務。

### 系統要求

- Node.js 22 或更高版本
- 一個 API 密鑰（推薦 Anthropic）
- 5 分鐘時間

---

## 主要功能一覽

### 多渠道閘道
一個 Gateway 進程同時支援 WhatsApp、Telegram、Discord、iMessage 等主流聊天平台，還可以通過擴展插件添加 Mattermost 等更多渠道。

### 多代理路由
支援為不同的渠道、帳號或用戶運行隔離的代理，每個代理擁有獨立的工作空間和會話。

### 媒體支援
支援發送和接收圖片、音頻和文檔，並可對媒體文件進行轉錄和處理。

### Web 控制界面
通過瀏覽器儀表板進行聊天、配置、會話管理和節點控制。

### 移動端節點
支援將 iOS 和 Android 設備配對為節點，實現相機拍攝、螢幕錄製、位置獲取等功能。

### 語音模式
通過 Voice Wake 和 Talk Mode 實現隨時隨地的語音交互，支援 macOS、iOS 和 Android。

### 自動化
支援定時任務（Cron Jobs）、Webhooks 和 Gmail Pub/Sub 觸發器，可實現複雜的工作流自動化。

---

## 工作原理

```
聊天應用 → Gateway → AI 代理
              ↓
           CLI / Web UI / macOS 應用 / 移動端節點
```

Gateway 是會話、路由和渠道連接的唯一數據源。

---

## 快速開始

### 第一步：安裝 OpenClaw

**macOS / Linux：**
```bash
curl -fsSL https://openclaw.ai/install.sh | bash
```

**Windows（PowerShell）：**
```powershell
iwr -useb https://openclaw.ai/install.ps1 | iex
```

**通過 npm 安裝：**
```bash
npm install -g openclaw@latest
```

### 第二步：運行初始化向導

```bash
openclaw onboard --install-daemon
```

向導會引導你完成認證、Gateway 設置和可選渠道的配置。

### 第三步：檢查 Gateway 狀態

```bash
openclaw gateway status
```

### 第四步：打開控制界面

```bash
openclaw dashboard
```

或直接在瀏覽器訪問：http://127.0.0.1:18789/

---

## 渠道配置

### WhatsApp

```bash
openclaw channels login
openclaw gateway --port 18789
```

通過 `channels.whatsapp.allowFrom` 設置白名單，控制誰可以向助手發送訊息。

### Telegram

在配置文件中添加：
```json5
{
  channels: {
    telegram: {
      botToken: "你的BotToken",
    },
  },
}
```

### Discord

```json5
{
  channels: {
    discord: {
      token: "你的Bot令牌",
    },
  },
}
```

---

## 配置說明

OpenClaw 使用 JSON5 格式的配置文件，預設路徑為 `~/.openclaw/openclaw.json`。

### 最小配置示例

```json5
{
  agents: {
    defaults: {
      workspace: "~/.openclaw/workspace",
    },
  },
  channels: {
    whatsapp: {
      allowFrom: ["+15555550123"],
    },
  },
}
```

### 常用配置項

- **agents.defaults.model**：設置主模型和備用模型
- **channels**：配置各個渠道的連接和策略
- **session**：控制會話範圍、重置策略
- **cron**：配置定時任務
- **hooks**：配置 Webhook 端點
- **browser**：配置瀏覽器控制

配置支援熱重載，修改後無需手動重啟 Gateway。

---

## 安全建議

- 將入站 DM 視為不可信輸入
- 使用配對（pairing）策略，未知發送者需要獲得批准才能使用助手
- 對於群組，建議啟用提及模式（requireMention）
- 使用沙盒模式隔離非主要會話
- 定期運行 `openclaw doctor` 檢查配置風險

---

## 相關資源

- 官方網站：https://openclaw.ai
- 官方文檔：https://docs.openclaw.ai
- GitHub：https://github.com/openclaw/openclaw
- Discord 社群：https://discord.gg/clawd
