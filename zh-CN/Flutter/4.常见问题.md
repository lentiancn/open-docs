# Flutter 常见问题

Flutter 开发中的常见问题解答。

## 安装问题

### Q: Flutter 下载失败？

**解决方案：**
1. 使用镜像源：
```bash
export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn
export PUB_CACHE=/path/to/cache
```

2. 使用代理
3. 手动下载 SDK 压缩包

### Q: flutter doctor 报错？

**解决方案：**
1. 检查 PATH 配置
2. 确认 Git 已安装
3. 运行 `flutter doctor -v` 查看详细信息

### Q: Android SDK 找不到？

**解决方案：**
```bash
# 配置 Android SDK 路径
flutter config --android-sdk /path/to/android-sdk

# 或设置环境变量
export ANDROID_SDK_ROOT=/path/to/android-sdk
```

### Q: macOS Xcode 命令行工具未安装？

**解决方案：**
```bash
xcode-select --install
```

## 开发问题

### Q: 热重载不生效？

**解决方案：**
1. 保存文件后等待热重载
2. 检查控制台是否有错误
3. 尝试完全重启应用

### Q: 构建 APK 失败？

**解决方案：**
1. 运行 `flutter clean`
2. 更新 Gradle
3. 检查网络连接

### Q: 模拟器启动失败？

**解决方案：**
1. 启用 CPU 虚拟化
2. 检查 HAXM 安装
3. 使用真机调试

### Q: Widget 不显示？

**解决方案：**
1. 检查 build() 方法返回值
2. 确认添加到了 MaterialApp
3. 检查布局约束

### Q: 状态不更新？

**解决方案：**
1. 确认使用了 setState()
2. 检查 StatefulWidget 是否正确
3. 确认使用了正确的 Context

### Q: 内存泄漏？

**解决方案：**
1. 正确 dispose 控制器
2. 使用 Provider 时正确清理
3. 避免在 build 中创建对象

## 性能问题

### Q: 应用卡顿？

**解决方案：**
1. 使用 const 构造函数
2. 避免不必要的 setState
3. 使用 ListView.builder
4. 优化图片加载

### Q: APK 体积太大？

**解决方案：**
1. 使用混淆
2. 移除调试符号
3. 使用 split-per-abi
4. 清理未使用的资源

### Q: 启动时间长？

**解决方案：**
1. 减少 init() 操作
2. 懒加载组件
3. 使用 Deferred Components

## 平台问题

### Q: iOS 构建失败？

**解决方案：**
1. 确认 Xcode 版本
2. 更新 CocoaPods
3. 检查签名证书

### Q: Web 构建失败？

**解决方案：**
1. 确认 Flutter Web 支持
2. 检查浏览器兼容性
3. 更新 Chrome

### Q: 平台通道不工作？

**解决方案：**
1. 检查方法名匹配
2. 确认返回值类型
3. 查看控制台错误

## 学习资源

### Q: 哪里学习 Flutter？

- 官方文档：https://flutter.cn/docs
- Flutter 中文网：https://flutter.cn
- GitHub：https://github.com/flutter/flutter

### Q: 遇到问题如何求助？

- Stack Overflow
- Flutter 社区
- GitHub Issues

## 工具配置

### Q: VS Code 配置？

1. 安装 Flutter 和 Dart 扩展
2. 配置 Dart Analysis
3. 启用热重载保存

### Q: Android Studio 配置？

1. 安装 Flutter 插件
2. 配置 Android SDK
3. 启用热重载
