# Python 安装指南

本指南将帮助你在各种操作系统上安装 Python 环境。

## 系统要求

| 操作系统 | 支持版本 |
|----------|----------|
| Windows | Windows 8/10/11 |
| macOS | macOS 10.9+ |
| Linux | Ubuntu 18.04+, Debian 10+, CentOS 7+ |

## Windows 安装

### 方法一：官方安装包（推荐）

1. 访问 Python 官网：https://www.python.org/downloads/
2. 下载最新的 Python 3.x 安装包（Windows installer）
3. 运行安装程序
4. **重要**：勾选 "Add Python to PATH"
5. 点击 "Install Now"
6. 安装完成后验证：
   ```powershell
   python --version
   pip --version
   ```

### 方法二：Microsoft Store

1. 打开 Microsoft Store
2. 搜索 "Python"
3. 选择 Python 3.x 版本
4. 点击 "获取"

### 方法三：使用 winget

```powershell
# 安装最新版本
winget install Python.Python.3.12

# 安装特定版本
winget install Python.Python.3.11
```

### 方法四：Anaconda（适合数据科学）

1. 下载 Anaconda：https://www.anaconda.com/download
2. 运行安装程序
3. 按提示完成安装

## macOS 安装

### 方法一：官方安装包

1. 下载 macOS 安装包：https://www.python.org/downloads/
2. 运行 pkg 安装程序

### 方法二：Homebrew（推荐）

```bash
# 安装 Homebrew（如果未安装）
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# 安装 Python
brew install python

# 验证安装
python3 --version
pip3 --version
```

### 方法三：pyenv 管理多版本

```bash
# 安装 pyenv
brew install pyenv

# 配置 shell 环境
echo 'eval "$(pyenv init -)"' >> ~/.zshrc
source ~/.zshrc

# 安装 Python
pyenv install 3.12.0

# 设置全局版本
pyenv global 3.12.0

# 验证
python --version
```

## Linux 安装

### Ubuntu/Debian

```bash
# 更新软件源
sudo apt update

# 安装 Python
sudo apt install python3

# 安装 pip
sudo apt install python3-pip

# 安装 venv（虚拟环境）
sudo apt install python3-venv

# 验证
python3 --version
pip3 --version
```

### CentOS/RHEL

```bash
# 安装 EPEL 仓库
sudo yum install epel-release

# 安装 Python
sudo yum install python312

# 或使用 alternatives
sudo alternatives --set python3 /usr/bin/python3.12
```

### Fedora

```bash
sudo dnf install python312
```

### 使用 pyenv（推荐）

```bash
# 安装依赖
sudo apt install -y make build-essential libssl-dev zlib1g-dev libbz2-dev \
    libreadline-dev libsqlite3-dev curl libncursesw5-dev xz-utils tk-dev libxml2-dev libffi-dev

# 安装 pyenv
curl https://pyenv.run | bash

# 配置
echo 'export PYENV_ROOT="$HOME/.pyenv"' >> ~/.bashrc
echo 'export PATH="$PYENV_ROOT/bin:$PATH"' >> ~/.bashrc
echo 'eval "$(pyenv init -)"' >> ~/.bashrc
source ~/.bashrc

# 安装 Python
pyenv install 3.12.0

# 设置版本
pyenv global 3.12.0
```

## 配置国内镜像（可选）

在中国大陆，建议配置 pip 镜像加速下载：

### 临时使用

```bash
pip install package -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### 永久配置

```bash
# 创建配置文件
mkdir -p ~/.pip

# 编辑配置文件
cat > ~/.pip/pip.conf <<EOF
[global]
index-url = https://pypi.tuna.tsinghua.edu.cn/simple
trusted-host = pypi.tuna.tsinghua.edu.cn
EOF
```

### 常用镜像源

- 清华：https://pypi.tuna.tsinghua.edu.cn/simple
- 阿里云：https://mirrors.aliyun.com/pypi/simple
- 豆瓣：https://pypi.doubanio.com/simple

## 虚拟环境

Python 推荐使用虚拟环境隔离项目依赖。

### 使用 venv（Python 3 内置）

```bash
# 创建虚拟环境
python -m venv myenv

# 激活虚拟环境
# Linux/macOS
source myenv/bin/activate

# Windows
myenv\Scripts\activate

# 安装依赖
pip install requests flask

# 退出虚拟环境
deactivate
```

### 使用 virtualenv

```bash
# 安装 virtualenv
pip install virtualenv

# 创建虚拟环境
virtualenv myenv

# 激活
source myenv/bin/activate  # Linux/macOS
myenv\Scripts\activate     # Windows
```

### 使用 pipenv（推荐）

```bash
# 安装 pipenv
pip install pipenv

# 创建项目
mkdir myproject
cd myproject

# 安装依赖（自动创建虚拟环境和 Pipfile）
pipenv install requests

# 进入虚拟环境
pipenv shell

# 安装开发依赖
pipenv install --dev pytest

# 退出
exit
```

### 使用 Poetry

```bash
# 安装 Poetry
pip install poetry

# 初始化项目
poetry new myproject

# 安装依赖
poetry install

# 添加依赖
poetry add requests

# 进入虚拟环境
poetry shell
```

## IDE 安装

### Visual Studio Code（推荐）

1. 下载：https://code.visualstudio.com/
2. 安装 Python 扩展：
   - 打开 VS Code
   - 搜索 "Python"（Microsoft）
   - 安装扩展

### PyCharm

- **PyCharm Community**（免费）：https://www.jetbrains.com/pycharm/download/
- **PyCharm Professional**（付费）：功能更全

### Jupyter Notebook

```bash
# 安装
pip install jupyterlab

# 启动
jupyter lab
```

## 验证安装

```bash
# 检查 Python 版本
python --version
# 输出：Python 3.12.0

# 检查 pip 版本
pip --version
# 输出：pip 23.2.1

# 检查是否可用
python -c "print('Hello, Python!')"
```

## 常见问题

### Q1: python 命令找不到

**解决方案：**
- Windows：检查是否勾选 "Add Python to PATH"
- Linux/macOS：使用 `python3` 代替 `python`

### Q2: pip 升级失败

**解决方案：**
```bash
python -m ensurepip --upgrade
python -m pip install --upgrade pip
```

### Q3: 安装包失败

**解决方案：**
1. 检查网络
2. 配置国内镜像
3. 使用代理

### Q4: 多个 Python 版本冲突

**解决方案：**
使用 pyenv（Linux/macOS）或 Python Launcher（Windows）

### Q5: Windows 下权限不足

**解决方案：**
1. 以管理员身份运行 PowerShell
2. 使用 `--user` 参数安装

## 卸载 Python

### Windows

1. 打开 "设置" → "应用"
2. 找到 Python
3. 点击 "卸载"

### macOS

```bash
# 使用 Homebrew
brew uninstall python
```

### Linux

```bash
sudo apt remove python3
sudo apt autoremove
```

## 下一步

- [Python 使用手册](./3.使用手册.md) - 学习 Python 语法和常用库
- [Python 常见问题](./4.常见问题.md) - 解答常见问题
- 官方文档：https://docs.python.org/zh-cn/3/
