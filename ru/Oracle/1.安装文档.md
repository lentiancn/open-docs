# Руководство по установке Oracle Database

Oracle Database — ведущая в отрасли система управления реляционными базами данных, разработанная Oracle. В этом руководстве описаны методы установки в различных средах.

## Информация о версиях

| Версия | Статус | Описание |
|------|------|------|
| Oracle 21c | ✅ Текущая | Последняя версия |
| Oracle 19c | ✅ LTS | Версия с долгосрочной поддержкой |
| Oracle 18c | ❌ Устаревшая | Поддержка прекращена |

> **Важно**: Это руководство в первую очередь ориентировано на **Oracle 19c/21c**.

## Системные требования

### Аппаратные требования

| Требование | Минимальная конфигурация | Рекомендуемая конфигурация |
|------|----------|----------|
| CPU | 2 ядра | 4+ ядра |
| Память | 2 ГБ | 8+ ГБ |
| Диск | 40 ГБ | 100+ ГБ |

### Поддерживаемые операционные системы

- **Linux**: Oracle Linux, RHEL, CentOS, SLES, Ubuntu
- **Windows**: Windows Server 2016+

## Методы установки

### Метод 1: Установка в Linux

#### 1. Подготовка системы

```bash
# Создание групп пользователей
groupadd oinstall
groupadd dba
groupadd oper
groupadd backupdba
groupadd dgdba
groupadd kmdba
groupadd racdba
groupadd asmdba
groupadd asmoper
groupadd asmadmin

# Создание пользователя Oracle
useradd -g oinstall -G dba,oper,backupdba,dgdba,kmdba,racdba,asmdba,asmoper,asmadmin oracle

# Установка пароля
passwd oracle

# Создание каталогов
mkdir -p /u01/app/oracle/product/19.3.0/dbhome_1
mkdir -p /u01/app/oraInventory
mkdir -p /u01/app/oracle

# Установка прав доступа
chown -R oracle:oinstall /u01
chmod -R 775 /u01
```

#### 2. Настройка параметров ядра

```bash
# /etc/sysctl.conf
cat >> /etc/sysctl.conf << EOF
kernel.shmmax = 68719476736
kernel.shmmni = 4096
kernel.shmall = 2097152
kernel.sem = 250 32000 100 128
fs.file-max = 6815744
net.ipv4.ip_local_port_range = 9000 65500
net.core.rmem_default = 262144
net.core.rmem_max = 4194304
net.core.wmem_default = 262144
net.core.wmem_max = 1048576
fs.aio-max-nr = 1048576
EOF

# Применение
sysctl -p

# /etc/security/limits.conf
cat >> /etc/security/limits.conf << EOF
oracle soft nproc 2047
oracle hard nproc 16384
oracle soft nofile 1024
oracle hard nofile 65536
oracle soft stack 10240
oracle hard stack 32768
EOF
```

#### 3. Установка зависимостей

```bash
# Oracle Linux
yum install -y libaio libaio-devel libXi libXtst libXext

# Ubuntu
apt-get install -y libaio1 libaio-dev libxi6 libxtst6 libxext6
```

#### 4. Запуск установщика

```bash
# Распаковка файлов установки
unzip -q LINUX.X64_193000_db_home.zip -d /u01/app/oracle/product/19.3.0/dbhome_1/

# Запуск от имени пользователя oracle
cd /u01/app/oracle/product/19.3.0/dbhome_1
./runInstaller
```

### Метод 2: Установка в Windows

1. Скачать установщик Oracle
2. Запустить setup.exe
3. Следовать мастеру установки:
   - Выбрать «Создать и настроить одноэкземплярную базу данных»
   - Выбрать «Класс рабочего стола» или «Класс сервера»
   - Установить пароли для sys и system
   - Завершить установку

### Метод 3: Использование Docker

```bash
# Загрузка образа
docker pull container-registry.oracle.com/database/express:21.3.0-xe

# Запуск контейнера
docker run -d \
  --name oracle \
  -p 1521:1521 \
  -e ORACLE_PWD=MyPassword123 \
  -v oracle_data:/opt/oracle/oradata \
  container-registry.oracle.com/database/express:21.3.0-xe
```

## Настройка после установки

### Переменные окружения

```bash
# ~/.bash_profile
export ORACLE_HOME=/u01/app/oracle/product/19.3.0/dbhome_1
export ORACLE_SID=orcl
export PATH=$ORACLE_HOME/bin:$PATH
export LD_LIBRARY_PATH=$ORACLE_HOME/lib:$LD_LIBRARY_PATH
```

### Запуск базы данных

```bash
# Запуск прослушивателя
lsnrctl start

# Запуск базы данных
sqlplus / as sysdba
STARTUP;
```

## Частые проблемы

### Недостаточно памяти?

```bash
# Проверка памяти
grep MemTotal /proc/meminfo

# Настройка swap
```

### Ошибка установки?

Проверить журналы:
```bash
cat /u01/app/oraInventory/logs/installActions*.log
```

## Ссылки

- [Официальная документация Oracle](https://docs.oracle.com/)
- [Скачать Oracle](https://www.oracle.com/database/technologies/)