# Guía de Instalación de Redis

Guía completa para instalar Redis en todas las plataformas principales.

---

## Tabla de Contenidos

- [¿Qué es Redis?](#qué-es-redis)
- [Linux](#linux)
  - [Ubuntu / Debian](#ubuntu--debian)
  - [CentOS / RHEL](#centos--rhel)
  - [Fedora](#fedora)
  - [Arch Linux](#arch-linux)
- [macOS](#macos)
  - [Homebrew (Recomendado)](#homebrew-recomendado)
  - [MacPorts](#macports)
- [Windows](#windows)
  - [WSL2 (Recomendado)](#wsl2-recomendado)
  - [Memurai (Alternativa Recomendada)](#memurai-alternativa-recomendada)
  - [Docker](#docker)
- [Verificación de Instalación](#verificación-de-instalación)
- [Configuración](#configuración)
- [Comandos Básicos de Redis CLI](#comandos-básicos-de-redis-cli)
- [Desinstalación](#desinstalación)
- [Próximos Pasos](#próximos-pasos)

---

## ¿Qué es Redis?

Redis es un almacén de estructuras de datos en memoria de código abierto, utilizado como base de datos, caché y broker de mensajes. Soporta varias estructuras de datos como cadenas, hashes, listas, conjuntos y conjuntos ordenados.

---

## Linux

### Ubuntu / Debian

#### Método 1: APT (Recomendado)

```bash
# Actualizar índice de paquetes
sudo apt update

# Instalar Redis
sudo apt install redis-server

# Iniciar Redis
sudo systemctl start redis-server

# Habilitar al inicio
sudo systemctl enable redis-server
```

#### Método 2: Compilar desde Código Fuente

```bash
# Instalar dependencias
sudo apt install build-essential tcl

# Descargar Redis
cd /tmp
wget https://github.com/redis/redis/archive/7.2.4.tar.gz
tar -zxvf 7.2.4.tar.gz
cd redis-7.2.4

# Compilar e instalar
make
sudo make install
```

### CentOS / RHEL

#### Usando YUM

```bash
# Instalar repositorio EPEL
sudo yum install epel-release

# Instalar Redis
sudo yum install redis

# Iniciar Redis
sudo systemctl start redis

# Habilitar al inicio
sudo systemctl enable redis
```

### Fedora

```bash
# Instalar Redis
sudo dnf install redis

# Iniciar Redis
sudo systemctl start redis
sudo systemctl enable redis
```

### Arch Linux

```bash
# Instalar Redis
sudo pacman -S redis

# Iniciar Redis
sudo systemctl start redis
sudo systemctl enable redis
```

---

## macOS

### Homebrew (Recomendado)

```bash
# Instalar Homebrew (si es necesario)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Instalar Redis
brew install redis

# Iniciar Redis
brew services start redis

# O ejecutar manualmente
redis-server
```

### MacPorts

```bash
sudo port install redis
```

---

## Windows

### WSL2 (Recomendado)

```bash
# Instalar Redis en WSL2 (Ubuntu)
sudo apt update
sudo apt install redis-server

# Iniciar Redis
sudo systemctl start redis
```

### Memurai (Alternativa Recomendada)

1. Descargar Memurai desde https://www.memurai.com/
2. Instalar y ejecutar como servicio de Windows

### Docker

```bash
# Ejecutar contenedor Redis
docker run -d --name redis -p 6379:6379 redis:latest

# Con almacenamiento persistente
docker run -d --name redis -p 6379:6379 -v redis-data:/data redis:latest redis-server --appendonly yes

# Con contraseña
docker run -d --name redis -p 6379:6379 -v redis-data:/data redis:latest redis-server --requirepass yourpassword
```

---

## Verificación de Instalación

```bash
# Verificar versión de Redis
redis-server --version

# Verificar estado de Redis
sudo systemctl status redis

# Conectar a Redis
redis-cli

# Probar conexión
redis-cli ping
# Debe devolver: PONG
```

---

## Configuración

### Archivo de Configuración Principal

- **Ubuntu/Debian**: `/etc/redis/redis.conf`
- **CentOS/RHEL**: `/etc/redis.conf`
- **macOS**: `/usr/local/etc/redis.conf` (Homebrew)
- **Docker**: `/etc/redis/redis.conf`

### Configuración Básica

```bash
# Enlazar a localhost (seguridad)
bind 127.0.0.1

# Establecer contraseña
requirepass yourpassword

# Habilitar persistencia
appendonly yes

# Establecer memoria máxima
maxmemory 256mb

# Establecer política de evicción
maxmemory-policy allkeys-lru
```

### Comandos Comunes

```bash
# Iniciar Redis
redis-server

# Iniciar con config personalizada
redis-server /etc/redis/redis.conf

# Conectar a Redis
redis-cli

# Conectar con contraseña
redis-cli -a yourpassword

# Detener Redis
sudo systemctl stop redis
```

---

## Comandos Básicos de Redis CLI

```bash
# Establecer clave
redis-cli SET mykey "Hello"

# Obtener clave
redis-cli GET mykey

# Ver todas las claves
redis-cli KEYS "*"

# Eliminar clave
redis-cli DEL mykey

# Establecer expiración (segundos)
redis-cli SETEX mykey 60 "value"

# Ver información del servidor
redis-cli INFO
```

---

## Desinstalación

### Ubuntu/Debian

```bash
sudo apt remove redis-server
```

### CentOS/RHEL

```bash
sudo yum remove redis
```

### macOS (Homebrew)

```bash
brew uninstall redis
```

---

## Próximos Pasos

- [Guía de Uso](./2.Guia-de-Uso.md)
- Leer la [documentación oficial de Redis](https://redis.io/docs/)
