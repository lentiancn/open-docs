# Nacos 常见问题

## 启动问题

### 问题：启动失败，端口被占用

**解决方案**：
```bash
# 查看端口占用
netstat -tlnp | grep 8848

# 停止占用进程或修改端口
# conf/application.properties
server.port=8849
```

### 问题：连接不上 Nacos

**排查步骤**：
1. 检查 Nacos 是否启动
2. 检查防火墙端口
3. 检查客户端配置地址是否正确

## 配置问题

### 问题：配置不生效

**排查步骤**：
1. 确认配置已发布成功
2. 检查 dataId 和 group 是否匹配
3. 检查配置文件格式（YAML/Properties）
4. 确认客户端正确指定了 dataId

### 问题：配置无法动态更新

**解决方案**：
1. 使用 @RefreshScope 注解
2. 确保开启了配置监听

```java
@RefreshScope
@RestController
public class ConfigController {
    // 配置会自动刷新
}
```

## 服务发现问题

### 问题：服务注册成功但无法发现

**解决方案**：
1. 检查客户端依赖版本兼容性
2. 检查 namespace 是否一致
3. 检查 group 是否正确

### 问题：临时实例被移除

临时实例默认心跳超时后自动删除，可改为永久实例：

```properties
spring.cloud.nacos.discovery.ephemeral=false
```

## 权限问题

### 问题：控制台无法登录

**解决方案**：
重置密码或创建新用户：

```bash
# 使用 nacos 自带工具
# 详情见官方文档
```
