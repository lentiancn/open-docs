# Angular 安装指南

本文档详细介绍如何在各种操作系统环境下安装和配置 Angular 开发环境。

---

## 目录

1. [Angular 简介](#angular-简介)
2. [环境要求](#环境要求)
3. [Windows 系统安装](#windows-系统安装)
4. [macOS 系统安装](#macos-系统安装)
5. [Linux 系统安装](#linux-系统安装)
6. [验证安装](#验证安装)
7. [创建第一个 Angular 项目](#创建第一个-angular-项目)
8. [Angular CLI 常用命令](#angular-cli-常用命令)
9. [版本说明](#版本说明)
10. [卸载 Angular](#卸载-angular)
11. [常见问题](#常见问题)

---

## Angular 简介

Angular 是由 Google 维护的一个开源 Web 应用框架，用于构建客户端应用。它基于 TypeScript，集成了模块化、依赖注入、指令系统、双向数据绑定等核心功能。

### Angular 版本历史

| 版本 | 发布时间 | 主要特性 |
|------|----------|----------|
| Angular 17 | 2023年11月 | 全新控制流语法、信号(Signals)、独立组件 |
| Angular 16 | 2023年5月 | 信号(Signals)、可拆卸渲染器 |
| Angular 15 | 2022年11月 | 独立组件 API 改进 |
| Angular 14 | 2022年6月 | 强类型表单、standalone 组件 |
| Angular 13 | 2021年11月 | View Engine 移除、IVY 完全默认 |

> **注意**：本指南以 Angular 17+ 为主要版本进行说明，同时保留对早期版本的兼容性说明。

---

## 环境要求

### 通用要求

- **Node.js**：18.10.0 或更高版本（推荐 LTS 版本）
- **npm**：9.0.0 或更高版本
- **文本编辑器**：推荐 Visual Studio Code（需安装 Angular Language Service 扩展）

### 各操作系统的具体要求

#### Windows

- Windows 10/11 (64位)
- 至少 4GB RAM
- 至少 10GB 可用磁盘空间

#### macOS

- macOS 10.15 (Catalina) 或更高版本
- 至少 4GB RAM

#### Linux

- Ubuntu 18.04 或更高版本 / Debian 10 或更高版本
- 至少 4GB RAM
- 支持的发行版：Ubuntu、Debian、Fedora、CentOS、RHEL

---

## Windows 系统安装

### 步骤一：安装 Node.js

1. 访问 Node.js 官方网站：https://nodejs.org/
2. 下载 Windows Installer (.msi) 格式的 LTS 版本
3. 运行安装程序，按照提示完成安装
4. 安装过程中勾选"Add to PATH"选项

### 步骤二：验证 Node.js 安装

打开命令提示符或 PowerShell，执行以下命令：

```cmd
node --version
npm --version
```

正常情况下会显示版本号，例如：
```
v20.11.0
10.2.4
```

### 步骤三：安装 Angular CLI

打开命令提示符或 PowerShell，执行以下命令：

```cmd
npm install -g @angular/cli
```

> **注意**：使用 `-g` 参数进行全局安装，可以在任何目录下使用 `ng` 命令。

### 步骤四：验证 Angular CLI 安装

```cmd
ng version
```

正常情况下会显示 Angular CLI 版本信息。

---

## macOS 系统安装

### 方案一：使用 Homebrew 安装

1. **安装 Homebrew**（如果尚未安装）：

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

2. **使用 Homebrew 安装 Node.js**：

```bash
brew install node
```

### 方案二：直接安装

1. 访问 Node.js 官方网站：https://nodejs.org/
2. 下载 macOS Installer (.pkg) 格式的 LTS 版本
3. 运行安装程序，按照提示完成安装

### 验证安装

打开终端，执行以下命令：

```bash
node --version
npm --version
```

### 安装 Angular CLI

```bash
npm install -g @angular/cli
```

### 验证 Angular CLI 安装

```bash
ng version
```

---

## Linux 系统安装

### Ubuntu / Debian

1. **更新软件包索引**：

```bash
sudo apt update
sudo apt upgrade
```

2. **安装 Node.js**：

```bash
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt-get install -y nodejs
```

3. **验证安装**：

```bash
node --version
npm --version
```

4. **安装 Angular CLI**：

```bash
sudo npm install -g @angular/cli
```

### Fedora / CentOS / RHEL

1. **安装 Node.js**：

```bash
# Fedora
curl -fsSL https://rpm.nodesource.com/setup_20.x | sudo bash -
sudo dnf install -y nodejs

# CentOS / RHEL
curl -fsSL https://rpm.nodesource.com/setup_20.x | sudo bash -
sudo yum install -y nodejs
```

2. **验证安装**：

```bash
node --version
npm --version
```

3. **安装 Angular CLI**：

```bash
sudo npm install -g @angular/cli
```

### 使用 nvm 管理 Node.js 版本（推荐）

nvm（Node Version Manager）允许在系统中安装和切换多个 Node.js 版本。

1. **安装 nvm**：

```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
```

2. **重新加载 shell 配置**：

```bash
source ~/.bashrc
```

3. **安装 Node.js LTS 版本**：

```bash
nvm install --lts
nvm use --lts
```

4. **安装 Angular CLI**：

```bash
npm install -g @angular/cli
```

---

## 验证安装

完成上述安装步骤后，验证 Angular 环境是否正确配置：

### 检查 Angular CLI 版本

```bash
ng version
```

正常输出示例：

```
Angular CLI: 17.3.0
Node: 20.11.0
Package Manager: npm 10.2.4
OS: darwin x64
```

### 检查 ng 命令可用性

```bash
ng help
```

如果显示 Angular CLI 命令帮助信息，说明安装成功。

---

## 创建第一个 Angular 项目

### 使用 Angular CLI 创建新项目

1. **打开终端或命令提示符**

2. **进入工作目录**：

```bash
cd your_workspace_directory
```

3. **创建新项目**：

```bash
ng new my-first-app
```

> **注意**：`my-first-app` 是项目名称，只能包含字母、数字、连字符，不能以数字开头。

4. **进入项目目录**：

```bash
cd my-first-app
```

5. **启动开发服务器**：

```bash
ng serve
```

6. **在浏览器中访问**：

打开浏览器，访问 http://localhost:4200

### 项目结构说明

```
my-first-app/
├── src/
│   ├── app/
│   │   ├── app.component.ts      # 根组件
│   │   ├── app.component.html    # 根组件模板
│   │   ├── app.component.css    # 根组件样式
│   │   └── app.config.ts        # 应用配置
│   ├── index.html               # 主 HTML 文件
│   ├── main.ts                  # 应用入口点
│   └── styles.css               # 全局样式
├── angular.json                  # Angular 配置文件
├── package.json                  # 项目依赖配置
└── tsconfig.json                 # TypeScript 配置文件
```

---

## Angular CLI 常用命令

### 创建内容

| 命令 | 说明 |
|------|------|
| `ng generate component <name>` | 创建组件 |
| `ng generate service <name>` | 创建服务 |
| `ng generate directive <name>` | 创建指令 |
| `ng generate pipe <name>` | 创建管道 |
| `ng generate class <name>` | 创建类 |
| `ng generate interface <name>` | 创建接口 |
| `ng generate module <name>` | 创建模块 |
| `ng generate guard <name>` | 创建守卫 |
| `ng generate resolver <name>` | 创建解析器 |

**简写形式**：
```bash
ng g c <name>        # 组件
ng g s <name>        # 服务
ng g d <name>        # 指令
ng g p <name>        # 管道
```

### 开发命令

| 命令 | 说明 |
|------|------|
| `ng serve` | 启动开发服务器 |
| `ng serve --port 4201` | 指定端口启动 |
| `ng serve --open` | 启动并自动打开浏览器 |
| `ng build` | 构建生产版本 |
| `ng build --configuration production` | 生产环境构建 |
| `ng test` | 运行单元测试 |
| `ng e2e` | 运行端到端测试 |
| `ng lint` | 代码检查 |

### 其他命令

| 命令 | 说明 |
|------|------|
| `ng update @angular/core` | 更新 Angular 核心包 |
| `ng add @angular/material` | 添加 Angular Material |
| `ng doc <keyword>` | 打开 Angular 文档 |
| `ng analytics disable` | 禁用 Angular CLI 遥测 |

---

## 版本说明

### Angular 版本选择

- **Angular 17+**：推荐用于新项目，包含全新控制流语法、信号(Signals)、独立组件等新特性
- **Angular 16**：如果需要使用成熟的信号(Signals) API
- **Angular 14-15**：如果需要稳定的独立组件支持

### 检查当前项目 Angular 版本

查看 `package.json` 文件：

```json
{
  "dependencies": {
    "@angular/core": "^17.0.0"
  }
}
```

### 升级 Angular 版本

1. **查看可用的 Angular 更新**：

```bash
ng update @angular/core @angular/cli
```

2. **执行更新**：

```bash
ng update @angular/core@17 @angular/cli@17
```

---

## 卸载 Angular

### 卸载 Angular CLI

```bash
npm uninstall -g @angular/cli
```

### 清理 npm 缓存

```bash
npm cache clean --force
```

### 删除项目

```bash
rm -rf my-angular-project
```

---

## 常见问题

### Q1: 安装 Angular CLI 时出现权限错误怎么办？

**解决方案**：
- Linux/macOS：使用 `sudo npm install -g @angular/cli`
- Windows：以管理员身份运行命令提示符

### Q2: `ng` 命令找不到怎么办？

**解决方案**：
1. 检查 npm 全局 bin 目录是否在 PATH 中
2. Windows：`npm config get prefix` 查看全局安装路径，确保该路径在系统 PATH 中
3. Linux/macOS：在 `~/.bashrc` 或 `~/.zshrc` 中添加：`export PATH="$PATH:$(npm config get prefix)/bin"`

### Q3: Node.js 版本不兼容怎么办？

**解决方案**：
- 使用 nvm 管理多个 Node.js 版本
- 查看 Node.js 和 Angular 版本兼容性：https://angular.io/guide/versions

### Q4: 安装依赖时出现 `optional`: true 是什么意思？

**说明**：
- `optional` 依赖表示该包是可选的
- 如果安装失败，不会影响项目整体运行
- 某些平台特定的功能可能需要这些可选依赖

### Q5: 如何查看 Angular 官方文档？

**访问**：
- 英文文档：https://angular.io/docs
- 中文文档：https://angular.cn/

### Q6: Angular 17 的新特性有哪些？

1. **全新控制流语法**：`@if`、`@for`、`@switch`、`@defer` 等
2. **信号(Signals)**：新的响应式编程范式
3. **独立组件(Standalone Components)**：不再需要 NgModule
4. **服务器端渲染(SSR)**：改进的 Hydration 支持

---

## 相关链接

- [Angular 官方网站](https://angular.io/)
- [Angular 中文文档](https://angular.cn/)
- [Angular CLI 官方文档](https://angular.io/cli)
- [Node.js 官方网站](https://nodejs.org/)
- [Visual Studio Code 下载](https://code.visualstudio.com/)
