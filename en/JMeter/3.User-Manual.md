# JMeter User Manual

## Getting Started with JMeter

### Creating Your First Test Plan

1. **Launch JMeter**: Start the JMeter GUI
2. **Add Thread Group**: Right-click on Test Plan → Add → Thread Group
3. **Configure Thread Group**:
   - Number of Threads: Number of users
   - Ramp-up Period: Time to start all users
   - Loop Count: Number of times to run the test
4. **Add Sampler**: Right-click on Thread Group → Add → HTTP Request
5. **Configure HTTP Request**: Enter server name, path, and parameters
6. **Add Listeners**: Right-click on Thread Group → Add → Listener (View Results Tree, Summary Report)
7. **Run Test**: Click the green "Start" button

## Core Components

### Thread Group
Thread Group simulates users. Key settings:
- **Number of Threads**: Concurrent users
- **Ramp-up Period**: Time to ramp up to full load
- **Loop Count**: How many times each user runs the test
- **Delay Thread Creation**: Add delay between thread creation

### Samplers
Samplers perform the actual requests:

| Sampler | Description |
|---------|-------------|
| HTTP Request | Test web servers |
| JDBC Request | Test databases |
| LDAP Request | Test LDAP servers |
| FTP Request | Test FTP servers |
| SOAP/XML-RPC | Test web services |
| TCP Sampler | Test TCP servers |

### Controllers
Controllers organize the test flow:

- **Simple Controller**: Groups requests
- **Loop Controller**: Repeats requests
- **If Controller**: Conditional execution
- **Transaction Controller**: Measures transaction time

### Listeners
Listeners display test results:
- **View Results Tree**: Detailed request/response
- **Summary Report**: Aggregate statistics
- **Graph Results**: Visual performance charts
- **Response Time Graph**: Response time visualization

### Timers
Timers add delays between requests:
- **Constant Timer**: Fixed delay
- **Gaussian Random Timer**: Random delay with Gaussian distribution
- **Uniform Random Timer**: Random delay within range

### Assertions
Assertions validate responses:
- **Response Assertion**: Check response content
- **Duration Assertion**: Check response time
- **Size Assertion**: Check response size
- **XML Assertion**: Validate XML format

## Advanced Features

### Data Extraction (Correlation)

Extract values from responses for dynamic data:

1. **JSON Extractor**: Extract JSON values
2. **XPath Extpler**: Extract XML values
3. **CSS/JQuery Extractor**: Extract HTML values
4. **Regular Expression Extractor**: Extract using regex

### Variables and Functions

Use variables to parameterize tests:
- `${variable_name}`: Reference variables
- `${__functionName(param)}`: Use built-in functions

Common functions:
- `__Random`: Generate random values
- `__time`: Current timestamp
- `__counter`: Incremental counter
- `__property`: Read properties

### Distributed Testing

Run tests across multiple machines:

1. **Configure Remote Servers**: Edit `remote_hosts` in jmeter.properties
2. **Start Remote Servers**: Run `jmeter-server` on each slave
3. **Run Test**: Click "Remote Start" in the GUI

```bash
# Start remote server
jmeter-server

# Run distributed test
jmeter -R server1,server2 -t testplan.jmx
```

### Property Files

Customize JMeter behavior:
- `jmeter.properties`: Main configuration
- `user.properties`: User-specific settings
- `system.properties`: System properties

## Best Practices

1. **Use CLI Mode for Load Testing**: GUI mode uses more memory
2. **Start with Low Load**: Verify test works before scaling up
3. **Use Assertions**: Validate responses to catch errors
4. **Extract Dynamic Data**: Handle session IDs, tokens, etc.
5. **Clean Up Resources**: Use tearDown Thread Group for cleanup
6. **Monitor System Resources**: CPU, memory, network
7. **Use Proper Naming**: Clear names for elements aid debugging
8. **Version Control**: Keep test plans in version control

## Performance Tuning

### JVM Settings
```bash
HEAP="-Xms1g -Xmx4g"
NEW="-XX:NewSize=512m -XX:MaxNewSize=1024m"
```

### JMeter Settings
```properties
# Increase thread limit
thread_nums_higher_limit=10000

# Disable verbose logging
log_level.jmeter=INFO
```

## Troubleshooting

### OutOfMemoryError
- Increase heap size
- Reduce number of threads
- Use CLI mode

### High Latency
- Check network conditions
- Optimize test plan
- Use distributed testing

### Script Errors
- Check View Results Tree for details
- Enable debug logging
- Verify assertions
