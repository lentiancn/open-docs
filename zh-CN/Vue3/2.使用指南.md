# Vue 3 使用指南

高效使用 Vue 3 的完整指南。

---

## 基本概念

### 什么是 Vue 3？

Vue 3 是构建用户界面的渐进式 JavaScript 框架的最新版本，引入了 Composition API。

### 创建应用

```javascript
import { createApp } from 'vue'
import App from './App.vue'

createApp(App).mount('#app')
```

### Options API vs Composition API

```javascript
// Options API
export default {
  data() {
    return { count: 0 }
  }
}

// Composition API（推荐）
import { ref } from 'vue'

export default {
  setup() {
    const count = ref(0)
    return { count }
  }
}
```

---

## Composition API

### ref

```javascript
import { ref } from 'vue'

const count = ref(0)
count.value++
```

### reactive

```javascript
import { reactive } from 'vue'

const state = reactive({
  count: 0,
  name: 'Vue'
})

state.count++
```

### computed

```javascript
import { ref, computed } from 'vue'

const count = ref(0)
const double = computed(() => count.value * 2)
```

### watch

```javascript
import { ref, watch } from 'vue'

const count = ref(0)

watch(count, (newVal, oldVal) => {
  console.log(`从 ${oldVal} 变为 ${newVal}`)
})
```

---

## 模板

### 模板语法

```html
<h1>{{ title }}</h1>
<button @click="handleClick">点击</button>
```

### 指令

| 指令 | 说明 |
|------|------|
| `v-if` | 条件渲染 |
| `v-for` | 列表渲染 |
| `v-bind` | 属性绑定 |
| `v-model` | 双向绑定 |

---

## 组件

### 创建组件

```vue
<script setup>
defineProps({
  title: String
})

defineEmits(['update'])
</script>

<template>
  <div>{{ title }}</div>
</template>
```

---

## 路由

### 安装

```bash
npm install vue-router@4
```

### 配置

```javascript
import { createRouter, createWebHistory } from 'vue-router'

const routes = [
  { path: '/', component: Home }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})
```

---

## Pinia

### 安装

```bash
npm install pinia
```

### 使用

```javascript
import { defineStore } from 'pinia'

export const useCounterStore = defineStore('counter', {
  state: () => ({ count: 0 }),
  actions: {
    increment() {
      this.count++
    }
  }
})
```

---

## 生命周期钩子

| 钩子 | 说明 |
|------|------|
| `onMounted` | 挂载后 |
| `onUpdated` | 更新后 |
| `onUnmounted` | 卸载后 |

---

## Composables

### 创建 Composable

```javascript
// useMouse.js
import { ref, onMounted, onUnmounted } from 'vue'

export function useMouse() {
  const x = ref(0)
  const y = ref(0)

  function update(event) {
    x.value = event.pageX
    y.value = event.pageY
  }

  onMounted(() => window.addEventListener('mousemove', update))
  onUnmounted(() => window.removeEventListener('mousemove', update))

  return { x, y }
}
```

---

## 下一步

- 探索 [Vue 3 组件](https://vuejs.org/guide/components/)
- 学习 [Pinia](https://pinia.vuejs.org/)
