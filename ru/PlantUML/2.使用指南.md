# Руководство по использованию PlantUML

В этом руководстве объясняется, как использовать PlantUML для создания различных UML-диаграмм.

## Быстрый старт

### Базовый синтаксис

```plantuml
@startuml
Alice -> Bob: Hello
@enduml
```

## Диаграмма последовательности

```plantuml
@startuml
actor Пользователь
participant "Фронтенд" as Front
participant "Бэкенд" as Back
database "База данных" as DB

Пользователь -> Front: Отправить запрос
Front -> Back: API-вызов
Back -> DB: Запрос данных
DB --> Back: Вернуть результат
Back --> Front: Ответ
Front --> Пользователь: Показать результат
@enduml
```

## Диаграмма классов

```plantuml
@startuml
class User {
  +id: int
  +username: string
  +email: string
  +login()
  +logout()
}

class Admin extends User {
  +manageUsers()
  +viewReports()
}

class Order {
  +id: int
  +total: decimal
  +createOrder()
  +cancelOrder()
}

User "1" -- "*" Order: places
@enduml
```

## Диаграмма вариантов использования

```plantuml
@startuml
left to right direction
actor Пользователь
rectangle Система {
  Пользователь -> (Вход)
  Пользователь -> (Просмотр товаров)
  Пользователь -> (Добавить в корзину)
  Пользователь -> (Оформить заказ)
  (Вход) .> (Просмотр товаров): extends
}
@enduml
```

## Диаграмма состояний

```plantuml
@startuml
[*] --> Ожидание оплаты
Ожидание оплаты --> Оплачено: Оплата успешна
Оплачено --> Отправлено: Отправка
Отправлено --> Доставлено: Доставка
Доставлено --> [*]
Ожидание оплаты --> Отменено: Пользователь отменил
Отменено --> [*]
@enduml
```

## Диаграмма активности

```plantuml
@startuml
start
:Начать покупки;
:Просмотр товаров;
if (Товар найден?) then (Да)
  :Добавить в корзину;
else (Нет)
  :Поиск товара;
endif
:Оформить заказ;
if (Оплата успешна?) then (Да)
  :Заказ оформлен;
else (Нет)
  :Оплата не удалась;
endif
stop
@enduml
```

## Диаграмма компонентов

```plantuml
@startuml
package "Фронтенд" {
  [Web App] as WA
  [Mobile App] as MA
}
package "Бэкенд" {
  [API Gateway] as API
  [Auth Service] as Auth
  [Order Service] as Order
}
package "Данные" {
  database "MySQL" as DB
  database "Redis" as Cache
}

WA --> API
MA --> API
API --> Auth
API --> Order
Order --> DB
Order --> Cache
@enduml
```

## Диаграмма развёртывания

```plantuml
@startuml
node "Устройство пользователя" as Client {
  [Браузер]
}
node "Балансировщик" as LB {
  [Nginx]
}
node "Сервер приложений" as App {
  [Tomcat 1]
  [Tomcat 2]
}
node "Сервер БД" as DB {
  [MySQL]
  [Redis]
}

Client --> LB
LB --> App
App --> DB
@enduml
```

## Временная диаграмма

```plantuml
@startuml
clock "Часы" as C with period 1000
binary "Синхронизация" as SY
binary "Данные" as DT

C is idle
SY is low
DT is low

@1000
SY is high
@1500
SY is low
@2000
DT is high
@3000
DT is low
@enduml
```

## Диаграмма Ганта

```plantuml
@startuml
[Проектирование] lasts 5 days
[Разработка] lasts 10 days
[Тестирование] lasts 5 days
[Релиз] lasts 3 days

[Проектирование] starts at 2024-01-01
[Разработка] starts at 2024-01-06
[Тестирование] starts at 2024-01-16
[Релиз] starts at 2024-01-21
@enduml
```

## Интеллект-карта

```plantuml
@startmindmap
* План проекта
** Анализ требований
*** Интервью с пользователями
*** Анализ конкурентов
** Фаза проектирования
*** UI-дизайн
*** Архитектурное проектирование
** Фаза разработки
*** Разработка фронтенда
*** Разработка бэкенда
** Фаза тестирования
*** Модульные тесты
*** Интеграционные тесты
** Фаза релиза
*** Развёртывание
*** Мониторинг
@endmindmap
```

## Частые команды

### Скрытие элементов

```plantuml
@startuml
hide footbox
actor A
participant B
A -> B: Сообщение
@enduml
```

### Настройка стилей

```plantuml
@startuml
skinparam backgroundColor #EEEBDC
skinparam handwritten true
skinparam actorStyle awesome

actor User
User -> (Вход)
@enduml
```

## Ресурсы

- [Официальный сайт PlantUML](https://plantuml.com/)
- [Справочник по синтаксису PlantUML](https://plantuml.com/sitemap-language-specification)
