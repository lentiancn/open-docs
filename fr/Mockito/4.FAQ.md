# Mockito FAQ

Questions fréquemment posées sur Mockito.

## Questions Générales

### Qu'est-ce que Mockito?

Mockito est un framework de mock open source pour Java. Il permet de créer et configurer des objets mock pour les tests unitaires.

### Pourquoi utiliser Mockito?

- Tests isolés sans dépendances externes
- Exécution plus rapide des tests
- API simple et intuitive
- Bien intégré avec JUnit

### Quelle est la différence entre Mock et Spy?

- **Mock** - Un objet complètement artificiel que vous contrôlez entièrement
- **Spy** - Un objet partiellement réel où vous remplacez uniquement des méthodes spécifiques

## Questions Techniques

### Comment mocker une classe finale?

Utilisez `mockito-inline`:

```groovy
testImplementation 'org.mockito:mockito-inline:5.8.0'
```

### Comment mocker des méthodes statiques?

Avec Mockito 3.7+, vous pouvez mocker des méthodes statiques:

```java
try (MockedStatic<Utilities> mocked = Mockito.mockStatic(Utilities.class)) {
    mocked.when(Utilities::getName).thenReturn("mocked");
    // Votre code de test
}
```

## Dépannage

### Erreur: "Cannot mock/spy class"

**Cause:** La classe est finale ou a des méthodes finales.

**Solution:**
- Utilisez `mockito-inline`
- Mockez une interface au lieu d'une classe

### Avertissement: "Unnecessary stubbing"

**Cause:** Un stub n'a pas été utilisé.

**Solution:**
- Supprimez le stub inutilisé
- Ou utilisez `lenient()`:

```java
lenient().when(mock.method()).thenReturn("value");
```

## Intégration

### Avec JUnit 4

```java
@RunWith(MockitoJUnitRunner.class)
public class MyTest {
    @Mock
    private List mockList;
}
```

### Avec JUnit 5

```java
@ExtendWith(MockitoExtension.class)
public class MyTest {
    @Mock
    private List mockList;
}
```

## Ressources

- Stack Overflow: https://stackoverflow.com/questions/tagged/mockito

## Licence

MIT License
