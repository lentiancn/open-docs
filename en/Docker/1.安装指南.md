# Docker Installation Guide

This guide provides detailed instructions for installing Docker Desktop and Docker Engine on various operating systems.

---

## Table of Contents

1. [Introduction to Docker](#introduction-to-docker)
2. [Version Information](#version-information)
3. [Windows Installation](#windows-installation)
4. [macOS Installation](#macos-installation)
5. [Linux Installation](#linux-installation)
6. [Docker Engine Installation (CLI Only)](#docker-engine-installation-cli-only)
7. [Verify Installation](#verify-installation)
8. [Uninstall Docker](#uninstall-docker)
9. [Frequently Asked Questions](#frequently-asked-questions)

---

## Introduction to Docker

Docker is an open-source containerization platform used for developing, deploying, and running applications. With Docker, you can package applications and their dependencies into lightweight, portable containers, enabling "build once, run anywhere."

### Docker Desktop vs Docker Engine

| Feature | Docker Desktop | Docker Engine |
|---------|----------------|---------------|
| Supported Platforms | Windows, macOS, Linux | Linux |
| GUI | Yes | No |
| Components | Docker Engine, Docker CLI, Docker Compose, Kubernetes, etc. | Docker Engine, Docker CLI |
| Commercial Use | Paid subscription required for >250 employees or >$10M revenue | Free (Open Source) |

> **Important Note**: Commercial use of Docker Desktop in larger enterprises (more than 250 employees OR more than $10 million USD in annual revenue) requires a paid subscription. Personal use, small businesses (fewer than 250 employees AND less than $10 million in annual revenue), education, and non-commercial open source projects are free.

---

## Version Information

Docker provides two update channels:

- **Stable**: Provides the latest general availability releases for general users
- **Test**: Provides pre-release versions for testing new features (use with caution)

---

## Windows Installation

### System Requirements

#### WSL 2 Backend (Recommended)

- Windows 10 64-bit: Enterprise, Pro, or Education version 22H2 (build 19045)
- Windows 11 64-bit: Enterprise, Pro, or Education version 23H2 (build 22631) or higher
- WSL version 2.1.5 or later
- 64-bit processor with Second Level Address Translation (SLAT)
- 4GB system RAM
- Hardware virtualization enabled in BIOS/UEFI

#### Hyper-V Backend

- Windows 10 64-bit: Enterprise, Pro, or Education version 22H2 (build 19045)
- Windows 11 64-bit: Enterprise, Pro, or Education version 23H2 (build 22631) or higher
- Hyper-V and Containers Windows features enabled
- 64-bit processor with Second Level Address Translation (SLAT)
- 4GB system RAM
- Hardware virtualization enabled in BIOS/UEFI

> **Note**: Docker Desktop is not supported on Windows Server (such as Windows Server 2019 or Windows Server 2022). To run containers on Windows Server, refer to Microsoft official documentation.

> **Important Note**: Running Windows containers requires Windows 10 or Windows 11 Professional or Enterprise edition. Windows Home or Education editions can only run Linux containers.

### Installation Steps

#### Interactive Installation

1. Download Docker Desktop Installer:
   - [Docker Desktop for Windows - x86_64](https://desktop.docker.com/win/main/amd64/Docker%20Desktop%20Installer.exe)
   - [Docker Desktop for Windows - Microsoft Store](https://apps.microsoft.com/detail/xp8cbj40xlbwkx?hl=en-GB&gl=GB)
   - [Docker Desktop for Windows - Arm (Preview)](https://desktop.docker.com/win/main/arm64/Docker%20Desktop%20Installer.exe)

2. Double-click `Docker Desktop Installer.exe` to run the installer. Default installation path is `C:\Program Files\Docker\Docker`.

3. On the configuration page, select **Use WSL 2 instead of Hyper-V** (or choose Hyper-V as needed).

4. Follow the installation wizard prompts to authorize the installer and proceed.

5. When installation is successful, select **Close** to complete.

6. Start Docker Desktop.

#### Command Line Installation

Run the following command in terminal to install Docker Desktop:

```powershell
Start-Process 'Docker Desktop Installer.exe' -Wait install
```

Or using CMD:

```cmd
start /w "" "Docker Desktop Installer.exe" install
```

### Administrator Privileges

If your user account is different from the administrator account, you need to add the user to the **docker-users** group to access features requiring higher privileges (like creating and managing Hyper-V VMs, or using Windows containers):

1. Run **Computer Management** as **Administrator**
2. Navigate to **Local Users and Groups** > **Groups** > **docker-users**
3. Right-click to add the user to the group
4. Sign out and sign back in for changes to take effect

### Start Docker Desktop

Docker Desktop does not start automatically after installation. To start:

1. Search for Docker, select **Docker Desktop** from search results
2. Accept the Docker Subscription Service Agreement
3. Docker Desktop will start

### WSL Verification

If you choose to use WSL, verify the WSL version:

```powershell
wsl --version
```

If version information doesn't appear, you're using an older WSL version and need to update:

```powershell
wsl --install
# or
wsl --update
```

### Installer Parameters

| Parameter | Description |
|-----------|-------------|
| `--quiet` | Suppress installation output |
| `--accept-license` | Accept Docker Subscription Service Agreement |
| `--installation-dir=<path>` | Change default installation location (default: `C:\Program Files\Docker\Docker`)|
| `--backend=<backend name>` | Select default backend: `hyper-v`, `windows`, or `wsl-2` (default) |
| `--always-run-service` | Auto-start `com.docker.service` after installation |
| `--allowed-org=<org name>` | Require user to sign in and join specified Docker Hub organization |
| `--admin-settings` | Auto-create admin-settings.json for enterprise management |
| `--no-windows-containers` | Disable Windows containers integration |
| `--proxy-http-mode=<mode>` | Set HTTP proxy mode: `system` (default) or `manual` |
| `--override-proxy-http=<URL>` | Set HTTP proxy URL |
| `--override-proxy-https=<URL>` | Set HTTPS proxy URL |
| `--hyper-v-default-data-root=<path>` | Specify Hyper-V VM disk default location |
| `--windows-containers-default-data-root=<path>` | Specify Windows containers default location |
| `--wsl-default-data-root=<path>` | Specify WSL distribution disk default location |

---

## macOS Installation

### System Requirements

#### Apple Silicon (M-series chips)

- macOS 11.0 (Big Sur) or later
- At least 4GB RAM
- macOS version supporting Virtualization.framework

#### Intel Chips

- macOS 10.15 (Catalina) or later
- At least 4GB RAM

### Installation Steps

1. Download Docker Desktop for Mac:
   - [Apple Silicon (M-series)](https://desktop.docker.com/mac/main/arm64/Docker.dmg)
   - [Intel chips](https://desktop.docker.com/mac/main/amd64/Docker.dmg)

2. Double-click `Docker.dmg` to open the installer.

3. Drag the Docker app to the Applications folder.

4. Launch Docker Desktop from Applications or Launchpad.

5. Accept the Docker Subscription Service Agreement.

6. Wait for Docker Desktop to initialize.

### Verify Installation

After successful installation, verify with:

```bash
docker --version
docker-compose --version
docker run hello-world
```

---

## Linux Installation

### Supported Distributions

| Distribution | x86_64/amd64 | arm64/aarch64 | arm (32-bit) | ppc64le | s390x |
|--------------|:------------:|:-------------:|:------------:|:--------:|:------:|
| Ubuntu | ✅ | ✅ | ✅ | ✅ | ✅ |
| Debian | ✅ | ✅ | ✅ | ✅ | |
| Fedora | ✅ | ✅ | | ✅ | |
| CentOS | ✅ | ✅ | | ✅ | |
| RHEL | ✅ | ✅ | | | ✅ |
| SLES | | | | | ❌ |
| Raspberry Pi OS | | | ⚠️ | | |

### Ubuntu Installation

#### Uninstall Old Versions

```bash
sudo apt-get remove docker docker-engine docker.io containerd runc
```

#### Prepare for Installation

1. Update apt package index:

```bash
sudo apt-get update
sudo apt-get install ca-certificates curl gnupg lsb-release
```

2. Add Docker's official GPG key:

```bash
sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg
```

3. Set up the stable repository:

```bash
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \
  $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
```

4. Update apt package index:

```bash
sudo apt-get update
```

#### Install Docker Engine

Install the latest version:

```bash
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

Install a specific version:

```bash
# View available versions
apt-cache madison docker-ce

# Install specific version (example: 5:24.0.7-1~ubuntu.22.04~jammy)
sudo apt-get install docker-ce=5:24.0.7-1~ubuntu.22.04~jammy docker-ce-cli=5:24.0.7-1~ubuntu.22.04~jammy containerd.io docker-buildx-plugin docker-compose-plugin
```

#### Verify Installation

```bash
sudo docker run hello-world
```

#### Run Docker as Non-Root User

By default, Docker daemon requires root privileges. To run Docker without sudo:

```bash
sudo usermod -aG docker $USER
```

Then log out and log back in.

### Debian Installation

#### Uninstall Old Versions

```bash
sudo apt-get remove docker docker-engine docker.io containerd runc
```

#### Prepare for Installation

1. Update apt package index:

```bash
sudo apt-get update
sudo apt-get install ca-certificates curl gnupg
```

2. Add Docker's official GPG key:

```bash
sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg
```

3. Set up the stable repository:

```bash
echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian \
  $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
```

4. Update apt package index:

```bash
sudo apt-get update
```

#### Install Docker Engine

```bash
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

### Fedora Installation

#### Uninstall Old Versions

```bash
sudo dnf remove docker docker-client docker-client-common docker-common docker-latest docker-latest-logrotate docker-logrotate docker-engine
```

#### Prepare for Installation

1. Install dnf-plugins-core:

```bash
sudo dnf -y install dnf-plugins-core
```

2. Set up the stable repository:

```bash
sudo dnf config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo
```

#### Install Docker Engine

```bash
sudo dnf install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

### CentOS Installation

#### Uninstall Old Versions

```bash
sudo yum remove docker docker-client docker-client-common docker-common docker-latest docker-latest-logrotate docker-logrotate docker-engine
```

#### Prepare for Installation

1. Install required tools:

```bash
sudo yum install -y yum-utils
```

2. Set up the stable repository:

```bash
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
```

#### Install Docker Engine

```bash
sudo yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

### Raspberry Pi OS Installation

For Raspberry Pi OS (32-bit), note:

- Only supports Raspberry Pi 3, 4, and 400
- Requires Raspbian Buster or later
- Recommend using 32-bit Docker Engine binaries

Installation steps are similar to Debian, but use Raspberry Pi specific repositories.

---

## Docker Engine Installation (CLI Only)

For Linux server environments, you can install Docker Engine (command-line version) without Docker Desktop.

### Binary Installation

Static binary installation for any Linux distribution:

1. Download Docker binaries:

```bash
# x86_64
curl -OL https://download.docker.com/linux/static/stable/x86_64/docker-24.0.7.tgz

# arm64
curl -OL https://download.docker.com/linux/static/stable/aarch64/docker-24.0.7.tgz

# armhf
curl -OL https://download.docker.com/linux/static/stable/armhf/docker-24.0.7.tgz
```

2. Extract:

```bash
tar xzf docker-24.0.7.tgz
```

3. Move binaries to PATH:

```bash
sudo cp docker/* /usr/local/bin/
sudo rm -rf docker
```

4. Start Docker daemon:

```bash
sudo dockerd &
```

5. Verify installation:

```bash
sudo docker run hello-world
```

---

## Verify Installation

Regardless of the operating system, verify Docker is working:

```bash
docker --version          # View Docker version
docker-compose --version  # View Docker Compose version
docker run hello-world    # Run test container
```

If you see "Hello from Docker!" message, installation is successful.

---

## Uninstall Docker

### Windows

1. Open Windows Settings > Apps
2. Find Docker Desktop
3. Click Uninstall

Or using command line:

```powershell
"Docker Desktop Installer.exe" uninstall
```

### macOS

1. Remove Docker app from Applications folder
2. Run the following to clean residual files:

```bash
rm -rf ~/Library/Containers/com.docker.docker
rm -rf ~/Library/Application\ Support/Docker
rm -rf ~/Library/Group\ Containers/group.com.docker
```

### Linux

#### Ubuntu/Debian

```bash
sudo apt-get remove docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
sudo rm -rf /var/lib/docker
sudo rm -rf /var/lib/containerd
```

#### Fedora/CentOS

```bash
sudo dnf remove docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
# or
sudo yum remove docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
sudo rm -rf /var/lib/docker
sudo rm -rf /var/lib/containerd
```

---

## Frequently Asked Questions

### Q1: Does Docker Desktop require payment?

Docker Desktop is free for:
- Small businesses (fewer than 250 employees AND less than $10 million in annual revenue)
- Personal use
- Education
- Non-commercial open source projects

Commercial use (more than 250 employees OR more than $10 million in annual revenue) requires a paid subscription.

### Q2: How to switch between Windows and Linux containers in Docker Desktop?

From Docker Desktop menu, select:
- **Switch to Windows containers** - Use Windows containers
- **Switch to Linux containers** - Use Linux containers (default)

### Q3: Which Windows versions does Docker Desktop support?

Docker Desktop only supports Windows versions still within Microsoft's servicing timeline:
- Windows 10 Enterprise, Pro, or Education 22H2
- Windows 11 Enterprise, Pro, or Education 23H2

Windows Home (Linux containers only), Windows Server and other server versions are not supported.

### Q4: How to run Docker Desktop without administrator privileges?

IT administrators can use the `--always-run-service` parameter to install Docker Desktop, allowing users to run without administrator privileges.

### Q5: Is Docker Desktop supported in virtual machines (VM/VDI)?

Docker Business customers are supported to run Docker Desktop in VMware ESXi or Azure VMs. Requires enabling nested virtualization on the hypervisor first.

### Q6: How to configure proxy for Docker Desktop?

Configure proxy via:
1. Docker Desktop Settings > Resources > Proxy
2. Using installation parameters: `--proxy-http-mode=manual --override-proxy-http=<URL>`

---

## Related Links

- [Docker Official Documentation](https://docs.docker.com/)
- [Docker Desktop Download](https://www.docker.com/products/docker-desktop/)
- [Docker Hub](https://hub.docker.com/)
- [Docker Subscriptions and Pricing](https://www.docker.com/pricing/)
- [Docker Subscription Service Agreement](https://www.docker.com/legal/docker-subscription-service-agreement/)
