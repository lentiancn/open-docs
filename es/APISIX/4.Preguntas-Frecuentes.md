# APISIX Preguntas Frecuentes

Preguntas y respuestas comunes.

## Instalación

### Q: ¿El contenedor Docker no inicia?

**Soluciones:**
1. Confirmar que Docker está instalado y ejecutándose
```bash
docker --version
docker ps
```
2. Verificar si los puertos están en uso
```bash
netstat -tlnp | grep 9080
```
3. Ver logs del contenedor
```bash
docker logs apisix
docker logs etcd
```

### Q: Error de conexión etcd?

**Soluciones:**
1. Confirmar que etcd está ejecutándose
```bash
docker ps | grep etcd
```
2. Verificar que etcd está escuchando en el puerto correcto
3. Revisar dirección de etcd en configuración

### Q: ¿Puerto en uso?

**Soluciones:**
1. Identificar proceso usando el puerto
```bash
lsof -i:9080
```
2. Terminar proceso o cambiar puerto de APISIX
```yaml
apisix:
  node_listen: 9081
```

## Uso

### Q: ¿Ruta no funciona?

**Soluciones:**
1. Verificar formato de configuración de ruta
2. Confirmar que ruta fue creada correctamente
3. Revisar logs de error
```bash
tail -f logs/error.log
```

### Q: ¿Plugin no funciona?

**Soluciones:**
1. Confirmar plugin está habilitado
2. Verificar formato de configuración
3. Confirmar dependencias del plugin

### Q: ¿Servicio upstream no accesible?

**Soluciones:**
1. Confirmar servicio upstream ejecutándose
2. Verificar conectividad de red
3. Revisar reglas de firewall

## Configuración

### Q: ¿Cómo configurar certificados SSL/TLS?

**Soluciones:**
1. Subir certificado SSL
```bash
curl -X PUT http://127.0.0.1:9180/apisix/admin/ssls/1 \
  -H "X-API-KEY: 123456" \
  -d '{"cert":"contenido-certificado","key":"clave-privada","sni":"example.com"}'
```

### Q: ¿Cómo configurar CORS?

**Soluciones:**
Usar plugin cors:

```bash
curl -X PUT http://127.0.0.1:9180/apisix/admin/routes/1 \
  -H "X-API-KEY: 123456" \
  -d '{"uri":"/api/*","plugins":{"cors":{}}}'
```

## Rendimiento

### Q: ¿Uso de memoria aumentando?

**Soluciones:**
1. Verificar memory leaks en plugins
2. Limitar tamaño de buffer

### Q: ¿CPU alto?

**Soluciones:**
1. Verificar volumen de solicitudes
2. Optimizar reglas de regex
3. Reducir número de plugins

## Seguridad

### Q: ¿Cómo proteger Admin API?

**Soluciones:**
1. Usar claves fuertes
2. Limitar IPs de acceso
3. Habilitar HTTPS

### Q: ¿Cómo prevenir ataques?

**Soluciones:**
1. Habilitar plugin de rate limiting
2. Habilitar lista negra de IPs
3. Habilitar firewall
4. Monitorear solicitudes anómalas

## Recursos

### Q: ¿Dónde aprender APISIX?

- Documentación: https://apisix.apache.org/docs
- GitHub: https://github.com/apache/apisix
- Foro: https://apisix.discourse.group
