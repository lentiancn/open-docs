# Docker Installation Guide

Comprehensive guide for installing Docker on all major platforms.

---

## Table of Contents

- [Linux](#linux)
  - [Ubuntu/Debian](#ubuntu--debian)
  - [CentOS/RHEL](#centos--rhel)
  - [Fedora](#fedora)
  - [Arch Linux](#arch-linux)
- [macOS](#macos)
  - [Intel Macs](#intel-macs)
  - [Apple Silicon (M1/M2/M3)](#apple-silicon-m1m2m3)
- [Windows](#windows)
  - [WSL2 (Recommended)](#wsl2-recommended)
  - [Docker Desktop](#docker-desktop)
- [Verification](#verification)
- [Post-Installation](#post-installation)

---

## Linux

### Ubuntu / Debian

```bash
# Update package index
sudo apt update

# Install dependencies
sudo apt install -y ca-certificates curl gnupg lsb-release

# Add Docker's official GPG key
sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg

# Add Docker repository
echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# Install Docker
sudo apt update
sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

# Start and enable Docker
sudo systemctl start docker
sudo systemctl enable docker

# Run Docker without sudo
sudo usermod -aG docker $USER
```

### CentOS / RHEL

```bash
# Install dependencies
sudo yum install -y yum-utils

# Add Docker repository
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo

# Install Docker
sudo yum install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

# Start and enable Docker
sudo systemctl start docker
sudo systemctl enable docker

# Run Docker without sudo
sudo usermod -aG docker $USER
```

### Fedora

```bash
# Install dependencies
sudo dnf -y install dnf-plugins-core

# Add Docker repository
sudo dnf config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo

# Install Docker
sudo dnf install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

# Start and enable Docker
sudo systemctl start docker
sudo systemctl enable docker
```

### Arch Linux

```bash
# Install Docker
sudo pacman -S docker

# Start and enable Docker
sudo systemctl start docker
sudo systemctl enable docker
```

---

## macOS

### Intel Macs

```bash
# Option 1: Homebrew
brew install --cask docker

# Option 2: Manual download
# Download from https://docs.docker.com/desktop/setup/install/mac-install/
```

### Apple Silicon (M1/M2/M3)

```bash
# Homebrew (automatically installs ARM version)
brew install --cask docker

# Or download from Docker website
# https://docs.docker.com/desktop/setup/install/mac-install/
```

**Note:** Docker Desktop for Apple Silicon includes Rosetta 2 for x86_64 image compatibility.

---

## Windows

### WSL2 (Recommended)

```powershell
# 1. Enable WSL2
wsl --install

# 2. Restart computer

# 3. Install Docker in WSL2
sudo apt update
sudo apt install -y docker.io
sudo service docker start
sudo usermod -aG docker $USER

# 4. Or use Docker Desktop (see below)
```

### Docker Desktop

1. **Download**: [Docker Desktop for Windows](https://www.docker.com/products/docker-desktop)
2. **Install**: Run the installer
3. **WSL2**: Enable WSL2 when prompted (recommended)
4. **Start**: Launch Docker Desktop

**Requirements:**
- Windows 10/11 64-bit
- WSL2 enabled
- Hyper-V (for Windows 10)

---

## Verification

```bash
# Check Docker version
docker --version

# Check Docker Compose version
docker-compose --version
# or
docker compose version

# Run test container
docker run hello-world

# Run interactive container
docker run -it ubuntu bash
```

---

## Post-Installation

### Linux: Manage Docker as Non-Root User

```bash
# Create docker group
sudo groupadd docker

# Add user to docker group
sudo usermod -aG docker $USER

# Log out and log back in for changes to take effect
```

### Docker Compose (Standalone)

```bash
# Linux/macOS
sudo curl -L "https://github.com/docker/compose/releases/download/v2.24.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# Verify
docker-compose --version
```

### Configure Docker Startup

```bash
# Enable Docker to start on boot
sudo systemctl enable docker

# Disable Docker from starting on boot
sudo systemctl disable docker
```

---

## Uninstall Docker

### Ubuntu/Debian

```bash
sudo apt purge -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
sudo rm -rf /var/lib/docker
sudo rm -rf /var/lib/containerd
```

### macOS

```bash
# If installed via Homebrew
brew uninstall --cask docker

# If installed manually
# Drag Docker.app from Applications to Trash
```

### Windows

```bash
# Open Docker Desktop → Settings → Troubleshoot → Clean / Purge data
# Or use Programs and Features to uninstall
```

---

## Next Steps

- [Usage Guide](./2.Usage-Guide.md)
- Read the [official Docker documentation](https://docs.docker.com/)
