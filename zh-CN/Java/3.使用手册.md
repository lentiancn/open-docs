# Java 使用手册

本手册介绍 Java 的核心语法和实际使用方法。

## 基础语法

### 变量和数据类型

```java
// 基本数据类型
int age = 25;              // 整数
double price = 19.99;      // 浮点数
char grade = 'A';          // 字符
boolean isActive = true;   // 布尔值

// 引用类型
String name = "Tom";       // 字符串
Integer count = 10;        // 包装类

// 常量
final double PI = 3.14159;

// 类型转换
int num = 100;
double d = num;            // 自动转换
int n = (int) d;          // 强制转换
```

### 运算符

```java
// 算术运算符
int a = 10, b = 3;
System.out.println(a + b);  // 13
System.out.println(a - b);  // 7
System.out.println(a * b);  // 30
System.out.println(a / b);  // 3
System.out.println(a % b);  // 1

// 自增自减
int i = 5;
System.out.println(++i);    // 6 先加后用
System.out.println(i++);    // 6 先用后加

// 比较运算符
System.out.println(a == b); // false
System.out.println(a != b); // true
System.out.println(a > b);  // true

// 逻辑运算符
boolean x = true, y = false;
System.out.println(x && y); // false
System.out.println(x || y); // true
System.out.println(!x);     // false
```

### 流程控制

```java
// if-else
if (age >= 18) {
    System.out.println("成年人");
} else if (age >= 6) {
    System.out.println("未成年人");
} else {
    System.out.println("儿童");
}

// switch
int day = 3;
switch (day) {
    case 1: System.out.println("周一"); break;
    case 2: System.out.println("周二"); break;
    default: System.out.println("其他");
}

// for 循环
for (int i = 0; i < 5; i++) {
    System.out.println(i);
}

// 增强 for 循环
int[] numbers = {1, 2, 3, 4, 5};
for (int num : numbers) {
    System.out.println(num);
}

// while 循环
int count = 0;
while (count < 5) {
    System.out.println(count);
    count++;
}

// do-while
do {
    System.out.println(count);
} while (count < 0);
```

## 数组

```java
// 声明和初始化
int[] arr = new int[5];
int[] arr2 = {1, 2, 3, 4, 5};

// 访问元素
arr[0] = 10;
System.out.println(arr[0]);

// 数组长度
System.out.println(arr.length);

// 遍历
for (int i = 0; i < arr2.length; i++) {
    System.out.println(arr2[i]);
}

// 增强 for
for (int num : arr2) {
    System.out.println(num);
}
```

## 方法

```java
public class MethodExample {
    // 基本方法
    public static int add(int a, int b) {
        return a + b;
    }
    
    // 重载方法
    public static double add(double a, double b) {
        return a + b;
    }
    
    // 可变参数
    public static int sum(int... numbers) {
        int total = 0;
        for (int num : numbers) {
            total += num;
        }
        return total;
    }
    
    public static void main(String[] args) {
        System.out.println(add(1, 2));           // 3
        System.out.println(add(1.5, 2.5));      // 4.0
        System.out.println(sum(1, 2, 3, 4, 5)); // 15
    }
}
```

## 面向对象

### 类和对象

```java
// 定义类
public class Person {
    // 属性
    private String name;
    private int age;
    
    // 构造函数
    public Person() {}
    
    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }
    
    // 方法
    public void sayHello() {
        System.out.println("Hello, I'm " + name);
    }
    
    // Getter 和 Setter
    public String getName() {
        return name;
    }
    
    public void setName(String name) {
        this.name = name;
    }
    
    public int getAge() {
        return age;
    }
    
    public void setAge(int age) {
        this.age = age;
    }
}

// 使用类
public class Main {
    public static void main(String[] args) {
        Person person = new Person("Tom", 25);
        person.sayHello();
    }
}
```

### 继承

```java
// 父类
public class Animal {
    protected String name;
    
    public Animal(String name) {
        this.name = name;
    }
    
    public void eat() {
        System.out.println(name + " is eating");
    }
}

// 子类
public class Dog extends Animal {
    private String breed;
    
    public Dog(String name, String breed) {
        super(name);
        this.breed = breed;
    }
    
    public void bark() {
        System.out.println(name + " is barking");
    }
}
```

### 接口

```java
// 定义接口
public interface Drawable {
    void draw();
    
    default void display() {
        System.out.println("Displaying...");
    }
}

// 实现接口
public class Circle implements Drawable {
    private double radius;
    
    public Circle(double radius) {
        this.radius = radius;
    }
    
    @Override
    public void draw() {
        System.out.println("Drawing circle with radius " + radius);
    }
}
```

### 多态

```java
public class PolymorphismDemo {
    public static void main(String[] args) {
        // 父类引用指向子类对象
        Animal animal = new Dog("Buddy", "Golden Retriever");
        animal.eat();  // 调用子类方法
        // animal.bark(); // 编译错误
        
        // 向下转型
        if (animal instanceof Dog) {
            Dog dog = (Dog) animal;
            dog.bark();
        }
    }
}
```

## 集合框架

### List

```java
import java.util.*;

// ArrayList
List<String> list = new ArrayList<>();
list.add("Apple");
list.add("Banana");
list.add(0, "Orange");

System.out.println(list.get(1));
System.out.println(list.size());

// 遍历
for (String item : list) {
    System.out.println(item);
}

list.remove("Apple");
list.remove(0);
```

### Map

```java
import java.util.*;

// HashMap
Map<String, Integer> map = new HashMap<>();
map.put("Apple", 10);
map.put("Banana", 20);
map.put("Orange", 15);

System.out.println(map.get("Apple"));
System.out.println(map.containsKey("Banana"));

// 遍历
for (Map.Entry<String, Integer> entry : map.entrySet()) {
    System.out.println(entry.getKey() + ": " + entry.getValue());
}
```

### Set

```java
import java.util.*;

// HashSet
Set<String> set = new HashSet<>();
set.add("Apple");
set.add("Banana");
set.add("Apple"); // 重复，不会添加

System.out.println(set.size()); // 2
```

## 异常处理

```java
public class ExceptionExample {
    public static void main(String[] args) {
        try {
            int result = divide(10, 0);
            System.out.println(result);
        } catch (ArithmeticException e) {
            System.out.println("除数不能为零: " + e.getMessage());
        } finally {
            System.out.println("总是执行");
        }
    }
    
    public static int divide(int a, int b) throws ArithmeticException {
        if (b == 0) {
            throw new ArithmeticException("除数不能为零");
        }
        return a / b;
    }
}
```

## 泛型

```java
// 泛型类
public class Box<T> {
    private T content;
    
    public void set(T content) {
        this.content = content;
    }
    
    public T get() {
        return content;
    }
}

// 使用
Box<String> stringBox = new Box<>();
stringBox.set("Hello");
String str = stringBox.get();

// 泛型方法
public static <T> void printArray(T[] array) {
    for (T item : array) {
        System.out.println(item);
    }
}
```

## Lambda 表达式

```java
import java.util.*;

// 基本语法
Runnable r = () -> System.out.println("Hello");

// 带参数
Comparator<Integer> comp = (a, b) -> b - a;

// 在集合中使用
List<String> names = Arrays.asList("Tom", "Jerry", "Spike");
names.forEach(name -> System.out.println(name));

// 方法引用
names.forEach(System.out::println);
```

## Stream API

```java
import java.util.*;
import java.stream.*;

public class StreamExample {
    public static void main(String[] args) {
        List<Integer> numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
        
        // 过滤
        List<Integer> evens = numbers.stream()
            .filter(n -> n % 2 == 0)
            .collect(Collectors.toList());
        
        // 映射
        List<Integer> squares = numbers.stream()
            .map(n -> n * n)
            .collect(Collectors.toList());
        
        // 归约
        int sum = numbers.stream()
            .reduce(0, Integer::sum);
        
        // 统计
        IntSummaryStatistics stats = numbers.stream()
            .mapToInt(Integer::intValue)
            .summaryStatistics();
        
        System.out.println("Sum: " + stats.getSum());
        System.out.println("Average: " + stats.getAverage());
        System.out.println("Max: " + stats.getMax());
    }
}
```

## 总结

本手册涵盖了 Java 开发的核心知识点：

- **基础语法**：变量、运算符、流程控制
- **数组**：声明、遍历、操作
- **方法**：定义、重载、可变参数
- **面向对象**：类、对象、继承、接口、多态
- **集合**：List、Map、Set
- **异常**：try-catch-finally、throws
- **泛型**：泛型类、泛型方法
- **Lambda**：表达式、方法引用
- **Stream**：过滤、映射、归约、统计

掌握这些内容后，你就可以开始 Java 项目开发了。
