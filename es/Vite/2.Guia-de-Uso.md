# Vite Guía de Uso

Esta guía proporciona una guía completa para usar Vite en tu desarrollo frontend.

## Conceptos Básicos

### Módulos ES Nativos

Vite utiliza módulos ES nativos en el navegador sin bundling durante el desarrollo:
- No hay espera de bundling al iniciar
- Actualizaciones HMR rápidas
- Compilación bajo demanda

### Pre-bundling de Dependencias

Vite usa esbuild para pre-bundlear dependencias:
- Convierte CommonJS a ESM
- Reduce el número de solicitudes
- Acelera el inicio

## Gestión de Archivos

### Punto de Entrada HTML

Vite usa `index.html` como punto de entrada:

```html
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mi App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
```

### Import JavaScript

```javascript
import { createApp } from 'vue'
import App from './App.vue'
import './style.css'

createApp(App).mount('#app')
```

### Import CSS

```javascript
import './style.css'
```

o con CSS Modules:

```javascript
import styles from './style.module.css'
```

### Assets Estáticos

Assets en la carpeta `public` se sirven sin cambios:

```
public/
└── logo.png
```

Acceder en código:

```javascript
const logo = '/logo.png'
```

## Características

### Sustitución Global

Importar módulos con aliases:

```javascript
import '@' from '@/components/Header'
```

Configuración:

```javascript
export default defineConfig({
  resolve: {
    alias: {
      '@': '/src'
    }
  }
})
```

### Lazy Loading

Code splitting basado en rutas:

```javascript
const Home = () => import('./views/Home.vue')
const About = () => import('./views/About.vue')
```

### Import JSON

```javascript
import data from './data.json'
```

## Desarrollo

### Hot Module Replacement

Vite ofrece HMR instantáneo:
- Mantiene estado de la aplicación durante actualizaciones
- Actualiza solo módulos modificados
- Funciona con todos los frameworks

### Manejo de Errores

Los errores se muestran en el navegador:

```
Error: Cannot find module '@/components/Header'
```

### Servidor de Desarrollo

```bash
# Puerto predeterminado (5173)
npm run dev

# Puerto específico
npm run dev -- --port 3000

# No abrir automáticamente navegador
npm run dev -- --open false

# Host específico
npm run dev -- --host 0.0.0.0
```

## Producción

### Optimización de Build

Vite optimiza automáticamente:
- Tree Shaking
- Code Splitting
- Minificación

### Estrategia de Chunking Personalizada

```javascript
export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom'],
          utils: ['lodash']
        }
      }
    }
  }
})
```

### Manejo de Assets

```javascript
export default defineConfig({
  build: {
    assetsInlineLimit: 4096,
    cssCodeSplit: true,
    sourcemap: false
  }
})
```

## Plugins

### Plugins Oficiales

| Plugin | Descripción |
|--------|-------------|
| @vitejs/plugin-vue | Soporte Vue 3 |
| @vitejs/plugin-react | Soporte React |
| @vitejs/plugin-legacy | Soporte Navegadores Legacy |

### Plugins de Terceros

- vite-plugin-pwa
- vite-plugin-md
- vite-plugin-pages

## Mejores Prácticas

1. **Imports Relativos**: Usa imports relativos para mejor caching
2. **Resolve Aliases**: Configura aliases para paths más cortos
3. **Lazy Loading**: Usa lazy loading para rutas
4. **Variables de Entorno**: Usa variables de entorno para configuración
5. **Optimización**: Configura opciones de build para producción
