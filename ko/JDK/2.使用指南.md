# JDK 사용 가이드

이 가이드에서는 JDK를 사용하여 Java 개발하는 방법을 설명합니다.

## 빠른 시작

### 컴파일 및 실행

```bash
# 컴파일
javac HelloWorld.java

# 실행
java HelloWorld
```

### 단일 파일 실행 (JDK 11+)

```bash
# 직접 실행
java HelloWorld.java
```

## 기본 명령어

### javac - Java 컴파일러

```bash
# 단일 파일 컴파일
javac MyClass.java

# 여러 파일 컴파일
javac *.java

# 특정 인코딩으로 컴파일
javac -encoding UTF-8 MyClass.java

# 특정 디렉터리로 컴파일
javac -d bin MyClass.java

# 모든 경고 표시
javac -Xlint MyClass.java
```

### java - Java 런처

```bash
# 클래스 실행
java MyClass

# 인자와 함께 실행
java MyClass arg1 arg2

# 클래스패스 설정
java -classpath "lib/*:." MyClass

# 메모리 설정
java -Xmx2g -Xms512m MyClass
```

### jar - Java 아카이브

```bash
# JAR 생성
jar cf myapp.jar -C bin .

# 매니페스트와 JAR 생성
jar cfm myapp.jar manifest.txt -C bin .

# JAR 추출
jar xf myapp.jar

# JAR 내용 보기
jar tf myapp.jar
```

### javadoc - 문서 생성기

```bash
# 문서 생성
javadoc -d docs -sourcepath src *.java

# 사용자 정의 제목으로 문서 생성
javadoc -d docs -header "My App" *.java
```

### jdb - Java 디버거

```bash
# 디버거 시작
jdb MyClass

# 중단점 설정
stop at MyClass:10

# 실행
run

# 단계별 실행
next
step
```

## JVM 옵션

### 메모리 옵션

```bash
# 힙 크기
-Xmx2g        # 최대 힙
-Xms512m      # 초기 힙
-Xss256k      # 스택 크기

# 가비지 컬렉션
-XX:+UseG1GC  # G1 가비지 컬렉터
-XX:+UseParallelGC # 병렬 GC
```

### 성능 옵션

```bash
# JIT 컴파일러
-XX:+TieredCompilation

# 클래스 데이터 공유
-Xshare:on

# 문자열 중복 제거
-XX:+UseStringDeduplication
```

## IDE 통합

### IntelliJ IDEA

1. File → Project Structure → SDKs
2. JDK 설치 경로 추가
3. Project SDK 설정

### VS Code

1. "Extension Pack for Java" 설치
2. 설정에서 JAVA_HOME 구성

### Eclipse

1. Window → Preferences → Java → Installed JREs
2. Standard VM 추가
3. 기본으로 설정

## 빌드 도구

### Maven

```xml
<properties>
    <maven.compiler.source>21</maven.compiler.source>
    <maven.compiler.target>21</maven.compiler.target>
</properties>
```

### Gradle

```groovy
sourceCompatibility = '21'
targetCompatibility = '21'
```

## 모듈 (Java 9+)

### 모듈 목록

```bash
java --list-modules
```

### 모듈 옵션

```bash
# 패키지 내보내기
--export-module java.base/java.lang

# 모듈 열기
--open-module java.base
```

## 보안 도구

### Keytool

```bash
# 키 쌍 생성
keytool -genkeypair -alias mykey -keyalg RSA -keystore keystore.jks

# 인증서 목록
keytool -list -keystore keystore.jks

# 인증서 내보내기
keytool -export -alias mykey -file cert.crt -keystore keystore.jks
```

## 프로파일링

### jcmd

```bash
# 실행 중인 Java 프로세스 목록
jcmd

# 프로세스 정보 가져오기
jcmd <pid> VM.flags

# GC 트리거
jcmd <pid> GC.run
```

### jvisualvm

```bash
# 시각적 VM 시작
jvisualvm
```

## 모범 사례

### 1. 프로덕션에는 LTS 사용

```bash
# 권장: 프로덕션에는 JDK 17 또는 21 사용
```

### 2. 적절한 메모리 설정

```bash
# 웹 애플리케이션용
java -Xmx4g -Xms2g -XX:+UseG1GC MyApp
```

### 3. GC 로그 활성화

```bash
# GC 로깅 활성화
-Xlog:gc*:file=gc.log:time,uptime,level,tags
```

## 관련 자료

- [Oracle Java 문서](https://docs.oracle.com/en/java/)
- [JDK API 문서](https://docs.oracle.com/en/java/javase/21/docs/api/)
