# Mockito Manuel Utilisateur

Guide détaillé pour utiliser Mockito.

## Bases

### Créer des Mocks

```java
// Mock d'une interface
List<String> mockList = mock(List.class);

// Mock d'une classe
MyService myService = mock(MyService.class);
```

### Stubbing

```java
// Stubbing simple
when(mockList.get(0)).thenReturn("first");
when(mockList.size()).thenReturn(10);

// Lever une exception
when(mockList.get(0)).thenThrow(new IndexOutOfBoundsException());
```

### Vérification

```java
// Vérifier qu'une méthode a été appelée
verify(mockList).add("one");

// Vérifier le nombre d'appels
verify(mockList, times(1)).add("one");
verify(mockList, never()).clear();
```

## Concepts Avancés

### Argument Matchers

```java
// N'importe quel argument
when(mockList.get(anyInt())).thenReturn("element");

// Matchers spécifiques
when(mockList.contains(argThat(s -> s.startsWith("test")))).thenReturn(true);
```

### Spy

```java
List<String> spyList = spy(new ArrayList<>());

// Comportement partiel réel
doReturn("real").when(spyList).get(0);
```

## Bonnes Pratiques

1. **Mock d'interfaces** - Toujours mocker des interfaces
2. **Pas d'objets réels** - Ne convertissez pas d'objets réels en mocks
3. **Nommage** - Utilisez des noms significatifs pour les mocks

## Cas Courants

### Mock de Base de Données

```java
@Mock
private UserRepository userRepository;

@Test
void testUserCreation() {
    User user = new User("test@test.com");
    when(userRepository.save(any(User.class))).thenReturn(user);
    
    User result = userService.createUser("test@test.com");
    
    assertNotNull(result);
    verify(userRepository).save(any(User.class));
}
```

## Ressources

- Site Web: https://site.mockito.org
- GitHub: https://github.com/mockito/mockito

## Licence

MIT License
