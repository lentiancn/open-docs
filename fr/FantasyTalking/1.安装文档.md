# Guide d'Installation FantasyTalking

FantasyTalking est un outil de génération de talking head alimenté par l'IA qui crée des vidéos réalistes de talking head à partir d'une seule image et audio.

## Informations de Version

| Version | Statut | Description |
|---------|--------|-------------|
| FantasyTalking v1.0 | ✅ Actuelle | Version initiale |

## Configuration Requise

### Configuration Matérielle

| Exigence | Minimum | Recommandé |
|-------------|---------|-------------|
| GPU | NVIDIA 4GB VRAM | NVIDIA 8GB+ VRAM |
| RAM | 8GB | 16GB+ |
| Stockage | 10GB | 20GB+ SSD |

### Configuration Logicielle

| Logiciel | Version |
|----------|---------|
| Python | 3.8+ |
| CUDA | 11.0+ |
| cuDNN | 8.0+ |

## Méthodes d'Installation

### Méthode 1: À partir du Code Source

#### 1. Cloner le Dépôt

```bash
git clone https://github.com/FantasyTalking/FantasyTalking.git
cd FantasyTalking
```

#### 2. Créer un Environnement Virtuel

```bash
python -m venv venv
source venv/bin/activate  # Linux/macOS
# ou
venv\Scripts\activate  # Windows
```

#### 3. Installer les Dépendances

```bash
pip install torch torchvision
pip install -r requirements.txt
```

#### 4. Télécharger les Modèles

```bash
# Télécharger les modèles pré-entraînés
bash scripts/download_models.sh
```

### Méthode 2: Docker

```bash
# Tirer l'image
docker pull fantasytalking/fantasytalking:latest

# Exécuter
docker run --gpus all -v /path/to/data:/data fantasytalking/fantasytalking:latest
```

## Configuration

### Variables d'Environnement

```bash
export CUDA_VISIBLE_DEVICES=0
export PYTHONPATH=/path/to/FantasyTalking:$PYTHONPATH
```

### Chemins des Modèles

Modifier `config.yaml` pour définir les chemins des modèles:

```yaml
model:
  checkpoint_path: "checkpoints/fantasytalking.pth"
  face_parser: "models/face_parser.pth"
```

## Démarrage Rapide

### Générer un Talking Head

```bash
python inference.py \
  --source_image path/to/image.jpg \
  --audio path/to/audio.wav \
  --output output.mp4
```

### Paramètres

```bash
--source_image    # Image de visage source
--audio          # Fichier audio d'entrée
--output         # Chemin de la vidéo de sortie
--face enhancer  # Activer l'amélioration du visage
--fps            # FPS de sortie (par défaut: 25)
```

## Problèmes Courants

### GPU Non Disponible?

Vérifier l'installation de CUDA:

```bash
nvidia-smi
python -c "import torch; print(torch.cuda.is_available())"
```

### Mémoire Insuffisante?

Réduire la taille du lot ou utiliser une résolution plus basse.

## Liens Connexes

- [FantasyTalking GitHub](https://github.com/FantasyTalking/FantasyTalking)
- [Article](https://arxiv.org/abs/)
