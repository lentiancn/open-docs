# Yarn 安装文档

在所有主流平台上安装 Yarn 的完整指南。

---

## 什么是 Yarn？

Yarn 是一个快速、可靠、安全的 JavaScript 包管理器。主要有两个版本：

| 版本 | 名称 | 描述 |
|------|------|------|
| Yarn 1.x | Classic | 原始 Yarn，广泛使用 |
| Yarn 2/3/4.x | Berry | 现代 Yarn，性能更好 |

---

## Yarn 1 (Classic) 安装

### npm（推荐）

```bash
npm install -g yarn
```

### Corepack (Node.js 16+)

```bash
corepack enable
corepack prepare yarn@stable --activate
```

### 直接下载

```bash
# macOS / Linux
curl -o- -L https://yarnpkg.com/install.sh | bash

# Windows (PowerShell)
scoop install yarn
# 或
choco install yarn
```

---

## Yarn 2/3/4 (Berry) 安装

### 使用 Corepack（推荐）

```bash
# 启用 corepack
corepack enable

# 准备特定版本
corepack prepare yarn@stable --activate
corepack prepare yarn@4.1.1 --activate
```

### 使用 npm

```bash
npm install -g yarn
# 然后启用 berry
yarn set version stable
```

---

## 平台特定安装

### macOS

```bash
# 使用 Homebrew
brew install yarn

# 使用 npm
sudo npm install -g yarn
```

### Linux

```bash
# Ubuntu/Debian
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt-get install -y nodejs
sudo npm install -g yarn
```

### Windows

```bash
# 使用 Winget（推荐）
winget install Yarn.Yarn

# 使用 Scoop
scoop install yarn
```

---

## 版本管理

### 切换版本

```bash
# 使用 corepack
corepack prepare yarn@1.22.22 --activate
corepack prepare yarn@4.1.1 --activate
```

### 查看当前版本

```bash
yarn --version
```

---

## 升级 Yarn

### 升级 Yarn 1

```bash
npm update -g yarn
# 或
npm install -g yarn@latest
```

### 升级 Yarn Berry

```bash
yarn set version stable
yarn set version latest
```

---

## 下一步

- [使用指南](./2.使用指南.md)
- 阅读 [官方 Yarn 文档](https://yarnpkg.com/)
