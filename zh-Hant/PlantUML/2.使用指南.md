# PlantUML 使用指南

本指南介紹如何使用 PlantUML 建立各種 UML 圖。

## 快速開始

### 基本語法

```plantuml
@startuml
Alice -> Bob: Hello
@enduml
```

## 序列圖

```plantuml
@startuml
actor 使用者
participant "前端" as Front
participant "後端" as Back
database "資料庫" as DB

使用者 -> Front: 提交請求
Front -> Back: API 呼叫
Back -> DB: 查詢資料
DB --> Back: 回傳結果
Back --> Front: 回應
Front --> 使用者: 顯示結果
@enduml
```

## 類別圖

```plantuml
@startuml
class User {
  +id: int
  +username: string
  +email: string
  +login()
  +logout()
}

class Admin extends User {
  +manageUsers()
  +viewReports()
}

class Order {
  +id: int
  +total: decimal
  +createOrder()
  +cancelOrder()
}

User "1" -- "*" Order: places
@enduml
```

## 用例圖

```plantuml
@startuml
left to right direction
actor 使用者
rectangle 系統 {
  使用者 -> (登入)
  使用者 -> (瀏覽商品)
  使用者 -> (加入購物車)
  使用者 -> (下單)
  (登入) .> (瀏覽商品): extends
}
@enduml
```

## 狀態圖

```plantuml
@startuml
[*] --> 待付款
待付款 --> 已付款: 付款成功
已付款 --> 已出貨: 出貨
已出貨 --> 已送達: 送達
已送達 --> [*]
待付款 --> 已取消: 使用者取消
已取消 --> [*]
@enduml
```

## 活動圖

```plantuml
@startuml
start
:開始購物;
:瀏覽商品;
if (找到商品?) then (是)
  :加入購物車;
else (否)
  :搜尋商品;
endif
:結帳;
if (付款成功?) then (是)
  :下單成功;
else (否)
  :付款失敗;
endif
stop
@enduml
```

## 元件圖

```plantuml
@startuml
package "前端" {
  [Web App] as WA
  [Mobile App] as MA
}
package "後端" {
  [API Gateway] as API
  [Auth Service] as Auth
  [Order Service] as Order
}
package "資料" {
  database "MySQL" as DB
  database "Redis" as Cache
}

WA --> API
MA --> API
API --> Auth
API --> Order
Order --> DB
Order --> Cache
@enduml
```

## 部署圖

```plantuml
@startuml
node "使用者裝置" as Client {
  [瀏覽器]
}
node "負載均衡" as LB {
  [Nginx]
}
node "應用伺服器" as App {
  [Tomcat 1]
  [Tomcat 2]
}
node "資料庫伺服器" as DB {
  [MySQL]
  [Redis]
}

Client --> LB
LB --> App
App --> DB
@enduml
```

## 時序圖

```plantuml
@startuml
clock "時鐘" as C with period 1000
binary "同步" as SY
binary "資料" as DT

C is idle
SY is low
DT is low

@1000
SY is high
@1500
SY is low
@2000
DT is high
@3000
DT is low
@enduml
```

## 甘特圖

```plantuml
@startuml
[設計] lasts 5 days
[開發] lasts 10 days
[測試] lasts 5 days
[上線] lasts 3 days

[設計] starts at 2024-01-01
[開發] starts at 2024-01-06
[測試] starts at 2024-01-16
[上線] starts at 2024-01-21
@enduml
```

## 思維導圖

```plantuml
@startmindmap
* 專案計畫
** 需求分析
*** 使用者訪談
*** 競品分析
** 設計階段
*** UI設計
*** 架構設計
** 開發階段
*** 前端開發
*** 後端開發
** 測試階段
*** 單元測試
*** 整合測試
** 上線階段
*** 部署
*** 監控
@endmindmap
```

## 常用指令

### 隱藏元素

```plantuml
@startuml
hide footbox
actor A
participant B
A -> B: 訊息
@enduml
```

### 樣式設定

```plantuml
@startuml
skinparam backgroundColor #EEEBDC
skinparam handwritten true
skinparam actorStyle awesome

actor User
User -> (登入)
@enduml
```

## 相關資源

- [PlantUML 官方網站](https://plantuml.com/)
- [PlantUML 語法參考](https://plantuml.com/sitemap-language-specification)
