# Angular インストールガイド

AngularはGoogleがメンテナンスする最新のWebアプリケーションフレームワークです。本ガイドでは、すべての環境でのインストール方法を説明します。

## バージョン情報

| バージョン | 状態 | 説明 |
|------------|------|------|
| Angular 17+ | ✅ 最新 | すべての新機能を備えた最新バージョン |
| Angular 16 | ✅ サポート | 安定バージョン |
| Angular 14-15 | ⚠️ メンテナンス | セキュリティ更新 |
| Angular 2-13 | ❌ 旧版 | 新規プロジェクトには推奨しません |

> **重要**：本ガイドは主に **Angular 17+** を対象としています。新規プロジェクトでは、最高のパフォーマンスと最新機能を得るために最新バージョンを使用してください。

## 前提条件

### システム要件

| 要件 | バージョン |
|------|------------|
| Node.js | 18.10.0+ |
| npm | 9.0.0+ |
| TypeScript | 5.2+ |

### ブラウザサポート

| ブラウザ | バージョン |
|---------|-----------|
| Chrome | 90+ |
| Firefox | 90+ |
| Safari | 14+ |
| Edge | 90+ |

## インストール方法

### 方法1：Angular CLIを使用（推奨）

Angular CLIは、Angularプロジェクトの作成と管理における公式推奨の方法です。

```bash
# Angular CLIをインストール
npm install -g @angular/cli

# 新規プロジェクトを作成
ng new my-app

# プロジェクトディレクトリに移動
cd my-app

# 開発サーバーを起動
ng serve
```

#### プロジェクト作成オプション

```bash
# ルーティング付きプロジェクトを作成
ng new my-app --routing

# SCSS付きプロジェクトを作成
ng new my-app --style=scss

# SSR付きプロジェクトを作成
ng new my-app --ssr

# 依存関係のインストールをスキップ
ng new my-app --skip-install
```

### 方法2：手動でプロジェクトを作成

```bash
# npmプロジェクトを初期化
npm init -y

# Angularコア依存関係をインストール
npm install @angular/core@17 @angular/common@17 @angular/compiler@17

# Angularプラットフォーム関連をインストール
npm install @angular/platform-browser@17 @angular/platform-browser-dynamic@17

# Angularコンパイラをインストール
npm install @angular/compiler-cli@17 typescript@~5.2.0 zone.js@~0.14.0
```

### 方法3：Viteを使用

```bash
# ViteでAngularプロジェクトを作成
npm create vite@latest my-angular-app -- --template angular

# プロジェクトディレクトリに移動
cd my-angular-app

# 依存関係をインストール
npm install
```

### 方法4：Nxワークスペースを使用

Nxは、大規模なエンタープライズプロジェクトに適した強力なモノレポツールです。

```bash
# Nxをインストール
npm install -g nx

# Angularアプリケーションを作成
npx create-nx-workspace my-org --preset=angular

# Angularアプリケーションを追加
nx g @nx/angular:app my-app
```

## プロジェクト構造

```
my-angular-app/
├── src/
│   ├── app/
│   │   ├── app.component.ts
│   │   ├── app.component.html
│   │   ├── app.component.css
│   │   └── app.config.ts
│   ├── main.ts
│   ├── index.html
│   └── styles.css
├── angular.json
├── package.json
├── tsconfig.json
└── node_modules/
```

## 開発コマンド

### 一般的なコマンド

```bash
# 開発サーバーを起動
ng serve

# 本番ビルドを実行
ng build

# テストを実行
ng test

# E2Eテストを実行
ng e2e

# コンポーネントを生成
ng g c my-component

# サービスを生成
ng g s my-service

# モジュールを生成
ng g m my-module

# ルーティングを生成
ng g m my-module --routing
```

### 開発サーバーオプション

```bash
# ポートを指定
ng serve --port 4200

# ブラウザを開く
ng serve --open

# ホットモジュール置換
ng serve --hmr

# 本番ビルド
ng serve --configuration production
```

## 設定

### tsconfig.json

```json
{
  "compileOnSave": false,
  "compilerOptions": {
    "outDir": "./dist/out-tsc",
    "strict": true,
    "noImplicitOverride": true,
    "noPropertyAccessFromIndexSignature": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "skipLibCheck": true,
    "esModuleInterop": true,
    "sourceMap": true,
    "declaration": false,
    "experimentalDecorators": true,
    "moduleResolution": "bundler",
    "importHelpers": true,
    "target": "ES2022",
    "module": "ES2022",
    "useDefineForClassFields": false,
    "lib": ["ES2022", "dom"]
  },
  "angularCompilerOptions": {
    "enableI18nLegacyMessageIdFormat": false,
    "strictInjectionParameters": true,
    "strictInputAccessModifiers": true,
    "strictTemplates": true
  }
}
```

### angular.json

```json
{
  "$schema": "./node_modules/@angular/cli/lib/config/schema.json",
  "version": 1,
  "newProjectRoot": "projects",
  "projects": {
    "my-app": {
      "projectType": "application",
      "root": "",
      "sourceRoot": "src",
      "prefix": "app",
      "architect": {
        "build": {
          "builder": "@angular-devkit/build-angular:application",
          "options": {
            "outputPath": "dist/my-app",
            "index": "src/index.html",
            "browser": "src/main.ts",
            "polyfills": ["zone.js"],
            "tsConfig": "tsconfig.app.json",
            "assets": ["src/favicon.ico", "src/assets"],
            "styles": ["src/styles.css"],
            "scripts": []
          }
        }
      }
    }
  }
}
```

## 依存関係の管理

### 依存関係のインストール

```bash
# ランタイム依存関係をインストール
npm install @angular/animations @angular/common @angular/compiler @angular/core @angular/forms @angular/platform-browser @angular/platform-browser-dynamic @angular/router

# 開発依存関係をインストール
npm install --save-dev @angular-devkit/build-angular @angular/cli @angular/compiler-cli @types/jasmine @types/node typescript jasmine-core jasmine-spec-reporter karma karma-chrome-launcher karma-coverage karma-jasmine karma-jasmine-html-reporter zone.js
```

### yarnの使用

```bash
# yarnでインストール
yarn install

# 依存関係を追加
yarn add @angular/core@17

# 開発依存関係を追加
yarn add --dev @angular/cli@17
```

## よくある質問

### Angular CLIコマンドが動作しない場合

Angular CLIがグローバルにインストールされていることを確認してください：

```bash
npm install -g @angular/cli
```

### Node.jsバージョンが一致しない場合

nvmを使用してNode.jsバージョンを管理します：

```bash
# nvmをインストール（Windows）
winget install CoreyButler.NVMforWindows

# 特定のバージョンを使用
nvm install 18
nvm use 18
```

### ビルドが失敗する場合

キャッシュをクリアして再インストールします：

```bash
rm -rf node_modules dist
npm install
```

## 関連リンク

- [Angular 公式ドキュメント](https://angular.io/)
- [Angular 日本語ドキュメント](https://angular.jp/)
- [Angular CLI ドキュメント](https://angular.io/cli)
- [Angular Material](https://material.angular.io/)
