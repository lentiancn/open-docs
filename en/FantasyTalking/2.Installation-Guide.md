# FantasyTalking Installation Guide

Complete installation and configuration guide.

## Requirements

### Hardware

- **GPU**: NVIDIA GPU, 8GB+ VRAM (16GB recommended)
- **Storage**: 20GB+ free space
- **RAM**: 16GB+

### Software

- **OS**: Linux (Ubuntu 20.04+), Windows 10/11, macOS
- **Python**: 3.8 - 3.10
- **CUDA**: 11.8+
- **cuDNN**: 8.0+

## Installation

### Method 1: From Source (Recommended)

```bash
# 1. Clone repository
git clone https://github.com/FantasyTalking/FantasyTalking.git
cd FantasyTalking

# 2. Create virtual environment (recommended)
python -m venv venv
source venv/bin/activate  # Linux/macOS
# or
venv\Scripts\activate  # Windows

# 3. Install dependencies
pip install -r requirements.txt

# 4. Download pretrained models
python download_models.py
```

### Method 2: Docker (Recommended)

```bash
# Pull image
docker pull fantasytalking/fantasytalking:latest

# Run container
docker run -it --gpus all -v /your/data:/data fantasytalking/fantasytalking:latest
```

### Method 3: pip

```bash
pip install fantasytalking
```

## Verification

After installation, run the following command to verify:

```bash
python -c "import fantasytalking; print(fantasytalking.__version__)"
```

## Configuration

### Config File

Create `config.yaml` in the project root:

```yaml
model:
  checkpoint_path: "./models/checkpoint.pth"
  face_enhancer: "realusf"

output:
  resolution: "512x512"
  fps: 30

audio:
  sample_rate: 16000
```

### Environment Variables

```bash
export FT_MODEL_PATH="./models"
export FT_OUTPUT_PATH="./output"
```

## Troubleshooting

### CUDA not available?

1. Confirm NVIDIA driver is installed: `nvidia-smi`
2. Check CUDA version
3. Install matching PyTorch version

### Out of memory?

1. Use smaller input images
2. Lower output resolution
3. Use batch processing mode

### Model download failed?

```bash
# Use proxy
export HTTP_PROXY=http://127.0.0.1:7890
export HTTPS_PROXY=http://127.0.0.1:7890

# Manual download
python download_models.py --mirror china
```

## Uninstall

```bash
pip uninstall fantasytalking
rm -rf FantasyTalking
```

## Next Steps

- See User Manual: ./3.User-Manual.md
- Learn more: ./4.FAQ.md
