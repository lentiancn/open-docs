# Spring Boot インストールガイド

このガイドでは、Windows、macOS、Linux に Spring Boot 開発環境をインストールして設定する方法説明します。

## システム要件

### Java バージョン要件

| Spring Boot バージョン | 最小 Java バージョン |
|---------------------|---------------------|
| 3.x                 | Java 17+            |
| 2.7.x               | Java 8+             |
| 2.5.x               | Java 8+             |

**注意：** Spring Boot 3.x は Java 17 以降が必要です。最高の互換性のため、Java 21 (LTS) を使用することをお勧めします。

## Java のインストール

### Windows

**オプション 1：Oracle/OpenJDK からインストール**
1. [Oracle](https://www.oracle.com/java/technologies/downloads/) または [Adoptium](https://adoptium.net/) から JDK をダウンロード
2. インストーラーを実行
3. 環境変数を設定：
   ```
   JAVA_HOME=C:\Program Files\Java\jdk-21
   PATH=%JAVA_HOME%\bin;%PATH%
   ```

**オプション 2：Chocolatey を使用**
```powershell
choco install openjdk21
```

**オプション 3：Winget を使用**
```powershell
winget install Oracle.JDK.21
```

確認：
```cmd
java -version
```

### macOS

**オプション 1：Homebrew を使用**
```bash
brew install openjdk@21
sudo ln -sfn $(brew --prefix)/opt/openjdk@21/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-21.jdk
echo 'export JAVA_HOME=$(/usr/libexec/java_home -v 21)' >> ~/.zshrc
source ~/.zshrc
```

**オプション 2：SDKMAN を使用**
```bash
curl -s "https://get.sdkman.io" | bash
sdk install java 21.0.2-tem
```

確認：
```bash
java -version
```

### Linux

**Ubuntu/Debian：**
```bash
sudo apt update
sudo apt install openjdk-21-jdk
export JAVA_HOME=/usr/lib/jvm/java-21-openjdk-amd64
export PATH=$JAVA_HOME/bin:$PATH
```

**RHEL/CentOS/Fedora：**
```bash
sudo dnf install java-21-openjdk-devel
export JAVA_HOME=/usr/lib/jvm/java-21-openjdk
export PATH=$JAVA_HOME/bin:$PATH
```

**SDKMAN を使用：**
```bash
curl -s "https://get.sdkman.io" | bash
source ~/.sdkman/bin/sdkman-init.sh
sdk install java 21.0.2-tem
```

確認：
```bash
java -version
```

## Maven のインストール

### Windows

**オプション 1：手動インストール**
1. [Apache Maven](https://maven.apache.org/download.cgi) からダウンロード
2. `C:\apache-maven` に展開
3. 環境変数を設定：
   ```
   MAVEN_HOME=C:\apache-maven
   PATH=%MAVEN_HOME%\bin;%PATH%
 2：Chocolate   ```

**オプションy を使用**
```powershell
choco install maven
```

確認：
```cmd
mvn -version
```

### macOS

```bash
brew install maven
```

確認：
```bash
mvn -version
```

### Linux

**Ubuntu/Debian：**
```bash
sudo apt install maven
```

**RHEL/CentOS：**
```bash
sudo dnf install maven
```

確認：
```bash
mvn -version
```

## Gradle のインストール（オプション）

### Windows

```powershell
choco install gradle
```

### macOS

```bash
brew install gradle
```

### Linux

```bash
sudo apt install gradle
```

確認：
```bash
gradle -version
```

## Spring Boot CLI のインストール

### すべてのプラットフォーム

**SDKMAN を使用：**
```bash
sdk install springboot
```

**Homebrew を使用 (macOS)：**
```bash
brew install spring-boot-cli
```

**手動ダウンロード：**
```bash
wget https://repo.spring.io/release/org/springframework/boot/spring-boot-cli/3.2.0/spring-boot-cli-3.2.0-bin.zip
unzip spring-boot-cli-3.2.0-bin.zip
export PATH=$PATH:/path/to/spring-boot-cli-3.2.0/bin
```

確認：
```bash
spring --version
```

## IDE の設定

### IntelliJ IDEA（推奨）

1. [JetBrains](https://www.jetbrains.com/idea/download/) からダウンロード
2. インストールして開く
3. JDK を設定：`File` → `Project Structure` → `Project SDK`
4. Spring Boot Assistant プラグインをインストール（オプション）

### VS Code

1. [VS Code](https://code.visualstudio.com/) をインストール
2. 拡張機能をインストール：
   - Extension Pack for Java
   - Spring Boot Extension Pack
3. Java を設定：`Ctrl+Shift+P` → `Java: Configure Java Runtime`

### Eclipse

1. [Spring Tools 4 (STS)](https://spring.io/tools) をダウンロード
2. 展開して実行
3. File → New → Spring Starter Project

## クイックスタート

### Spring Initializr を使用

1. [start.spring.io](https://start.spring.io/) にアクセス
2. オプションを選択：
   - Project: Maven / Gradle
   - Language: Java / Kotlin / Groovy
   - Spring Boot Version: 3.2.x (最新)
   - Group: com.example
   - Artifact: myapp
   - Packaging: Jar / War
   - Java Version: 17 / 21
3. 依存関係を追加：
   - Spring Web
   - Spring Data JPA
   - H2 Database (開発用)
   - Spring Boot DevTools
4. 「Generate」をクリックしてダウンロード

### コマンドラインを使用

```bash
# Maven プロジェクトを作成
curl https://start.spring.io/starter.zip \
  -d type=maven-project \
  -d language=java \
  -d bootVersion=3.2.5 \
  -d baseDir=myapp \
  -d dependencies=web,jpa,h2,devtools \
  -o myapp.zip

unzip myapp.zip
cd myapp
./mvnw spring-boot:run
```

## インストール確認

```bash
# Java を確認
java -version

# Maven を確認
mvn -version

# Gradle を確認（インストール済みの場合）
gradle -version

# Spring Boot CLI を確認
spring --version

# デモプロジェクトを実行
curl https://start.spring.io/starter.zip -o demo.zip
unzip demo.zip -d demo
cd demo
./mvnw spring-boot:run
```

## Docker のインストール（オプション）

### Docker のインストール

**Windows/macOS：**
[Docker Desktop](https://www.docker.com/products/docker-desktop) をダウンロードしてインストール

**Linux：**
```bash
curl -fsSL https://get.docker.com | sh
sudo usermod -aG docker $USER
```

### Docker で Spring Boot を実行

```bash
docker run -p 8080:8080 springio/gs-spring-boot-docker
```

## 一般的な問題

### Java が見つからない
- JAVA_HOME が正しく設定されていることを確認
- 環境変数を設定した後、ターミナルを再起動
- `echo $JAVA_HOME` (Linux/macOS) または `echo %JAVA_HOME%` (Windows) で確認

### ポート 8080 が使用中
```bash
# Windows
netstat -ano | findstr :8080
taskkill /PID <pid> /F

# Linux/macOS
lsof -i :8080
kill -9 <pid>
```

### Maven ビルド失敗
- Maven キャッシュをクリア：`mvn clean`
- 依存関係を更新：`mvn dependency:resolve`
- システムの Maven の代わりに `./mvnw` (Maven Wrapper) を使用

## 関連リンク

- [Spring Boot 公式サイト](https://spring.io/projects/spring-boot)
- [Spring Boot リファレンスドキュメント](https://docs.spring.io/spring-boot/docs/current/reference/)
- [Spring Initializr](https://start.spring.io/)
- [Spring ガイド](https://spring.io/guides)
