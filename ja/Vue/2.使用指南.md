# Vue 使用ガイド

Vue.jsを効果的に使用する方法を示すガイドです。

## 基本的な概念

### Vueインスタンス

```javascript
import { createApp } from 'vue'

const app = createApp({
  data() {
    return {
      message: 'Hello Vue!'
    }
  }
})

app.mount('#app')
```

### テンプレート構文

```html
<!-- テキスト補間 -->
<h1>{{ message }}</h1>

<!-- ディレクティブ -->
<div v-if="show">コンテンツ</div>
<div v-for="item in items">{{ item }}</div>
<button @click="handleClick">クリック</button>
<input v-model="inputValue">
```

## リアクティブ

### Vue 3 Composition API（推奨）

```javascript
import { ref, reactive, computed } from 'vue'

export default {
  setup() {
    // プリミティブ値にはref
    const count = ref(0)
    
    // オブジェクトにはreactive
    const state = reactive({
      name: 'Vue',
      version: 3
    })
    
    // 算出プロパティ
    const doubleCount = computed(() => count.value * 2)
    
    return { count, state, doubleCount }
  }
}
```

## コンポーネント

### コンポーネントの作成

```vue
<template>
  <div class="my-component">
    <h2>{{ title }}</h2>
    <button @click="emitEvent">クリック</button>
  </div>
</template>

<script setup>
import { defineProps, defineEmits } from 'vue'

const props = defineProps({
  title: String
})

const emit = defineEmits(['click'])

const emitEvent = () => {
  emit('click', 'こんにちは！')
}
</script>
```

## 条件レンダリング

```html
<!-- v-if -->
<div v-if="show">コンテンツ</div>
<div v-else>デフォルト</div>

<!-- v-show -->
<div v-show="visible">表示切替</div>
```

## リストレンダリング

```html
<!-- v-for 配列 -->
<ul>
  <li v-for="(item, index) in items" :key="item.id">
    {{ index }}. {{ item.name }}
  </li>
</ul>
```

## イベント処理

```html
<!-- クリックイベント -->
<button @click="handleClick">クリック</button>

<!-- 修飾子 -->
<button @click.stop="handleClick">stop伝播</button>
<button @click.prevent="handleSubmit">preventデフォルト</button>

<!-- キーボード修飾子 -->
<input @keyup.enter="submit" />
```

## フォーム入力バインディング

```vue
<template>
  <form @submit.prevent="submitForm">
    <input v-model="form.name" type="text" />
    <el-checkbox v-model="form.checked">ラベル</el-checkbox>
    <button type="submit">送信</button>
  </form>
</template>

<script setup>
import { reactive } from 'vue'

const form = reactive({
  name: '',
  checked: false
})

const submitForm = () => {
  console.log(form)
}
</script>
```

## 算出プロパティ

```javascript
import { ref, computed } from 'vue'

const firstName = ref('John')
const lastName = ref('Doe')

// 算出プロパティ - 依存が変更されたときのみ再評価
const fullName = computed(() => {
  return `${firstName.value} ${lastName.value}`
})
```

## ウォッチャー

```javascript
import { ref, watch } from 'vue'

const count = ref(0)

// シンプルなウォッチャー
watch(count, (newValue, oldValue) => {
  console.log(`${oldValue}から${newValue}に变更`)
})
```

## ライフサイクルフック

### Vue 3 Composition API

| フック | 説明 |
|--------|------|
| `setup()` | その他のフックの前に呼び出し |
| `onMounted()` | コンポーネントがマウントされた後 |
| `onUpdated()` | コンポーネントが更新された後 |
| `onUnmounted()` | コンポーネントがアンマウントされた後 |

```javascript
import { onMounted, onUpdated, onUnmounted } from 'vue'

export default {
  setup() {
    onMounted(() => {
      console.log('マウント完了!')
    })
  }
}
```

## スロット

### デフォルトスロット

```vue
<!-- Parent.vue -->
<MyCard>
  <p>デフォルトスロットのコンテンツ</p>
</MyCard>

<!-- MyCard.vue -->
<template>
  <div class="card">
    <slot></slot>
  </div>
</template>
```

## Vue Router

### 基本的な設定

```javascript
import { createRouter, createWebHistory } from 'vue-router'
import Home from '../views/Home.vue'

const routes = [
  { path: '/', component: Home },
  { path: '/about', component: About }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})

export default router
```

### ナビゲーション

```vue
<template>
  <button @click="$router.push('/about')">概要へ</button>
  <router-link to="/">ホーム</router-link>
</template>
```

## Pinia 状態管理

### ストア定義

```javascript
import { defineStore } from 'pinia'

export const useUserStore = defineStore('user', {
  state: () => ({
    name: 'John',
    email: 'john@example.com'
  }),
  getters: {
    displayName: (state) => `${state.name} (${state.email})`
  },
  actions: {
    updateName(newName) {
      this.name = newName
    }
  }
})
```

## HTTPリクエスト

```javascript
import axios from 'axios'

// GETリクエスト
const fetchData = async () => {
  const response = await axios.get('/api/users')
  console.log(response.data)
}

// POSTリクエスト
const createUser = async () => {
  const response = await axios.post('/api/users', {
    name: 'John',
    email: 'john@example.com'
  })
}
```

## ベストプラクティス

### 1. Composition APIを使用

```javascript
// 推奨
import { ref, computed } from 'vue'

export default {
  setup() {
    const count = ref(0)
    return { count }
  }
}
```

### 2. スクリプトセットアップを使用

```vue
<script setup>
// より簡潔な構文
</script>
```

## 関連リンク

- [Vueドキュメント](https://vuejs.org/guide/)
- [Vue Router](https://router.vuejs.org/)
- [Pinia](https://pinia.vuejs.org/)
