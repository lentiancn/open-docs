# GitLab Häufig gestellte Fragen

> Antworten auf häufige Fragen bei der Verwendung von GitLab

---

## Installation

### Q: GitLab ist nach der Installation nicht erreichbar?

**A**: Überprüfen Sie folgende Punkte:
- Externe URL-Konfiguration korrekt?
- Firewall hat Ports 80 und 443 freigegeben?
- Dienst läuft: `sudo gitlab-ctl status`
- Logs prüfen: `sudo gitlab-ctl tail`

### Q: Zu hoher Speicherverbrauch?

**A**: GitLab ist ressourcenintensiv, empfohlen:
- Mindestens 4 GB RAM, besser 8 GB oder mehr
- Optimierung durch:
  ```ruby
  # /etc/gitlab/gitlab.rb
  postgresql['shared_buffers'] = "256MB"
  unicorn['worker_processes'] = 2
  ```

### Q: Wie migriere ich GitLab-Daten?

**A**: Nutzen Sie GitLab Backup und Restore:
```bash
# Backup erstellen
sudo gitlab-backup create

# Wiederherstellen
sudo gitlab-backup restore BACKUP=timestamp
```

---

## Git-Operationen

### Q: Berechtigungsfehler beim Pushen?

**A**: 
1. SSH-Schlüssel in GitLab-Profil hinzugefügt?
2. Projektmitgliedschaft mit ausreichenden Rechten?
3. Bei HTTPS: Benutzername und Access-Token prüfen

### Q: Merge Request zeigt Konflikte?

**A**:
1. Lokal den Zielbranch pullen
2. Ihren Branch auf den Zielbranch rebasen
3. Konflikte lösen und force-pushen:
   ```bash
   git fetch origin
   git checkout ihr-branch
   git rebase origin/main
   # Nach Konfliktlösung
   git push --force-with-lease
   ```

### Q: Große Dateien können nicht gepusht werden?

**A**: GitLab begrenzt standardmäßig die Dateigröße, Konfiguration anpassen:
```ruby
# /etc/gitlab/gitlab.rb
gitlab_rails['max_attachment_size'] = 100 * 1024 * 1024 # 100MB
```
Oder Git LFS verwenden:
```bash
git lfs install
git lfs track "*.psd"
```

---

## CI/CD

### Q: Pipeline bleibt im pending-Status?

**A**: 
1. GitLab Runner registriert und online?
2. Runner-Tags stimmen mit Jobs überein?
3. Runner-Concurrency-Limit prüfen

### Q: Wie Private Image Registry nutzen?

**A**: 
```yaml
build:
  image: my-private-image
  variables:
    DOCKER_AUTH_CONFIG: '{"auths":{"registry.example.com":{"username":"user","password":"pass"}}}'
```

### Q: Cache funktioniert nicht?

**A**: Cache-Konfiguration prüfen:
```yaml
cache:
  key: ${CI_COMMIT_REF_SLUG}
  paths:
    - node_modules/
  policy: pull-push
```

---

## Berechtigungen

### Q: Wie Branch-Schutz einrichten?

**A**: 
1. Gehen Sie zu Projekt → Einstellungen → Repository → Branch-Schutz
2. Zu schützenden Branch auswählen
3. Konfigurieren wer pushen/mergen darf

### Q: Kein Zugriff auf Projekt?

**A**: 
1. Projektsichtbarkeit prüfen (öffentlich/intern/privat)
2. Als Projektmitglied hinzugefügt?
3. Projektadministrator um Zugriff bitten

---

## Leistungsoptimierung

### Q: Seiten laden langsam?

**A**: 
1. Prometheus-Monitoring zur Analyse aktivieren
2. PostgreSQL-Konfiguration optimieren
3. Redis-Cache nutzen
4. PostgreSQL-Master-Slave-Replikation erwägen

### Q: Wie Benutzerquoten begrenzen?

**A**: Im Admin-Bereich einstellen:
- Speicherplatz-Limits
- Repository-Anzahl Limits
- Benutzerquoten

---

## Backup & Restore

### Q: Automatische Backups einrichten?

**A**: Cron-Job konfigurieren:
```bash
# Täglich um 2 Uhr automatisch backuppen
0 2 * * * /opt/gitlab/bin/gitlab-backup create CRON=1
```

### Q: Wo sind die Backup-Dateien?

**A**: Standardmäßig im Verzeichnis `/var/opt/gitlab/backups/`

---

## Upgrades

### Q: Wie GitLab aktualisieren?

**A**: 
```bash
# Ubuntu/Debian
sudo apt-get update
sudo apt-get install gitlab-ee

# Dann neu konfigurieren
sudo gitlab-ctl reconfigure
```

### Q: Soll ich vor dem Upgrade sichern?

**A**: Ja, vor dem Upgrade vollständig sichern:
```bash
sudo gitlab-backup create
sudo gitlab-ctl stop
```

---

## Häufige Fehlercodes

| Fehlercode | Beschreibung | Lösung |
|------------|--------------|--------|
| 500 | Interner Serverfehler | Logs prüfen |
| 502 | Gateway-Fehler | Dienststatus prüfen |
| 503 | Dienst nicht verfügbar | Ressourcennutzung prüfen |
| 404 | Ressource nicht gefunden | URL prüfen |
| 422 | Anfrage kann nicht verarbeitet werden | Parameter prüfen |
