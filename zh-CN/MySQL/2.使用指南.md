# MySQL 使用指南

MySQL 数据库基本操作指南。

---

## 基础操作

### 连接 MySQL

```bash
mysql -u root -p
```

### 常用命令

```sql
-- 显示所有数据库
SHOW DATABASES;

-- 创建数据库
CREATE DATABASE mydb;

-- 使用数据库
USE mydb;

-- 显示表
SHOW TABLES;

-- 查看版本
SELECT VERSION();
```

---

## 数据库操作

### 创建数据库

```sql
CREATE DATABASE myapp;
CREATE DATABASE myapp DEFAULT CHARACTER SET utf8mb4;
```

### 删除数据库

```sql
DROP DATABASE myapp;
```

---

## 表操作

### 创建表

```sql
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### 修改表

```bash
-- 添加列
ALTER TABLE users ADD COLUMN phone VARCHAR(20);

-- 添加索引
ALTER TABLE users ADD INDEX idx_email (email);
```

---

## CRUD 操作

### INSERT - 插入

```sql
INSERT INTO users (name, email, password) 
VALUES ('John', 'john@example.com', 'pass123');

-- 插入多条
INSERT INTO users (name, email) VALUES 
('Alice', 'alice@example.com'),
('Bob', 'bob@example.com');
```

### SELECT - 查询

```sql
-- 查询所有
SELECT * FROM users;

-- 条件查询
SELECT * FROM users WHERE id = 1;

-- 排序
SELECT * FROM users ORDER BY created_at DESC;

-- 分页
SELECT * FROM users LIMIT 10 OFFSET 0;
```

### UPDATE - 更新

```sql
UPDATE users SET email = 'new@example.com' WHERE id = 1;
```

### DELETE - 删除

```sql
DELETE FROM users WHERE id = 1;
```

---

## 用户管理

### 创建用户

```sql
CREATE USER 'myuser'@'localhost' IDENTIFIED BY 'password';
```

### 授予权限

```sql
GRANT ALL PRIVILEGES ON mydb.* TO 'myuser'@'localhost';
FLUSH PRIVILEGES;
```

---

## 备份和恢复

### 备份

```bash
mysqldump -u root -p mydb > mydb.sql

# 备份所有
mysqldump -u root -p --all-databases > all.sql
```

### 恢复

```bash
mysql -u root -p mydb < mydb.sql
```

---

## 下一步

- 探索 [MySQL Workbench](https://www.mysql.com/products/workbench/)
- 学习 [MySQL 高级特性](https://dev.mysql.com/doc/)
