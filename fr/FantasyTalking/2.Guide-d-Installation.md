# FantasyTalking - Guide d'Installation

Guide complet d'installation et de configuration.

## Exigences

### Matériel

- **GPU** : NVIDIA GPU, 8GB+ VRAM (16GB recommandé)
- **Stockage** : 20GB+ espace libre
- **RAM** : 16GB+

### Logiciel

- **SE** : Linux (Ubuntu 20.04+), Windows 10/11, macOS
- **Python** : 3.8 - 3.10
- **CUDA** : 11.8+
- **cuDNN** : 8.0+

## Installation

### Méthode 1 : À partir du code source (Recommandé)

```bash
# 1. Cloner le dépôt
git clone https://github.com/FantasyTalking/FantasyTalking.git
cd FantasyTalking

# 2. Créer un environnement virtuel (recommandé)
python -m venv venv
source venv/bin/activate  # Linux/macOS
# ou
venv\Scripts\activate  # Windows

# 3. Installer les dépendances
pip install -r requirements.txt

# 4. Télécharger les modèles pré-entraînés
python download_models.py
```

### Méthode 2 : Docker (Recommandé)

```bash
# 1. Tirer l'image
docker pull fantasytalking/fantasytalking:latest

# 2. Exécuter le conteneur
docker run -it --gpus all -v /your/data:/data fantasytalking/fantasytalking:latest
```

### Méthode 3 : pip

```bash
pip install fantasytalking
```

## Vérification

Après l'installation, exécutez la commande suivante :

```bash
python -c "import fantasytalking; print(fantasytalking.__version__)"
```

## Configuration

### Fichier de configuration

Créez `config.yaml` à la racine du projet :

```yaml
model:
  checkpoint_path: "./models/checkpoint.pth"
  face_enhancer: "realusf"

output:
  resolution: "512x512"
  fps: 30

audio:
  sample_rate: 16000
```

### Variables d'environnement

```bash
export FT_MODEL_PATH="./models"
export FT_OUTPUT_PATH="./output"
```

## Dépannage

### CUDA non disponible ?

1. Confirmer que le pilote NVIDIA est installé : `nvidia-smi`
2. Vérifier la version de CUDA
3. Installer la version compatible de PyTorch

### Mémoire insuffisante ?

1. Utiliser des images d'entrée plus petites
2. Réduire la résolution de sortie
3. Utiliser le mode batch

### Téléchargement du modèle échoué ?

```bash
# Utiliser un proxy
export HTTP_PROXY=http://127.0.0.1:7890
export HTTPS_PROXY=http://127.0.0.1:7890

# Téléchargement manuel
python download_models.py --mirror china
```

## Désinstallation

```bash
pip uninstall fantasytalking
rm -rf FantasyTalking
```

## Étapes suivantes

- Voir le Manuel Utilisateur : ./3.Manuel-Utilisateur.md
- En savoir plus : ./4.FAQ.md
