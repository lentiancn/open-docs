# Руководство пользователя GitLab

> Полное руководство по эффективному использованию GitLab

---

## Быстрый старт

### Создание первого проекта

1. После входа нажмите «Новый проект»
2. Выберите шаблон проекта или пустой проект
3. Заполните название проекта, описание и уровень видимости
4. Нажмите «Создать проект» для завершения

### Клонирование проекта локально

```bash
# Клонирование через HTTPS
git clone https://gitlab.example.com/username/project.git

# Клонирование через SSH
git clone git@gitlab.example.com:username/project.git
```

---

## Управление кодом

### Операции с ветками

```bash
# Создание новой ветки
git checkout -b feature/new-feature

# Отправка ветки в удалённый репозиторий
git push -u origin feature/new-feature

# Просмотр всех веток
git branch -a

# Удаление локальной ветки
git branch -d feature/new-feature

# Удаление удалённой ветки
git push origin --delete feature/new-feature
```

### Запросы на слияние

1. После разработки в локальной ветке отправьте её в удалённый репозиторий
2. Откройте страницу проекта, нажмите «Создать запрос на слияние»
3. Заполните название и описание, выберите исходную и целевую ветки
4. Назначьте рецензентов, добавьте соответствующие метки и вехи
5. Создайте запрос на слияние и ожидайте проверки кода

### Рецензирование кода

- **Встроенные комментарии**: Рецензенты могут комментировать непосредственно в строках кода
- **Правила одобрения**: Можно настроить необходимое количество одобрений для слияния
- **Проверки пайплайна**: Можно требовать успешного прохождения пайплайнов перед слиянием
- **Разрешение конфликтов**: Необходимо разрешить возможные конфликты перед слиянием

---

## Отслеживание проблем

### Создание проблемы

1. Перейдите в Проект → Проблемы → Новая проблема
2. Заполните название и описание (поддерживается Markdown)
3. Установите метки, вехи и исполнителей
4. Задайте важность и срок

### Использование досок

1. Перейдите в Проект → Проблемы → Доска
2. Создайте колонки (например: К выполнению, В работе, Готово)
3. Перетащите карточки проблем в соответствующие колонки
4. Фильтруйте по участникам или меткам

### Вехи

- Создавайте вехи с датами начала и окончания
- Связывайте соответствующие проблемы с вехами
- Отслеживайте прогресс вех

---

## CI/CD-пайплайны

### Базовая структура .gitlab-ci.yml

```yaml
stages:
  - build
  - test
  - deploy

build:
  stage: build
  script:
    - echo "Building..."
    - npm install
    - npm run build
  artifacts:
    paths:
      - dist/
    expire_in: 1 week

test:
  stage: test
  script:
    - echo "Testing..."
    - npm test
  coverage: '/Coverage: \d+\.\d+%/'

deploy:
  stage: deploy
  script:
    - echo "Deploying..."
  only:
    - main
  environment:
    name: production
```

### Общие конфигурации Runner

#### Docker Executor

```yaml
job:
  image: node:18
  services:
    - postgres:14
  variables:
    POSTGRES_DB: test_db
    POSTGRES_USER: test_user
    POSTGRES_PASSWORD: test_password
```

#### Настройка кэша

```yaml
cache:
  key: ${CI_COMMIT_REF_SLUG}
  paths:
    - node_modules/
    - .npm/
```

### Среды развёртывания

- **Продакшн**: Для официальных релизов
- **Staging**: Для тестирования перед релизом
- **Разработка**: Для повседневной разработки

---

## Wiki-документация

### Создание страницы Wiki

1. Перейдите в Проект → Wiki → Новая страница
2. Напишите содержимое на Markdown
3. Сохраните страницу

### Боковая панель

- Автоматически сгенерированная навигация по содержанию
- Содержимое боковой панели можно настроить

---

## Контейнерный реестр

### Отправка образа

```bash
# Вход в GitLab Registry
docker login registry.gitlab.example.com

# Тегирование образа
docker tag my-image:latest registry.gitlab.example.com/username/project/my-image:latest

# Отправка образа
docker push registry.gitlab.example.com/username/project/my-image:latest
```

### Получение образа

```bash
docker pull registry.gitlab.example.com/username/project/my-image:latest
---

## Сканирование безопасности

### Функции автоматического сканирования

- **Сканирование зависимостей**: Проверка уязвимостей безопасности в зависимостях проекта
- **Сканирование контейнеров**: Проверка проблем безопасности в Docker-образах
- **SAST**: Статическое тестирование безопасности приложений
- **DAST**: Динамическое тестирование безопасности приложений

### Просмотр панели безопасности

1. Перейдите в Проект → Безопасность и соответствие → Панель безопасности
2. Просмотрите список всех уязвимостей
3. Фильтруйте по серьёзности
4. Создавайте проблемы для отслеживания уязвимостей

---

## Советы по управлению проектами

### Использование шаблонов

- Установите правила защиты веток по умолчанию для новых проектов
- Настройте шаблоны проектов
- Используйте наследование проектов

### Управление участниками

- Добавляйте участников проекта и устанавливайте уровни доступа
- Используйте группы для управления несколькими проектами
- Настраивайте токены доступа

### Webhooks

- Настраивайте интеграции webhook с внешними сервисами
- Поддерживаемые триггеры: push, merge request, tag и т.д.

---

## Рекомендации

1. **Используйте функциональные ветки**: Разрабатывайте каждую функцию или исправление в отдельной ветке
2. **Делайте частые коммиты**: Делайте частые коммиты с понятными сообщениями
3. **Обзор кода**: Весь код должен быть проверен перед слиянием
4. **Автоматическое тестирование**: Убедитесь, что CI/CD-пайплайны включают этапы тестирования
5. **Поддержка документации**: Используйте Wiki для документации проекта
6. **Безопасность**: Регулярно проверяйте отчёты сканирования безопасности
