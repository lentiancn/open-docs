# Docker 자주 묻는 질문

자주 묻는 질문과 답변.

## 설치

### Q: Docker Desktop이 Windows에서 시작되지 않음?

**해결책**:
1. BIOS에서 가상화 활성화
2. WSL 2 설치/업데이트
3. 컴퓨터 재시작
4. 충돌 소프트웨어 확인 (VirtualBox, VMware)

### Q: "docker: permission denied" 오류?

**해결책**:
```
sudo usermod -aG docker $USER
# 로그아웃하고 다시 로그인
```

### Q: 어떤 Docker 버전을 사용하고 있는지 확인하는 방법은?

```
docker --version
docker-compose --version
```

## 이미지

### Q: Docker 이미지 크기를 줄이는 방법은?

**모범 사례**:
1. alpine 기반 이미지 사용
2. 다단계 빌드 사용
3. 레이어 최소화
4. 같은 레이어에서 정리

### Q: 캐시 없이 이미지를 빌드하는 방법은?

```
docker build --no-cache -t my-image .
```

### Q: 사용하지 않는 이미지를 모두 삭제하는 방법은?

```
docker image prune -a
```

## 컨테이너

### Q: 컨테이너를 계속 실행 상태로 유지하는 방법은?

```
docker run -d nginx tail -f /dev/null
# 또는
docker run -d nginx sleep infinity
```

### Q: 컨테이너가 시작 직후 종료됨?

**이유**:
1. 포어그라운드 프로세스 없음
2. 프로세스 완료됨

**해결책**:
```
docker run -it image_name /bin/bash
docker run -d image_name tail -f /dev/null
```

### Q: 실행 중인 컨테이너에 들어가는 방법은?

```
docker exec -it container_id /bin/bash
```

### Q: 컨테이너와 파일을 복사하는 방법은?

```
# 컨테이너에서 호스트로 복사
docker cp container_id:/path/file.txt ./

# 호스트에서 컨테이너로 복사
docker cp ./file.txt container_id:/path/
```

## 네트워크

### Q: 호스트에서 컨테이너에 액세스하는 방법은?

포트 매핑 사용:
```
docker run -p 8080:80 nginx
```

### Q: 컨테이너를 연결하는 방법은?

네트워크 생성:
```
docker network create my-network
docker run --network my-network -d nginx
```

## 볼륨

### Q: 데이터를 영구화하는 방법은?

볼륨 사용:
```
docker volume create my-data
docker run -v my-data:/data nginx
```

## Docker Compose

### Q: 코드 변경 후 다시 빌드하는 방법은?

```
docker-compose up -d --build
```

### Q: 로그를 보는 방법은?

```
docker-compose logs -f
```

### Q: 서비스를 확장하는 방법은?

```
docker-compose up -d --scale web=3
```

## 성능

### Q: Docker가 느리거나 너무 많은 디스크를 사용함?

**해결책**:
```
docker system prune -a
docker system df
docker volume prune
```

### Q: 컨테이너 리소스를 제한하는 방법은?

```
docker run -m 512m nginx
docker run --cpus=0.5 nginx
```

## 문제 해결

### Q: 실패한 컨테이너를 디버그하는 방법은?

```
docker logs container_id
docker inspect container_id
```

### Q: 컨테이너 네트워크가 작동하지 않음?

```
sudo systemctl restart docker
docker network ls
```

## 보안

### Q: 취약점을 스캔하는 방법은?

```
docker scan my-image
```

### Q: root로 실행해야 하는가?

아니요, non-root 사용자 생성:

```
FROM node:18-alpine
RUN addgroup -g 1000 appgroup && \
    adduser -u 1000 -G appgroup -D appuser
USER appuser
```

## Docker vs VM

### Q: Docker와 VM의 차이점은?

| 측면 | Docker | VM |
|------|--------|-----|
| OS | 호스트 커널 공유 | 별도 OS |
| 크기 | MB 단위 | GB 단위 |
| 시작 | 초 단위 | 분 단위 |
| 격리 | 컨테이너 | 완전 격리 |

## 학습 리소스

- 공식 문서: https://docs.docker.com
- 인터랙티브 랩: https://labs.play-with-docker.com
- Docker 커뮤니티: https://www.docker.com/community
