# OpenClaw 🦞

## OpenClawとは？

OpenClawは、WhatsApp、Telegram、Discord、iMessageなどのチャットアプリをAIコーディングエージェント（Piなど）に接続する**自己ホスト型ゲートウェイ**です。自分のマシン（またはサーバー）で単一のGatewayプロセスを実行するだけで、メッセージアプリと常時利用可能なAIアシスタントの間の架け橋になります。

### コア機能

- **自己ホスト**：ハードウェア上で実行、自分のルールで運用
- **マルチチャネル**：1つのGatewayがWhatsApp、Telegram、Discordなどを同時にサポート
- **エージェントネイティブ**：ツール使用、セッション、記憶、マルチエージェントルーティングを備えたコーディングエージェント用に構築
- **オープンソース**：MITライセンス、社区驱动

### 対象者

データをコントロールしたい、またはホスティングサービスに頼りたくない開発者およびパワーユーザー。どこからでもメッセージを送れる個人AIアシスタントが必要な人向け。

### システム要件

- Node.js 22以上
- APIキー（Anthropic推奨）
- 5分間の時間

---

## 主な機能

### マルチチャネルゲートウェイ
1つのGatewayプロセスがWhatsApp、Telegram、Discord、iMessageなどの主要チャットプラットフォームをサポート。拡張プラグインでMattermostなどを追加也可能。

### マルチエージェントルーティング
異なるチャネル、アカウント、ユーザーのために隔離されたエージェントを実行可能。各エージェントは独自のワークスペースとセッションを持つ。

### メディアサポート
画像、音声、ドキュメントの送受信が可能。メディアファイルの文字起こしや処理も可能。

### WebコントロールUI
ブラウザベースのダッシュボードでチャット、セッション管理、ノード制御、設定が可能。

### モバイルノード
iOSおよびAndroidデバイスをノードとしてペアリングし、カメラキャプチャ、スクリーン録画、位置情報取得などの機能を実装。

### ボイスモード
Voice WakeとTalk Modeでどこでも音声インタラクションを実現。macOS、iOS、Androidをサポート。

### 自動化
Cron Jobs、Webhooks、Gmail Pub/Subトリガーで複雑なワークフロー自動化を実現。

---

## 動作原理

```
チャットアプリ → Gateway → AIエージェント
                   ↓
          CLI / Web UI / macOSアプリ / モバイルノード
```

Gatewayは、セッション、ルーティング、チャネル接続の唯一の情報源です。

---

## クイックスタート

### ステップ1：OpenClawをインストール

**macOS / Linux：**
```bash
curl -fsSL https://openclaw.ai/install.sh | bash
```

**Windows（PowerShell）：**
```powershell
iwr -useb https://openclaw.ai/install.ps1 | iex
```

**npmでインストール：**
```bash
npm install -g openclaw@latest
```

### ステップ2：オンボーディングウィザードを実行

```bash
openclaw onboard --install-daemon
```

ウィザードでは、認証、Gateway設定、オプションのチャネル設定を行います。

### ステップ3：Gatewayの状態を確認

```bash
openclaw gateway status
```

### ステップ4：コントロールUIを開く

```bash
openclaw dashboard
```

またはブラウザでhttp://127.0.0.1:18789/にアクセス。

---

## チャネル設定

### WhatsApp

```bash
openclaw channels login
openclaw gateway --port 18789
```

`channels.whatsapp.allowFrom`でホワイトリストを設定し、アシスタントにメッセージを送れるユーザーを制御。

### Telegram

設定ファイルに追加：
```json5
{
  channels: {
    telegram: {
      botToken: "あなたの },
  },
}
BotToken",
   ```

### Discord

```json5
{
  channels: {
    discord: {
      token: "あなたのBotトークン",
    },
  },
}
```

---

## 設定方法

OpenClawはJSON5形式の設定ファイルを使用。デフォルトパスは`~/.openclaw/openclaw.json`。

### 最小設定例

```json5
{
  agents: {
    defaults: {
      workspace: "~/.openclaw/workspace",
    },
  },
  channels: {
    whatsapp: {
      allowFrom: ["+15555550123"],
    },
  },
}
```

### よく使う設定項目

- **agents.defaults.model**：主モデルとフォールバックモデルを設定
- **channels**：各チャネルの接続とポリシーを設定
- **session**：セッションスコープとリセットポリシーを制御
- **cron**：スケジュールタスクを設定
- **hooks**：Webhookエンドポイントを設定
- **browser**：ブラウザ制御を設定

設定はホットリロード対応。変更は手動再起動なしで適用されます。

---

## セキュリティの推奨事項

- 受信DMは信頼できない入力として扱う
- ペアリング（pairing）戦略を使用：不明な送信者は承認が必要
- グループではメンションモード（requireMention）を有効化することを推奨
- セカンダリセッションはサンドボックスモードで分離
- `openclaw doctor`を定期的に実行して設定リスクを確認

---

## 関連リソース

- ウェブサイト：https://openclaw.ai
- ドキュメント：https://docs.openclaw.ai
- GitHub：https://github.com/openclaw/openclaw
- Discordコミュニティ：https://discord.gg/clawd
