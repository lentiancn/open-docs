# Docker 설치 가이드

이 가이드에서는 다양한 운영 체제에서 Docker Desktop 및 Docker Engine을 설치하는 방법에 대해詳細히 설명합니다.

---

## 목차

1. [Docker 소개](#docker-소개)
2. [버전 정보](#버전-정보)
3. [Windows 설치](#windows-설치)
4. [macOS 설치](#macos-설치)
5. [Linux 설치](#linux-설치)
6. [Docker Engine 설치 (CLI만)](#docker-engine-설치-cli만)
7. [설치 확인](#설치-확인)
8. [Docker 제거](#docker-제거)
9. [자주 묻는 질문](#자주-묻는-질문)

---

## Docker 소개

Docker는 애플리케이션 개발, 배포 및 실행을 위한 오픈 소스 플랫폼입니다. Docker를 사용하면 애플리케이션과 해당 종속성을 가볍고 이식 가능한 컨테이너로 패키징하여 "한 번 빌드하면 어디서나 실행"할 수 있습니다.

### Docker Desktop과 Docker Engine의 차이점

| 기능 | Docker Desktop | Docker Engine |
|------|----------------|---------------|
| 지원 플랫폼 | Windows, macOS, Linux | Linux |
| GUI | 예 | 아니오 |
| 포함 구성 요소 | Docker Engine, Docker CLI, Docker Compose, Kubernetes 등 | Docker Engine, Docker CLI |
| 상업적 사용 | 직원 250명 초과 또는 연간 수익 $1000만 초과 시 유료 구독 필요 | 무료 (오픈 소스) |

> **중요 참고**: 대규모 기업(직원 250명 초과 또는 연간 수익 1000만 달러 초과)의 Docker Desktop 상업적 사용에는 유료 구독이 필요합니다. 개인 사용, 소기업(직원 250명 미만 및 연간 수익 1000만 달러 미만), 교육 및 비상업적 오픈 소스 프로젝트는 무료입니다.

---

## 버전 정보

Docker는 두 가지 업데이트 채널을 제공합니다:

- **안정版(Stable)**: 일반 사용자를 위한 최신 일반 공급 버전 제공
- **테스트版(Test)**: 새 기능 테스트를 위한 사전 릴리스 버전 제공 (주의하여 사용)

---

## Windows 설치

### 시스템 요구 사항

#### WSL 2 백엔드 (권장)

- Windows 10 64비트: Enterprise, Pro 또는 Education 버전 22H2 (빌드 19045)
- Windows 11 64비트: Enterprise, Pro 또는 Education 버전 23H2 (빌드 22631) 이상
- WSL 버전 2.1.5 이상
- 2단계 주소 변환(SLAT)을 지원하는 64비트 프로세서
- 4GB 시스템 RAM
- BIOS/UEFI에서 하드웨어 가상화 활성화

#### Hyper-V 백엔드

- Windows 10 64비트: Enterprise, Pro 또는 Education 버전 22H2 (빌드 19045)
- Windows 11 64비트: Enterprise, Pro 또는 Education 버전 23H2 (빌드 22631) 이상
- Hyper-V 및 Containers Windows 기능 활성화
- 2단계 주소 변환(SLAT)을 지원하는 64비트 프로세서
- 4GB 시스템 RAM
- BIOS/UEFI에서 하드웨어 가상화 활성화

> **참고**: Docker Desktop은 Windows Server(Windows Server 2019 또는 Windows Server 2022 등)에서 지원되지 않습니다. Windows Server에서 컨테이너를 실행하려면 Microsoft 공식 문서를 참조하세요.

> **중요 참고**: Windows 컨테이너를 실행하려면 Windows 10 또는 Windows 11 Professional 또는 Enterprise 버전이 필요합니다. Windows Home 또는 Education 버전은 Linux 컨테이너만 실행할 수 있습니다.

### 설치 단계

1. **Docker Desktop 설치 프로그램 다운로드**:
   - [Docker Desktop for Windows - x86_64](https://desktop.docker.com/win/main/amd64/Docker%20Desktop%20Installer.exe)

2. **설치 프로그램을 두 번 클릭하여 실행**합니다. 기본 설치 경로는 `C:\Program Files\Docker\Docker`입니다.

3. **구성 페이지에서 Hyper-V 대신 WSL 2 사용을 선택**합니다 (또는 필요에 따라 Hyper-V 선택).

4. **설치 마법사의 지시에 따라 설치 프로그램을 권한 부여하고 계속 진행**합니다.

5. **설치가 성공하면 닫기를 선택하여 완료**합니다.

6. **Docker Desktop을 시작**합니다.

### 관리자 권한

사용자 계정이 관리자 계정과 다른 경우, 더 높은 권한이 필요한 기능에 접근하려면 사용자를 **docker-users** 그룹에 추가해야 합니다:

1. **관리자**로 **컴퓨터 관리** 실행
2. **로컬 사용자 및 그룹** > **그룹** > **docker-users**로 이동
3. 마우스 오른쪽 버튼을 클릭하여 사용자를 그룹에 추가
4. 변경 사항을 적용하려면 로그오프하고 다시 로그인

---

## macOS 설치

### 시스템 요구 사항

#### Apple Silicon (M 시리즈 칩)

- macOS 11.0 (Big Sur) 이상
- 최소 4GB 메모리

#### Intel 칩

- macOS 10.15 (Catalina) 이상
- 최소 4GB 메모리

### 설치 단계

1. **Mac용 Docker Desktop 다운로드**:
   - [Apple Silicon (M 시리즈)](https://desktop.docker.com/mac/main/arm64/Docker.dmg)
   - [Intel 칩](https://desktop.docker.com/mac/main/amd64/Docker.dmg)

2. **Docker.dmg를 두 번 클릭하여 설치 프로그램 열기**.

3. **Docker 앱을 Applications 폴더로 드래그**.

4. **Applications 또는 Launchpad에서 Docker Desktop 시작**.

5. **Docker 구독 서비스 계약에 동의**.

6. **Docker Desktop 초기화가 완료될 때까지 기다리기**.

---

## Linux 설치

### 지원 배포판

| 배포판 | x86_64/amd64 | arm64/aarch64 |
|--------|:------------:|:-------------:|
| Ubuntu | ✅ | ✅ |
| Debian | ✅ | ✅ |
| Fedora | ✅ | ✅ |
| CentOS | ✅ | ✅ |
| RHEL | ✅ | ✅ |

### Ubuntu 설치

1. **이전 버전 제거**:
```bash
sudo apt-get remove docker docker-engine docker.io containerd runc
```

2. **apt 패키지 인덱스 업데이트**:
```bash
sudo apt-get update
sudo apt-get install ca-certificates curl gnupg lsb-release
```

3. **Docker의 공식 GPG 키 추가**:
```bash
sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg
```

4. **안정저장소 설정**:
```bash
echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
```

5. **Docker Engine 설치**:
```bash
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

### Debian 설치

1. **이전 버전 제거**:
```bash
sudo apt-get remove docker docker-engine docker.io containerd runc
```

2. **Docker Engine 설치**:
```bash
sudo apt-get update
sudo apt-get install ca-certificates curl gnupg
curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

### Fedora 설치

```bash
sudo dnf -y install dnf-plugins-core
sudo dnf config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo
sudo dnf install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

### CentOS 설치

```bash
sudo yum install -y yum-utils
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
sudo yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

---

## Docker Engine 설치 (CLI만)

모든 Linux 배포판용 정적 바이너리 설치:

1. **Docker 바이너리 다운로드**:
```bash
curl -OL https://download.docker.com/linux/static/stable/x86_64/docker-24.0.7.tgz
```

2. **압축 해제**:
```bash
tar xzf docker-24.0.7.tgz
```

3. **바이너리를 PATH로 이동**:
```bash
sudo cp docker/* /usr/local/bin/
sudo rm -rf docker
```

4. **Docker 데몬 시작**:
```bash
sudo dockerd &
```

---

## 설치 확인

운영 체제에 관계없이 Docker가 제대로 작동하는지 확인:

```bash
docker --version          # Docker 버전 확인
docker-compose --version  # Docker Compose 버전 확인
docker run hello-world    # 테스트 컨테이너 실행
```

"Hello from Docker!" 메시지가 보이면 설치가 성공한 것입니다.

---

## Docker 제거

### Windows

1. Windows 설정 > 앱 열기
2. Docker Desktop 찾기
3. 제거 클릭

### macOS

1. Applications 폴더에서 Docker 앱 제거
2. 남은 파일 정리:
```bash
rm -rf ~/Library/Containers/com.docker.docker
rm -rf ~/Library/Application\ Support/Docker
```

### Linux

```bash
sudo apt-get remove docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
sudo rm -rf /var/lib/docker
sudo rm -rf /var/lib/containerd
---

## 자주 묻는 질문

### Q1: Docker Desktop은 유료인가요?

Docker Desktop은 다음에 대해 무료입니다:
- 소기업 (직원 250명 미만 및 연간 수익 1000만 달러 미만)
- 개인 사용
- 교육
- 비상업적 오픈 소스 프로젝트

상업적 사용 (직원 250명 초과 또는 연간 수익 1000만 달러 초과)에는 유료 구독이 필요합니다.

### Q2: Docker Desktop에서 Windows와 Linux 컨테이너를 전환하는 방법은?

Docker Desktop 메뉴에서 선택:
- **Switch to Windows containers** - Windows 컨테이너 사용
- **Switch to Linux containers** - Linux 컨테이너 사용 (기본값)

### Q3: Docker Desktop은 어떤 Windows 버전을 지원하나요?

Docker Desktop은 Microsoft 서비스 기간 내의 Windows 버전만 지원합니다:
- Windows 10 Enterprise, Pro 또는 Education 22H2
- Windows 11 Enterprise, Pro 또는 Education 23H2

### Q4: Docker Desktop의 프록시를 구성하는 방법은?

Docker Desktop 설정 > 리소스 > 프록시에서 구성할 수 있습니다.

---

## 관련 링크

- [Docker 공식 문서](https://docs.docker.com/)
- [Docker Desktop 다운로드](https://www.docker.com/products/docker-desktop/)
- [Docker Hub](https://hub.docker.com/)
- [Docker 구독 및 가격](https://www.docker.com/pricing/)
