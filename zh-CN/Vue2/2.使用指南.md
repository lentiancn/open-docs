# Vue 2 使用指南

高效使用 Vue 2 的完整指南。

---

## 基本概念

### 什么是 Vue 2？

Vue 2 是一个用于构建用户界面的渐进式 JavaScript 框架。

### 实例

```javascript
new Vue({
  el: '#app',
  data: {
    message: 'Hello Vue!'
  }
})
```

---

## 模板

### 模板语法

```html
<div id="app">
  <h1>{{ title }}</h1>
  <p v-html="rawHtml"></p>
  <button v-bind:disabled="isButtonDisabled">按钮</button>
</div>
```

### 模板指令

| 指令 | 说明 |
|------|------|
| `v-text` | 更新文本内容 |
| `v-html` | 更新 HTML |
| `v-show` | 切换可见性 |
| `v-if` | 条件渲染 |
| `v-for` | 列表渲染 |
| `v-on` | 事件处理 |
| `v-bind` | 属性绑定 |
| `v-model` | 双向绑定 |

---

## 数据绑定

### 文本插值

```html
<p>消息: {{ message }}</p>
```

### 属性绑定

```html
<a v-bind:href="url">链接</a>
<!-- 简写 -->
<a :href="url">链接</a>
```

### Class 绑定

```html
<div :class="{ active: isActive }"></div>
```

### Style 绑定

```html
<div :style="{ color: activeColor }"></div>
```

---

## 方法

```javascript
methods: {
  greet() {
    return `Hello, ${this.name}!`
  },
  say(message) {
    alert(message)
  }
}
```

### 模板中使用

```html
<button @click="greet">问候</button>
```

---

## 计算属性

```javascript
computed: {
  fullName() {
    return `${this.firstName} ${this.lastName}`
  }
}
```

---

## 侦听器

```javascript
watch: {
  question(newVal, oldVal) {
    console.log(`从 ${oldVal} 变为 ${newVal}`)
  }
}
```

---

## 组件

### 注册组件

```javascript
// 全局注册
Vue.component('my-component', {
  template: '<div>自定义组件!</div>'
})

// 局部注册
new Vue({
  components: {
    'my-component': {
      template: '<div>自定义组件!</div>'
    }
  }
})
```

### 组件模板

```vue
<template>
  <div class="component">
    <h2>{{ title }}</h2>
  </div>
</template>

<script>
export default {
  name: 'MyComponent',
  props: {
    title: String
  }
}
</script>

<style scoped>
.component {
  padding: 20px;
}
</style>
```

---

## Props 和事件

### Props

```javascript
props: {
  message: String,
  count: {
    type: Number,
    default: 0
  }
}
```

### 事件

```javascript
// 子组件
this.$emit('update', value)

// 父组件
<child-component @update="handleUpdate"></child-component>
```

---

## 路由

### 安装

```bash
npm install vue-router@3
```

### 基本配置

```javascript
import Vue from 'vue'
import VueRouter from 'vue-router'
import Home from './views/Home.vue'

Vue.use(VueRouter)

const routes = [
  { path: '/', component: Home }
]

const router = new VueRouter({
  mode: 'history',
  routes
})
```

### 路由链接

```html
<router-link to="/">首页</router-link>
<router-link to="/about">关于</router-link>
<router-view></router-view>
```

---

## Vuex

### 安装

```bash
npm install vuex@3
```

### 基本 Store

```javascript
export default new Vuex.Store({
  state: {
    count: 0
  },
  mutations: {
    increment(state) {
      state.count++
    }
  },
  actions: {
    increment({ commit }) {
      commit('increment')
    }
  },
  getters: {
    doubleCount: state => state.count * 2
  }
})
```

---

## 生命周期钩子

| 钩子 | 说明 |
|------|------|
| `created` | 实例创建后 |
| `mounted` | 挂载到 DOM |
| `updated` | 数据更新 |
| `destroyed` | 销毁 |

---

## 自定义指令

```javascript
Vue.directive('focus', {
  inserted(el) {
    el.focus()
  }
})

// 使用
<input v-focus>
```

---

## 混入

```javascript
const myMixin = {
  methods: {
    hello() {
      console.log('Hello from mixin')
    }
  }
}

export default {
  mixins: [myMixin]
}
```

---

## 过滤器

```javascript
Vue.filter('uppercase', value => value.toUpperCase())

// 使用
<p>{{ message | uppercase }}</p>
```

---

## 下一步

- 探索 [Vue 2 组件](https://v2.vuejs.org/v2/guide/components.html)
- 学习 [Vuex](https://vuex.vuejs.org/)
