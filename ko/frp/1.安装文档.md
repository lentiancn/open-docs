# frp 설치 가이드

frp는 내망 침투(NAT 관통)를 위한 고성능 리버스 프록시 도구입니다. 이 가이드에서는 다양한 환경에서의 설치 방법을 설명합니다.

## 버전 정보

| 버전 | 상태 | 설명 |
|------|------|------|
| frp 0.51.x | ✅ 현재 | 최신 안정 버전 |

## 시스템 요구사항

### 하드웨어 요구사항

| 요구사항 | 구성 |
|---------|------|
| CPU | 1코어 이상 |
| 메모리 | 64MB 이상 |
| 디스크 | 10MB 이상 |

### 소프트웨어 요구사항

| 소프트웨어 | 버전 |
|-----------|------|
| Go | 1.18+ (소스 코드 컴파일) |

## 설치 방법

### 방법 1: Linux/macOS

#### 1. 다운로드

```bash
# 최신 버전 다운로드
wget https://github.com/fatedier/frp/releases/download/v0.51.0/frp_0.51.0_linux_amd64.tar.gz

# 압축 해제
tar -xzf frp_0.51.0_linux_amd64.tar.gz
cd frp_0.51.0_linux_amd64
```

#### 2. 디렉토리 구조

```
frp_0.51.0_linux_amd64/
├── frpc          # 클라이언트
├── frpc.ini      # 클라이언트 설정
├── frps          # 서버
├── frps.ini      # 서버 설정
└── systemd/      # systemd 서비스 파일
```

### 방법 2: Windows

#### 1. 다운로드

1. https://github.com/fatedier/frp/releases 방문
2. Windows 버전 다운로드
3. 원하는 디렉토리에 압축 해제

#### 2. 실행

```powershell
# 서버
.\frps.exe -c frps.ini

# 클라이언트
.\frpc.exe -c frpc.ini
```

### 방법 3: Docker

```bash
# 서버
docker run --network host -d -v ./frps.ini:/etc/frp/frps.ini --name frps fatedier/frps:v0.51.0

# 클라이언트
docker run -d -v ./frpc.ini:/etc/frp/frpc.ini --name frpc fatedier/frpc:v0.51.0
```

### 방법 4: 소스 코드 컴파일

```bash
# 저장소 클론
git clone https://github.com/fatedier/frp.git

# 컴파일
cd frp
make

# 결과물은 bin/ 디렉토리에 있음
```

## 서버 설정

### 기본 설정 (frps.ini)

```ini
[common]
bind_port = 7000
dashboard_port = 7500
token = your_token_here
dashboard_user = admin
dashboard_pwd = admin

# 로그
log_file = ./frps.log
log_level = info
```

### 고급 설정

```ini
[common]
# 포트
bind_port = 7000
vhost_http_port = 80
vhost_https_port = 443

# 인증
token = your_token_here

# 커넥션 풀
max_pool_count = 5
max_ports_per_client = 0

# 하트비트
heartbeat_timeout = 90

# 허용된 클라이언트 포트
allow_ports = 2000-3000,3001,3003,4000-50000
```

### systemd 서비스

```ini
# /etc/systemd/system/frps.service
[Unit]
Description=frp server
After=network.target

[Service]
Type=simple
User=root
ExecStart=/path/to/frps -c /path/to/frps.ini

[Install]
WantedBy=multi-user.target
```

```bash
# 서비스 시작
sudo systemctl start frps
sudo systemctl enable frps
```

## 클라이언트 설정

### 기본 설정 (frpc.ini)

```ini
[common]
server_addr = your_server_ip
server_port = 7000
token = your_token_here

[ssh]
type = tcp
local_ip = 127.0.0.1
local_port = 22
remote_port = 6000
```

### HTTP 서비스

```ini
[common]
server_addr = your_server_ip
server_port = 7000

[web]
type = http
local_port = 8080
custom_domains = yourdomain.com
```

### TCP 포트 매핑

```ini
[common]
server_addr = your_server_ip
server_port = 7000

[mysql]
type = tcp
local_ip = 127.0.0.1
local_port = 3306
remote_port = 13306
```

### STCP (보안 TCP)

```ini
[common]
server_addr = your_server_ip
server_port = 7000

[secret_ssh]
type = stcp
sk = your_secret_key
local_ip = 127.0.0.1
local_port = 22
```

## 자주 묻는 질문

### 연결 실패?

1. 서버가 실행 중인지 확인
2. 방화벽 포트 확인
3. 토큰 일치 여부 검증

### 포트 사용 중?

remote_port를 변경하거나 범위 포트 사용.

### 성능 문제?

커넥션 풀 크기 및 타임아웃 설정 조정.

## 관련 링크

- [frp GitHub](https://github.com/fatedier/frp)
- [frp 문서](https://gofrp.org/docs/)
