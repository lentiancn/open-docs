# GitLab 사용자 매뉴얼

> GitLab을 효과적으로 사용하는 완전한 가이드

---

## 빠른 시작

### 첫 번째 프로젝트 만들기

1. 로그인 후 "새 프로젝트" 클릭
2. 프로젝트 템플릿 또는 빈 프로젝트 선택
3. 프로젝트 이름, 설명 및 가시성 수준 입력
4. "프로젝트 만들기"를 클릭하여 완료

### 프로젝트 로컬로克隆

```bash
# HTTPS로克隆
git clone https://gitlab.example.com/username/project.git

# SSH로克隆
git clone git@gitlab.example.com:username/project.git
```

---

## 코드 관리

### 브랜치 작업

```bash
# 새 브랜치 만들기
git checkout -b feature/new-feature

# 원격에 브랜치 푸시
git push -u origin feature/new-feature

# 모든 브랜치 보기
git branch -a

# 로컬 브랜치 삭제
git branch -d feature/new-feature

# 원격 브랜치 삭제
git push origin --delete feature/new-feature
```

### 병합 요청

1. 로컬 브랜치에서 개발 후 원격에 푸시
2. 프로젝트 페이지 열기, "병합 요청 만들기" 클릭
3. 제목과 설명 입력, 소스 및 대상 브랜치 선택
4. 리뷰어 지정, 관련 레이블 및 마일스톤 추가
5. 병합 요청 만들고 코드 리뷰 대기

### 코드 리뷰

- **인라인 코멘트**: 리뷰어가 코드 줄에 직접 코멘트 가능
- **승인 규칙**: 병합에 필요한 승인 수 구성 가능
- **파이프라인 검사**: 병합 전 파이프라인 통과 요구 가능
- **충돌 해결**: 병합 전 가능한 충돌 해결 필요

---

## 이슈 추적

### 이슈 만들기

1. 프로젝트 → 이슈 → 새 이슈로 이동
2. 제목과 설명 입력 (마크다운 지원)
3. 레이블, 마일스톤, 담당자 설정
4. 가중치와 기한 설정

### 보드 사용

1. 프로젝트 → 이슈 → 보드로 이동
2. 열 만들기 (예: 할 일, 진행 중, 완료)
3. 이슈 카드를 해당 열로 드래그
4. 멤버 또는 레이블로 필터

### 마일스톤

- 시작 및 종료 날짜가 있는 마일스톤 만들기
- 관련 이슈를 마일스톤에 연결
- 마일스톤 진행 상황 추적

---

## CI/CD 파이프라인

### .gitlab-ci.yml 기본 구조

```yaml
stages:
  - build
  - test
  - deploy

build:
  stage: build
  script:
    - echo "Building..."
    - npm install
    - npm run build
  artifacts:
    paths:
      - dist/
    expire_in: 1 week

test:
  stage: test
  script:
    - echo "Testing..."
    - npm test
  coverage: '/Coverage: \d+\.\d+%/'

deploy:
  stage: deploy
  script:
    - echo "Deploying..."
  only:
    - main
  environment:
    name: production
```

### 일반적인 Runner 구성

#### Docker 실행자

```yaml
job:
  image: node:18
  services:
    - postgres:14
  variables:
    POSTGRES_DB: test_db
    POSTGRES_USER: test_user
    POSTGRES_PASSWORD: test_password
```

#### 캐시 구성

```yaml
cache:
  key: ${CI_COMMIT_REF_SLUG}
  paths:
    - node_modules/
    - .npm/
```

### 배포 환경

- **프로덕션**: 공식 릴리스용
- **스테이징**: 릴리스 전 테스트용
- **개발**: 일상적인 개발용

---

## Wiki 문서

### Wiki 페이지 만들기

1. 프로젝트 → Wiki → 새 페이지로 이동
2. 마크다운으로 콘텐츠 작성
3. 페이지 저장

### 사이드바

- 자동 생성된 목차 탐색
- 사이드바 콘텐츠 사용자 정의 가능

---

## 컨테이너 레지스트리

### 이미지 푸시

```bash
# GitLab Registry에 로그인
docker login registry.gitlab.example.com

# 이미지 태그
docker tag my-image:latest registry.gitlab.example.com/username/project/my-image:latest

# 이미지 푸시
docker push registry.gitlab.example.com/username/project/my-image:latest
```

### 이미지 풀

```bash
docker pull registry.gitlab.example.com/username/project/my-image:latest
```

---

## 보안 스캔

### 자동 스캔 기능

- **의존성 스캔**: 프로젝트 의존성의 보안 취약점 확인
- **컨테이너 스캔**: Docker 이미지의 보안 문제 확인
- **SAST**: 정적 애플리케이션 보안 테스트
- **DAST**: 동적 애플리케이션 보안 테스트

### 보안 대시보드 보기

1. 프로젝트 → 보안 및 규정 준수 → 보안 대시보드로 이동
2. 모든 취약점 목록 보기
3. 심각도별로 필터
4. 취약점 추적을 위한 이슈 만들기

---

## 프로젝트 관리 팁

### 템플릿 사용

- 새 프로젝트에 대한 기본 브랜치 보호 규칙 설정
- 프로젝트 템플릿 구성
- 프로젝트 상속 사용

### 멤버 관리

- 프로젝트 멤버 추가 및 액세스 수준 설정
- 그룹을 사용하여 여러 프로젝트 관리
- 액세스 토큰 구성

### 웹훅

- 외부 서비스와 웹훅 통합 구성
- 지원되는 트리거: 푸시, 병합 요청, 태그 등

---

## 모범 사례

1. **기능 브랜치 사용**: 각 기능 또는 수정을 별도의 브랜치에서 개발
2. **자주 커밋**: 명확한 메시지로 자주 커밋
3. **코드 리뷰**: 모든 코드는 병합 전 리뷰되어야 함
4. **자동화된 테스트**: CI/CD 파이프라인에 테스트 단계가 포함되어야 함
5. **문서 유지**: 프로젝트 문서에 Wiki 사용
6. **보안**: 정기적으로 보안 스캔 보고서 확인
