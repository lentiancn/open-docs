# Element Plus ユーザーガイド

このガイドでは、Vue 3アプリケーションでElement Plusコンポーネントを効果的に使用する方法について説明します。

## 基本的な使い方

### Hello Worldの例

```vue
<template>
  <div>
    <el-button type="primary">Hello Element Plus</el-button>
  </div>
</template>

<script setup>
import { ElButton } from 'element-plus'
</script>
```

自動インポートを使用（推奨）：

```vue
<template>
  <div>
    <el-button type="primary">クリックしてね</el-button>
    <el-input v-model="input" placeholder="テキストを入力"></el-input>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const input = ref('')
</script>
```

## コンポーネントカテゴリ

Element Plusはこれらのコンポーネントカテゴリを提供します：

| カテゴリ | コンポーネント |
|----------|------------|
| Basic | Button, Link, Typography, Divider |
| Form | Input, Select, Radio, Checkbox, Switch, Slider, TimePicker, DatePicker |
| Data | Table, Tree, Pagination, Tag |
| Notice | Alert, Message, Notification, Progress |
| Navigation | Menu, Tabs, Breadcrumb, Steps |
| Others | Dialog, Drawer, Card, Collapse |

## 一般的なコンポーネント

### ボタン

```vue
<template>
  <div>
    <!-- 基本的なボタン -->
    <el-button>デフォルト</el-button>
    <el-button type="primary">プライマリ</el-button>
    <el-button type="success">成功</el-button>
    <el-button type="warning">警告</el-button>
    <el-button type="danger">危険</el-button>
    
    <!-- プレーンボタン -->
    <el-button plain>プレーンボタン</el-button>
    <el-button type="primary" plain>プライマリ plain</el-button>
    
    <!-- ラウンドボタン -->
    <el-button round>ラウンド</el-button>
    <el-button type="primary" round>プライマリラウンド</el-button>
    
    <!-- サークルトナー -->
    <el-button circle icon="el-icon-search"></el-button>
    
    <!-- 無効 -->
    <el-button disabled>無効</el-button>
    
    <!-- ローディング -->
    <el-button loading>ローディング</el-button>
    
    <!-- サイズ -->
    <el-button size="large">大</el-button>
    <el-button size="default">中</el-button>
    <el-button size="small">小</el-button>
  </div>
</template>
```

### インプット

```vue
<template>
  <div>
    <!-- 基本的なインプット -->
    <el-input v-model="input" placeholder="テキストを入力"></el-input>
    
    <!-- プレフィックス/サフィックスアイコン付き -->
    <el-input
      v-model="input1"
      placeholder="検索"
      :prefix-icon="Search"
    ></el-input>
    <el-input
      v-model="input2"
      placeholder="パスワード"
      :suffix-icon="Lock"
      show-password
    ></el-input>
    
    <!-- テキストエリア -->
    <el-input
      v-model="textarea"
      type="textarea"
      :rows="3"
      placeholder="説明を入力"
    ></el-input>
    
    <!-- クリア可能 -->
    <el-input
      v-model="input3"
      placeholder="クリア可能"
      clearable
    ></el-input>
    
    <!-- 無効 -->
    <el-input disabled placeholder="無効"></el-input>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { Search, Lock } from '@element-plus/icons-vue'

const input = ref('')
const input1 = ref('')
const input2 = ref('')
const input3 = ref('')
const textarea = ref('')
</script>
```

### テーブル

```vue
<template>
  <el-table :data="tableData" stripe border>
    <el-table-column prop="date" label="日付" width="180"></el-table-column>
    <el-table-column prop="name" label="名前" width="180"></el-table-column>
    <el-table-column prop="address" label="住所"></el-table-column>
    <el-table-column label="操作">
      <template #default="scope">
        <el-button type="primary" @click="handleEdit(scope.row)">
          編集
        </el-button>
        <el-button type="danger" @click="handleDelete(scope.row)">
          削除
        </el-button>
      </template>
    </el-table-column>
  </el-table>
</template>

<script setup>
const tableData = ref([
  {
    date: '2024-01-01',
    name: '山田太郎',
    address: '東京都渋谷区',
  },
  {
    date: '2024-01-02',
    name: '鈴木花子',
    address: '大阪府大阪市',
  },
])

const handleEdit = (row) => {
  console.log('編集:', row)
}

const handleDelete = (row) => {
  console.log('削除:', row)
}
</script>
```

### フォーム

```vue
<template>
  <el-form
    ref="ruleFormRef"
    :model="form"
    :rules="rules"
    label-width="120px"
  >
    <el-form-item label="名前" prop="name">
      <el-input v-model="form.name"></el-input>
    </el-form-item>
    
    <el-form-item label="メールアドレス" prop="email">
      <el-input v-model="form.email"></el-input>
    </el-form-item>
    
    <el-form-item label="性別" prop="gender">
      <el-radio-group v-model="form.gender">
        <el-radio label="male">男性</el-radio>
        <el-radio label="female">女性</el-radio>
      </el-radio-group>
    </el-form-item>
    
    <el-form-item label="趣味" prop="hobby">
      <el-checkbox-group v-model="form.hobby">
        <el-checkbox label="読書">読書</el-checkbox>
        <el-checkbox label="スポーツ">スポーツ</el-checkbox>
        <el-checkbox label="音楽">音楽</el-checkbox>
      </el-checkbox-group>
    </el-form-item>
    
    <el-form-item label="国" prop="country">
      <el-select v-model="form.country" placeholder="国を選択">
        <el-option label="日本" value="japan"></el-option>
        <el-option label="アメリカ" value="usa"></el-option>
        <el-option label="イギリス" value="uk"></el-option>
      </el-select>
    </el-form-item>
    
    <el-form-item>
      <el-button type="primary" @click="submitForm(ruleFormRef)">
        送信
      </el-button>
      <el-button @click="resetForm(ruleFormRef)">リセット</el-button>
    </el-form-item>
  </el-form>
</template>

<script setup>
import { reactive, ref } from 'vue'

const ruleFormRef = ref()

const form = reactive({
  name: '',
  email: '',
  gender: '',
  hobby: [],
  country: '',
})

const rules = reactive({
  name: [
    { required: true, message: '名前を入力してください', trigger: 'blur' },
  ],
  email: [
    { required: true, message: 'メールアドレスを入力してください', trigger: 'blur' },
    { type: 'email', message: '無効なメールアドレス形式', trigger: 'blur' },
  ],
  gender: [
    { required: true, message: '性別を選択してください', trigger: 'change' },
  ],
  country: [
    { required: true, message: '国を選択してください', trigger: 'change' },
  ],
})

const submitForm = async (formEl) => {
  if (!formEl) return
  await formEl.validate((valid) => {
    if (valid) {
      console.log('送信:', form)
    }
  })
}

const resetForm = (formEl) => {
  if (!formEl) return
  formEl.resetFields()
}
</script>
```

### ダイアログ

```vue
<template>
  <el-button type="primary" @click="dialogVisible = true">
    ダイアログを開く
  </el-button>

  <el-dialog
    v-model="dialogVisible"
    title="ダイアログタイトル"
    width="30%"
  >
    <span>これはダイアログメッセージです。</span>
    <template #footer>
      <span class="dialog-footer">
        <el-button @click="dialogVisible = false">キャンセル</el-button>
        <el-button type="primary" @click="dialogVisible = false">
          確認
        </el-button>
      </span>
    </template>
  </el-dialog>
</template>

<script setup>
import { ref } from 'vue'

const dialogVisible = ref(false)
</script>
```

### メッセージ

```javascript
import { ElMessage } from 'element-plus'

// 成功メッセージ
ElMessage.success('成功メッセージ')

// エラーメッセージ
ElMessage.error('エラーメッセージ')

// 警告メッセージ
ElMessage.warning('警告メッセージ')

// 情報メッセージ
ElMessage.info('情報メッセージ')

// 期間指定
ElMessage({
  message: 'カスタムメッセージ',
  type: 'success',
  duration: 3000,
})
```

### 通知

```javascript
import { ElNotification } from 'element-plus'

// 成功通知
ElNotification({
  title: '成功',
  message: '操作が正常に完了しました',
  type: 'success',
})

// エラー通知
ElNotification({
  title: 'エラー',
  message: '操作が失敗しました',
  type: 'error',
})
```

## スロット

Element PlusコンポーネントはVueスロットをサポートします：

```vue
<template>
  <!-- デフォルトスロット -->
  <el-buttonボタンテキスト</el-button>
  
  <!-- 名前付きスロット -->
  <el-dialog>
    <template #header>
      <h3>カスタムヘッダー</h3>
    </template>
    <p>ダイアログの内容</p>
    <template #footer>
      <el-button>キャンセル</el-button>
      <el-button type="primary">OK</el-button>
    </template>
  </el-dialog>
  
  <!-- 空のスロット -->
  <el-table-column>
    <template #empty>
      <div>データがありません</div>
    </template>
  </el-table-column>
</template>
```

## イベント

```vue
<template>
  <el-button @click="handleClick">クリックしてね</el-button>
  
  <el-input
    v-model="input"
    @focus="handleFocus"
    @blur="handleBlur"
    @change="handleChange"
    @input="handleInput"
  ></el-input>
  
  <el-table
    :data="tableData"
    @select="handleSelect"
    @selection-change="handleSelectionChange"
    @row-click="handleRowClick"
  ></el-table>
</template>

<script setup>
const handleClick = () => {
  console.log('ボタンがクリックされました')
}

const handleFocus = () => {
  console.log('インプットがフォーカスされました')
}

const handleBlur = () => {
  console.log('インプットがブラーしました')
}

const handleChange = (value) => {
  console.log('値が変更されました:', value)
}

const handleInput = (value) => {
  console.log('入力:', value)
}

const handleSelect = (selection, row) => {
  console.log('選択:', selection, row)
}

const handleSelectionChange = (selection) => {
  console.log('選択が変更されました:', selection)
}

const handleRowClick = (row) => {
  console.log('行がクリックされました:', row)
}
</script>
```

## v-model

Element Plusは双方向バインディングにv-modelをサポートします：

```vue
<template>
  <!-- インプット -->
  <el-input v-model="inputValue"></el-input>
  
  <!-- チェックボックス -->
  <el-checkbox v-model="checked">ラベル</el-checkbox>
  <el-checkbox-group v-model="checkboxGroup">
    <el-checkbox label="A">A</el-checkbox>
    <el-checkbox label="B">B</el-checkbox>
  </el-checkbox-group>
  
  <!-- ラジオ -->
  <el-radio-group v-model="radio">
    <el-radio label="A">A</el-radio>
    <el-radio label="B">B</el-radio>
  </el-radio-group>
  
  <!-- スイッチ -->
  <el-switch v-model="switchValue"></el-switch>
  
  <!-- セレクター -->
  <el-select v-model="selectValue">
    <el-option label="オプション 1" value="1"></el-option>
    <el-option label="オプション 2" value="2"></el-option>
  </el-select>
  
  <!-- スライダー -->
  <el-slider v-model="sliderValue"></el-slider>
</template>

<script setup>
import { ref } from 'vue'

const inputValue = ref('')
const checked = ref(true)
const checkboxGroup = ref(['A'])
const radio = ref('A')
const switchValue = ref(false)
const selectValue = ref('')
const sliderValue = ref(50)
</script>
```

## アイコン

### アイコンの使用

```bash
# アイコンパッケージをインストール
npm install @element-plus/icons-vue
```

```vue
<template>
  <el-button :icon="Search">検索</el-button>
  <el-icon><Search /></el-icon>
</template>

<script setup>
import { Search } from '@element-plus/icons-vue'
</script>
```

### 利用可能なアイコン

Element Plusにはこれらのアイコンセットが含まれます：
- Element Plus アイコン
- カスタムアイコン

一般的なアイコン：Search, Edit, Delete, Plus, Minus, Check, Close, ArrowLeft, ArrowRight, Upload, Download

## 国際化

### ロケールの設定

```typescript
// main.ts
import ElementPlus from 'element-plus'
import ja from 'element-plus/es/locale/lang/ja'

app.use(ElementPlus, {
  locale: ja,
})
```

### サポートされている言語

| 言語 | コード |
|----------|------|
| 簡体字中国語 | zh-cn |
| 繁体字中国語 | zh-tw |
| 英語 | en |
| スペイン語 | es |
| フランス語 | fr |
| ドイツ語 | de |
| 日本語 | ja |
| 韓国語 | ko |
| ロシア語 | ru |
| ポルトガル語 | pt |
| イタリア語 | it |

## ダイナミックコンポーネント

```vue
<template>
  <component :is="currentComponent" />
</template>

<script setup>
import { ref, computed } from 'vue'
import { Button, Input, Table } from 'element-plus'

const componentName = ref('Button')

const currentComponent = computed(() => {
  return {
    Button: Button,
    Input: Input,
    Table: Table,
  }[componentName.value]
})
</script>
```

## レスポンシブデザイン

```vue
<template>
  <el-row :gutter="20">
    <el-col :xs="24" :sm="12" :md="8" :lg="6" :xl="4">
      <div class="grid-content">カラム 1</div>
    </el-col>
    <el-col :xs="24" :sm="12" :md="8" :lg="6" :xl="4">
      <div class="grid-content">カラム 2</div>
    </el-col>
  </el-row>
</template>

<style>
.grid-content {
  background: #eee;
  padding: 20px;
  text-align: center;
}
</style>
```

## ベストプラクティス

### 1. オン-demandインポートを使用

```typescript
// 悪い例 - 完全インポート
import ElementPlus from 'element-plus'

// 良い例 - 自動インポートプラグインでオン-demandインポート
// コンポーネントは使用時に自動インポート
```

### 2. Composition APIを使用

```vue
<script setup>
<!-- 推奨 -->
import { ref, computed, onMounted } from 'vue'

const count = ref(0)
const doubled = computed(() => count.value * 2)

onMounted(() => {
  console.log('マウントされました')
})
</script>
```

### 3. フォームを適切に処理

```vue
<script setup>
const formRef = ref()
const form = reactive({ ... })
const rules = reactive({ ... })

const handleSubmit = async () => {
  if (!formRef.value) return
  await formRef.value.validate((valid) => {
    if (valid) {
      // 送信
    }
  })
}
</script>
```

### 4. スロットでカスタマイズ

```vue
<el-table-column>
  <template #default="{ row }">
    <span>{{ row.name }}</span>
  </template>
</el-table-column>
```

### 5. ローディング状態を処理

```vue
<template>
  <el-button :loading="loading" @click="handleSubmit">
    {{ loading ? 'ローディング中...' : '送信' }}
  </el-button>
  
  <el-table v-loading="tableLoading" :data="tableData">
    <!-- カラム -->
  </el-table>
</template>
```

## アクセシビリティ

Element PlusコンポーネントにはARIA属性が含まれています：

```vue
<!-- 自動 -->
<el-button type="primary">クリックしてね</el-button>

<!-- aria-labelを使用 -->
<el-button aria-label="フォームを送信">送信</el-button>
```

## パフォーマンスのヒント

1. **オン-demandインポートを使用** - バンドルサイズを削減
2. **ダイアログを遅延ロード** - 大きなダイアログ用
3. **仮想スクロール** - 大きなテーブル用
4. **計算値をキャッシュ** - 冗長な計算を避ける

## よくある問題

### コンポーネントが登録されていない

```typescript
// 解決策：自動インポート設定を確認
// vite.config.ts
Components({
  resolvers: [ElementPlusResolver()],
})
```

### スタイルの競合

```css
/* 解決策：より具体的なセレクターを使用 */
.el-button.my-button {
  /* カスタムスタイル */
}
```

### イベントがトリガーしない

```vue
<!-- 解決策：ネイティブイベントには.native修飾子を使用 -->
<el-input @keyup.enter.native="handleEnter"></el-input>

<!-- またはVue 3では@keyイベントを使用 -->
<el-input @keyup.enter="handleEnter"></el-input>
```

## 関連リンク

- [Element Plus 公式ドキュメント](https://element-plus.org)
- [コンポーネント一覧](https://element-plus.org/en-US/component/button.html)
- [Vue 3 ドキュメント](https://vuejs.org)
- [Vite ドキュメント](https://vitejs.dev)
