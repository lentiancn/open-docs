# GitLab Installation Guide

> Complete guide to installing and configuring GitLab

---

## System Requirements

| Resource | Minimum | Recommended |
|----------|---------|-------------|
| CPU | 2 cores | 4+ cores |
| Memory | 4 GB | 8+ GB |
| Storage | 10 GB | 50+ GB |
| OS | Ubuntu, Debian, CentOS, RHEL, Kubernetes | - |

---

## Installation Methods

### Omnibus Package (Recommended for Linux)

#### Ubuntu/Debian

```bash
# Install dependencies
sudo apt-get update
sudo apt-get install -y curl openssh-server ca-certificates tzdata perl

# Add GitLab repository
curl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash

# Install GitLab
sudo EXTERNAL_URL="https://gitlab.example.com" apt-get install gitlab-ee
```

#### CentOS/RHEL

```bash
# Install dependencies
sudo yum install -y curl policycoreutils openssh-server

# Add GitLab repository
curl -fsSL https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.rpm.sh | sudo bash

# Install GitLab
sudo EXTERNAL_URL="https://gitlab.example.com" yum install -y gitlab-ee
```

### Docker Installation

```bash
# Pull GitLab Docker image
docker run --detach \
  --hostname gitlab.example.com \
  --publish 443:443 --publish 80:80 --publish 22:22 \
  --name gitlab \
  --restart always \
  --volume /srv/gitlab/config:/etc/gitlab \
  --volume /srv/gitlab/logs:/var/log/gitlab \
  --volume /srv/gitlab/data:/var/opt/gitlab \
  gitlab/gitlab-ee:latest
```

### Kubernetes Installation

```bash
# Using Helm chart
helm repo add gitlab https://charts.gitlab.io
helm install gitlab gitlab/gitlab \
  --set externalUrl="https://gitlab.example.com" \
  --set certmanager-issuer.email="admin@example.com"
```

---

## Initial Configuration

### Configure External URL

```bash
# Edit GitLab configuration
sudo vim /etc/gitlab/gitlab.rb

# Set external URL
external_url 'https://gitlab.example.com'

# Reconfigure GitLab
sudo gitlab-ctl reconfigure
```

### Setup SMTP (Email)

```bash
# Configure SMTP in /etc/gitlab/gitlab.rb
gitlab_rails['smtp_enable'] = true
gitlab_rails['smtp_address'] = "smtp.example.com"
gitlab_rails['smtp_port'] = 587
gitlab_rails['smtp_user_name'] = "smtp_user"
gitlab_rails['smtp_password'] = "smtp_password"
gitlab_rails['smtp_domain'] = "example.com"

# Apply changes
sudo gitlab-ctl reconfigure
```

### Enable HTTPS with Let's Encrypt

```bash
# In /etc/gitlab/gitlab.rb
letsencrypt['enable'] = true
letsencrypt['contact_emails'] = ['admin@example.com']

# Reconfigure
sudo gitlab-ctl reconfigure
```

---

## Initial Login

1. Access GitLab at your external URL
2. Login with username: `root`
3. Password is set on first visit
4. Create your first project

---

## Common Commands

```bash
# Check status
sudo gitlab-ctl status

# Start services
sudo gitlab-ctl start

# Stop services
sudo gitlab-ctl stop

# Restart services
sudo gitlab-ctl restart

# View logs
sudo gitlab-ctl tail

# Check configuration
sudo gitlab-rake gitlab:env:info
```

---

## Troubleshooting

### Installation fails?

- Check system requirements
- Ensure all dependencies are installed
- Check firewall and SELinux settings
- Review installation logs

### GitLab won't start?

```bash
# Check for port conflicts
sudo netstat -tulpn | grep -E ':(80|443|22)\s'

# Check disk space
df -h

# Review logs
sudo gitlab-ctl tail
```

### Slow performance?

- Increase server resources
- Enable Prometheus metrics
- Configure proper swap space
- Use PostgreSQL tuning

---

## Resources

- Official Installation Docs: https://docs.gitlab.com/ee/install/
- Hardware Requirements: https://docs.gitlab.com/ee/install/requirements.html
- Community Forum: https://forum.gitlab.com/
