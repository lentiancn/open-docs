# Mockito 사용자 매뉴얼

Mockito 상세 사용 가이드.

## 기초

### 모크 생성

```java
// 인터페이스 모크
List<String> mockList = mock(List.class);

// 클래스 모크
MyService myService = mock(MyService.class);
```

### 스텁 설정

```java
// 단순 스텁
when(mockList.get(0)).thenReturn("first");
when(mockList.size()).thenReturn(10);

// 예외 발생
when(mockList.get(0)).thenThrow(new IndexOutOfBoundsException());
```

### 검증

```java
// 메서드 호출 확인
verify(mockList).add("one");

// 호출 횟수 확인
verify(mockList, times(1)).add("one");
verify(mockList, never()).clear();
```

## 고급 개념

### 인수 매처

```java
// 모든 인수
when(mockList.get(anyInt())).thenReturn("element");

// 특정 매처
when(mockList.contains(argThat(s -> s.startsWith("test")))).thenReturn(true);
```

### 스파이

```java
List<String> spyList = spy(new ArrayList<>());

// 부분 실제 동작
doReturn("real").when(spyList).get(0);
```

## 모범 사례

1. **인터페이스 모킹** - 항상 인터페이스를 모크하세요
2. **실제 객체 사용 안함** - 실제 객체를 모크로 변환하지 마세요
3. **명명** - 모크에 의미 있는 이름을 사용하세요

## 일반적인 시나리오

### 데이터베이스 모킹

```java
@Mock
private UserRepository userRepository;

@Test
void testUserCreation() {
    User user = new User("test@test.com");
    when(userRepository.save(any(User.class))).thenReturn(user);
    
    User result = userService.createUser("test@test.com");
    
    assertNotNull(result);
    verify(userRepository).save(any(User.class));
}
```

## 리소스

- 웹사이트: https://site.mockito.org
- GitHub: https://github.com/mockito/mockito

## 라이선스

MIT License
