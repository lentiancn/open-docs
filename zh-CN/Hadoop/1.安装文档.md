# Hadoop 安装文档

在所有平台上安装 Hadoop 的详细指南。

---

## 目录

- [安装方式](#安装方式)
- [单节点安装](#单节点安装)
- [集群安装](#集群安装)
- [环境配置](#环境配置)
- [启动 Hadoop](#启动-hadoop)
- [验证安装](#验证安装)

---

## 安装方式

| 方式 | 描述 |
|------|------|
| **单节点** | 所有服务在一台机器 |
| **伪分布式** | 模拟集群 |
| **全分布式** | 多台机器 |

---

## 前提条件

### 安装 Java

```bash
# Ubuntu
sudo apt install openjdk-11-jdk

# CentOS
sudo yum install java-11-openjdk java-11-openjdk-devel
```

### 安装 SSH

```bash
sudo apt install openssh-server openssh-client
```

---

## 单节点安装

### 下载 Hadoop

```bash
wget https://dlcdn.apache.org/hadoop/common/hadoop-3.4.3/hadoop-3.4.3.tar.gz
tar -xzf hadoop-3.4.3.tar.gz
sudo mv hadoop-3.4.3 /opt/hadoop
```

### 配置环境变量

```bash
cat >> ~/.bashrc << 'EOF'
export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64
export HADOOP_HOME=/opt/hadoop
export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin
EOF

source ~/.bashrc
```

### 配置 Hadoop

**core-site.xml:**
```xml
<configuration>
    <property>
        <name>fs.defaultFS</name>
        <value>hdfs://localhost:9000</value>
    </property>
</configuration>
```

**hdfs-site.xml:**
```xml
<configuration>
    <property>
        <name>dfs.replication</name>
        <value>1</value>
    </property>
</configuration>
```

---

## 启动 Hadoop

```bash
# 格式化 NameNode（首次）
hdfs namenode -format

# 启动 HDFS
start-dfs.sh

# 启动 YARN
start-yarn.sh
```

---

## 验证

```bash
jps

# 访问 Web 界面
# NameNode: http://localhost:9870
# ResourceManager: http://localhost:8088
```

---

## 下一步

- [Hadoop 使用指南](./2.使用指南.md)
- [官方文档](https://hadoop.apache.org/docs/)
