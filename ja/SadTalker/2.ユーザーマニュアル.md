# SadTalker ユーザーマニュアル

このガイドでは、SadTalkerを使用して話し顔ビデオを生成する方法について詳しく説明します。

## 基本的な使用

### 話し顔ビデオを生成

```bash
python inference.py \
    --source_image path/to/portrait.jpg \
    --audio path/to/audio.wav \
    --result_dir ./results
```

### 主なパラメータ

| パラメータ | 説明 | デフォルト |
|-----------|------|----------|
| `--source_image` | 入力ポートレート画像 | 必須 |
| `--audio` | 入力音声ファイル | 必須 |
| `--result_dir` | 出力ディレクトリ | ./results |
| `--style` | アニメーションスタイル | reference |
| `--preprocess` | 画像の前処理 | crop |

## 使用例

### 基本的な例

```bash
python inference.py \
    --source_image examples/face.png \
    --audio examples/audio.wav \
    --result_dir ./output
```

### 参照ビデオを使用

```bash
python inference.py \
    --source_image examples/face.png \
    --audio examples/audio.wav \
    --reference_video examples/reference.mp4 \
    --result_dir ./output
```

### 顔強調を使用

```bash
python inference.py \
    --source_image examples/face.png \
    --audio examples/audio.wav \
    --face_enhancement GFPGAN \
    --result_dir ./output
```

## 画像の前処理

### 前処理オプション

- **crop**：顔をトリミング
- **resize**：画像をリサイズ
- **full**：画像全体を使用
- **extract**：顔のみを抽出

### ベストプラクティス

1. 高解像度（512x512以上）の画像を使用
2. 顔を正面に向けた写真を撮る
3. 明るい照明条件を確保
4. 重いフィルターや写真編集を避ける

## 音声入力

### サポートされる形式
- WAV（推奨）
- MP3
- FFmpegがサポートするその他の形式

### ベストプラクティス
1. 背景噪音のないクリーンな音声を使用
2. 音声は明瞭に聞こえる必要がある
3. 推奨長さ：1-30秒

## トラブルシューティング

### 唇同期が悪い
- 高品質の音声を使用
- 背景噪音のない音声を確認
- 音声特徴抽出パラメータを調整

### アイデンティティ歪み
- 高解像度画像を使用
- 写真を編集しすぎないようにする
- 良い照明条件を確保

### 出力のアーティファクト
- 出力解像度を下げる
- モデルの適切なインストールを確認
- GPUドライバーを更新

### メモリエラー
- バッチサイズを縮小
- 出力解像度を下げる
- モデルスワッピングを使用
- 他のGPUアプリケーションを閉じる
