# Руководство по использованию JDK

В этом руководстве описано использование JDK для разработки на Java.

## Быстрый старт

### Компиляция и запуск

```bash
# Компиляция
javac HelloWorld.java

# Запуск
java HelloWorld
```

### Запуск одного файла (JDK 11+)

```bash
# Запуск напрямую
java HelloWorld.java
```

## Основные команды

### javac - Java-компилятор

```bash
# Компилировать один файл
javac MyClass.java

# Компилировать несколько файлов
javac *.java

# Компилировать с определённой кодировкой
javac -encoding UTF-8 MyClass.java

# Компилировать в указанную директорию
javac -d bin MyClass.java

# Показать все предупреждения
javac -Xlint MyClass.java
```

### java - Java-лаунчер

```bash
# Запустить класс
java MyClass

# Запустить с аргументами
java MyClass arg1 arg2

# Установить classpath
java -classpath "lib/*:." MyClass

# Установить память
java -Xmx2g -Xms512m MyClass
```

### jar - архив Java

```bash
# Создать JAR
jar cf myapp.jar -C bin .

# Создать JAR с манифестом
jar cfm myapp.jar manifest.txt -C bin .

# Извлечь JAR
jar xf myapp.jar

# Показать содержимое JAR
jar tf myapp.jar
```

### javadoc - генератор документации

```bash
# Сгенерировать документацию
javadoc -d docs -sourcepath src *.java

# Сгенерировать документацию с заголовком
javadoc -d docs -header "My App" *.java
```

### jdb - отладчик Java

```bash
# Запустить отладчик
jdb MyClass

# Установить точку останова
stop at MyClass:10

# Запустить
run

# Пошаговое выполнение
next
step
```

## Параметры JVM

### Параметры памяти

```bash
# Размер кучи
-Xmx2g        # Максимальная куча
-Xms512m      # Начальная куча
-Xss256k      # Размер стека

# Сборка мусора
-XX:+UseG1GC  # Сборщик G1
-XX:+UseParallelGC # Параллельный GC
```

### Параметры производительности

```bash
# JIT-компилятор
-XX:+TieredCompilation

# Совместное использование данных классов
-Xshare:on

# Дедупликация строк
-XX:+UseStringDeduplication
```

## Интеграция с IDE

### IntelliJ IDEA

1. File → Project Structure → SDKs
2. Добавить путь к установленному JDK
3. Установить Project SDK

### VS Code

1. Установить "Extension Pack for Java"
2. Настроить JAVA_HOME в настройках

### Eclipse

1. Window → Preferences → Java → Installed JREs
2. Добавить Standard VM
3. Установить по умолчанию

## Инструменты сборки

### Maven

```xml
<properties>
    <maven.compiler.source>21</maven.compiler.source>
    <maven.compiler.target>21</maven.compiler.target>
</properties>
```

### Gradle

```groovy
sourceCompatibility = '21'
targetCompatibility = '21'
```

## Модули (Java 9+)

### Список модулей

```bash
java --list-modules
```

### Параметры модулей

```bash
# Экспортировать пакет
--export-module java.base/java.lang

# Открыть модуль
--open-module java.base
```

## Безопасность

### Keytool

```bash
# Сгенерировать пару ключей
keytool -genkeypair -alias mykey -keyalg RSA -keystore keystore.jks

# Список сертификатов
keytool -list -keystore keystore.jks

# Экспортировать сертификат
keytool -export -alias mykey -file cert.crt -keystore keystore.jks
```

## Профилирование

### jcmd

```bash
# Список запущенных Java-процессов
jcmd

# Получить информацию о процессе
jcmd <pid> VM.flags

# Запустить GC
jcmd <pid> GC.run
```

### jvisualvm

```bash
# Запустить визуальную VM
jvisualvm
```

## Рекомендации

### 1. Использовать LTS для продакшена

```bash
# Рекомендуется: JDK 17 или 21 для продакшена
```

### 2. Установить достаточный объём памяти

```bash
# Для веб-приложений
java -Xmx4g -Xms2g -XX:+UseG1GC MyApp
```

### 3. Включить логи GC

```bash
# Включить логирование GC
-Xlog:gc*:file=gc.log:time,uptime,level,tags
```

## Дополнительные ресурсы

- [Документация Oracle Java](https://docs.oracle.com/en/java/)
- [Документация JDK API](https://docs.oracle.com/en/java/javase/21/docs/api/)
