# Flutter å¸¸è§é—®é¢˜

> å½“å‰ç‰ˆæœ¬ï¼šFlutter 3.41.2 | æ›´æ–°æ—¥æœŸï¼š2026-01-28
> å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.flutter.dev/resources/faq

---

## ç›®å½•

1. [åŸºç¡€é—®é¢˜](#åŸºç¡€é—®é¢˜)
2. [å®‰è£…é—®é¢˜](#å®‰è£…é—®é¢˜)
3. [å¼€å‘é—®é¢˜](#å¼€å‘é—®é¢˜)
4. [æ„å»ºé—®é¢˜](#æ„å»ºé—®é¢˜)
5. [æ€§èƒ½é—®é¢˜](#æ€§èƒ½é—®é¢˜)
6. [å¹³å°é—®é¢˜](#å¹³å°é—®é¢˜)

---

## åŸºç¡€é—®é¢˜

### Q: Flutter æ˜¯ä»€ä¹ˆï¼Ÿé€‚åˆåšä»€ä¹ˆï¼Ÿ

**ç­”ï¼š** Flutter æ˜¯ Google å¼€å‘çš„è·¨å¹³å° UI æ¡†æ¶ï¼Œä½¿ç”¨ Dart è¯­è¨€ï¼Œå¯ä»¥ä»å•ä¸€ä»£ç åº“æ„å»º iOSã€Androidã€Webã€Windowsã€macOSã€Linux åº”ç”¨ã€‚

é€‚åˆåœºæ™¯ï¼š
- éœ€è¦é«˜åº¦å“ç‰ŒåŒ–çš„åº”ç”¨
- å¤šå¹³å°ä¸€è‡´æ€§è¦æ±‚é«˜çš„é¡¹ç›®
- å¿«é€ŸåŸå‹å’Œ MVP å¼€å‘
- ä¸­å°å‹ç§»åŠ¨åº”ç”¨

---

### Q: Flutter å’Œ React Native æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

| ç‰¹æ€§ | Flutter | React Native |
|------|---------|--------------|
| å¼€å‘è¯­è¨€ | Dart | JavaScript |
| æ¸²æŸ“æ–¹å¼ | Skia è‡ªè¡Œç»˜åˆ¶ | åŸç”Ÿç»„ä»¶ |
| æ€§èƒ½ | æ›´é«˜ï¼ˆåŸç”Ÿç¼–è¯‘ï¼‰ | è¾ƒå¥½ï¼ˆJS æ¡¥æ¥ï¼‰ |
| åŒ…ç”Ÿæ€ | å¢é•¿ä¸­ | æ›´æˆç†Ÿ |
| å­¦ä¹ æ›²çº¿ | è¾ƒä½ | è¾ƒä½ |

---

### Q: ä¸ºä»€ä¹ˆ Flutter é€‰æ‹© Dart è¯­è¨€ï¼Ÿ

Flutter é€‰æ‹© Dart æ˜¯å› ä¸ºå®ƒå…·å¤‡ï¼š
1. **JIT + AOT åŒç¼–è¯‘**ï¼šå¼€å‘æ—¶æ”¯æŒçƒ­é‡è½½ï¼Œå‘å¸ƒæ—¶åŸç”Ÿç¼–è¯‘
2. **é¢å‘å¯¹è±¡**ï¼šé€‚åˆ UI æ¡†æ¶å¼€å‘
3. **é«˜æ€§èƒ½**ï¼šå¿«é€Ÿå†…å­˜åˆ†é…
4. **Google å®˜æ–¹æ”¯æŒ**ï¼šä¸ Flutter æ·±åº¦é›†æˆ

---

### Q: Flutter å¯ä»¥ç¼–è¯‘ä¸º JavaScript å—ï¼Ÿ

**ç­”ï¼š** å¯ä»¥ã€‚Flutter æ”¯æŒå°† Dart ä»£ç ç¼–è¯‘ä¸º JavaScriptï¼Œç”¨äº Web å¹³å°ã€‚ä½¿ç”¨æ–¹å¼ä¸å…¶ä»–å¹³å°ç±»ä¼¼ï¼š
```bash
flutter build web
```

---

### Q: Flutter æ˜¯å¦æ”¯æŒçƒ­æ›´æ–°ï¼ˆCode Pushï¼‰ï¼Ÿ

**ç­”ï¼š** å®˜æ–¹ä¸ç›´æ¥æ”¯æŒä»£ç çƒ­æ›´æ–°ï¼Œä½†æœ‰ç¬¬ä¸‰æ–¹æ–¹æ¡ˆï¼š
- **Shorebird**ï¼šä¸“é—¨ä¸º Flutter è®¾è®¡çš„ä»£ç æ¨é€æœåŠ¡

æ³¨æ„ï¼šApp Store å®¡æ ¸å¯èƒ½å¯¹çƒ­æ›´æ–°æœ‰é™åˆ¶ã€‚

---

## å®‰è£…é—®é¢˜

### Q: flutter doctor æ˜¾ç¤ºé”™è¯¯æ€ä¹ˆåŠï¼Ÿ

**ç­”ï¼š** æŒ‰æç¤ºæ’æŸ¥å¸¸è§é—®é¢˜ï¼š

```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯
flutter doctor -v
```

å¸¸è§é—®é¢˜ï¼š
1. âœ— Android SDK ç¼ºå¤± â†’ å®‰è£… Android Studio æˆ– command-line tools
2. âœ— Android license æœªæ¥å— â†’ `flutter doctor --android-licenses`
3. âœ— Xcode ç‰ˆæœ¬é—®é¢˜ â†’ æ›´æ–° Xcode æˆ–è¿è¡Œ `sudo xcodebuild -runFirstLaunch`

---

### Q: ä¸‹è½½ Flutter SDK é€Ÿåº¦æ…¢ï¼Ÿ

**ç­”ï¼š** ä½¿ç”¨å›½å†…é•œåƒï¼š

```bash
# Windows (PowerShell)
[Environment]::SetEnvironmentVariable("FLUTTER_STORAGE_BASE_URL", "https://storage.flutter-io.cn")
[Environment]::SetEnvironmentVariable("PUB_CACHE", "$env:APPDATA\Pub\Cache")

# macOS/Linux
export FLUTTER_STORAGE_BASE_URL="https://storage.flutter-io.cn"
export PUB_CACHE="~/.pub-cache"
```

---

### Q: Flutter å’Œ Dart ç‰ˆæœ¬ä¸åŒ¹é…ï¼Ÿ

**ç­”ï¼š** æ£€æŸ¥ç‰ˆæœ¬ï¼š

```bash
flutter --version
dart --version
```

å‡çº§ Flutter ä¼šè‡ªåŠ¨å‡çº§ Dartã€‚å¦‚éœ€æŒ‡å®šç‰ˆæœ¬ï¼š
```bash
flutter upgrade v3.41.0
```

---

### Q: macOS å®‰è£… Flutter åæç¤ºæƒé™é”™è¯¯ï¼Ÿ

**ç­”ï¼š** æ‰§è¡Œï¼š
```bash
sudo xcodebuild -runFirstLaunch
```

å¦‚æœä»æœ‰é—®é¢˜ï¼š
```bash
sudo chown -R $(whoami) /usr/local/lib
```

---

### Q: å¦‚ä½•å®Œå…¨å¸è½½ Flutterï¼Ÿ

**Windowsï¼š**
1. åˆ é™¤ Flutter å®‰è£…ç›®å½•
2. ä» PATH ä¸­ç§»é™¤ Flutter bin ç›®å½•
3. åˆ é™¤ `%APPDATA%\Local\Flutter`

**macOS/Linuxï¼š**
```bash
sudo rm -rf ~/flutter
# ä» shell é…ç½®ä¸­ç§»é™¤ PATH è®°å½•
```

---

## å¼€å‘é—®é¢˜

### Q: StatefulWidget ä¸­ setState ä¸ç”Ÿæ•ˆï¼Ÿ

**ç­”ï¼š** å¸¸è§åŸå› ï¼š
1. æœªåœ¨ `build()` æ–¹æ³•ä¸­ç›´æ¥ä½¿ç”¨çŠ¶æ€å˜é‡
2. åœ¨å¼‚æ­¥å›è°ƒä¸­è°ƒç”¨ setState ä½†æœªæ­£ç¡®å¼•ç”¨
3. çŠ¶æ€å˜é‡å‘½åä»¥ `_` å¼€å¤´ä½†åœ¨ Widget æ ‘å¤–ä½¿ç”¨

æ£€æŸ¥ä»£ç ï¼š
```dart
// âœ… æ­£ç¡®
setState(() {
  _count++;
});

// âŒ é”™è¯¯ - å˜é‡æœªåœ¨ setState ä¸­æ›´æ–°
_count++;
```

---

### Q: Widget ä¸æ˜¾ç¤ºæˆ–å¸ƒå±€é”™ä¹±ï¼Ÿ

**ç­”ï¼š** æ£€æŸ¥çº¦æŸï¼š
1. **çˆ¶å®¹å™¨æ˜¯å¦æœ‰çº¦æŸ**ï¼šExpandedã€FittedBox
2. **æ˜¯å¦è®¾ç½®äº†å®½é«˜**ï¼šä½¿ç”¨ SizedBox æˆ– Container
3. **ä¸»è½´æ–¹å‘æ˜¯å¦æ­£ç¡®**ï¼šRow ç”¨ widthï¼ŒColumn ç”¨ height
4. **æ˜¯å¦åœ¨ ListView/GridView ä¸­**ï¼šå­é¡¹éœ€è¦ç¡®å®šå°ºå¯¸

```dart
// ä½¿ç”¨ Expanded è‡ªåŠ¨å¡«å……å‰©ä½™ç©ºé—´
Row(
  children: [
    Container(width: 100, child: Text('å›ºå®š')),
    Expanded(child: Container(color: Colors.red)), // è‡ªåŠ¨å¡«å……
  ],
)
```

---

### Q: ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Ÿ

**ç­”ï¼š** æ’æŸ¥æ­¥éª¤ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. æ£€æŸ¥ URL æ˜¯å¦æ­£ç¡®
3. æ·»åŠ è¶…æ—¶å’Œé”™è¯¯å¤„ç†ï¼š

```dart
try {
  final response = await dio.get(
    'https://api.example.com/data',
    options: Options(
      sendTimeout: const Duration(seconds: 10),
      receiveTimeout: const Duration(seconds: 10),
    ),
  );
} on DioException catch (e) {
  // å¤„ç†é”™è¯¯
  print(e.message);
}
```

4. Android æ£€æŸ¥ AndroidManifest.xml æƒé™ï¼š
```xml
<uses-permission android:name="android.permission.INTERNET"/>
```

---

### Q: å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Ÿ

**ç­”ï¼š** å¸¸è§åŸå› ï¼š
1. ç½‘ç»œå›¾ç‰‡æœªæ·»åŠ  Internet æƒé™
2. URL é”™è¯¯æˆ–å›¾ç‰‡ä¸å­˜åœ¨
3. ä½¿ç”¨æ­£ç¡®çš„ Image Widgetï¼š

```dart
// ç½‘ç»œå›¾ç‰‡
Image.network(
  'https://example.com/image.png',
  loadingBuilder: (context, child, loadingProgress) {
    if (loadingProgress == null) return child;
    return CircularProgressIndicator();
  },
  errorBuilder: (context, error, stackTrace) {
    return Icon(Icons.error);
  },
)

// æœ¬åœ°å›¾ç‰‡ï¼ˆéœ€åœ¨ pubspec.yaml ä¸­å£°æ˜ï¼‰
Image.asset('assets/image.png')
```

---

### Q: å¦‚ä½•å¤„ç† JSON æ•°æ®ï¼Ÿ

**ç­”ï¼š** æ–¹æ³•ä¸€ï¼šæ‰‹åŠ¨è§£æ
```dart
final data = json.decode(response.body);
final name = data['name'] as String;
```

æ–¹æ³•äºŒï¼šä½¿ç”¨ json_serializableï¼ˆæ¨èå¤§å‹é¡¹ç›®ï¼‰
```dart
// å®šä¹‰æ¨¡å‹ç±»
@JsonSerializable()
class User {
  final String name;
  final int age;
}

// è‡ªåŠ¨ç”Ÿæˆä»£ç 
user = User.fromJson(json);
```

---

### Q: çŠ¶æ€ç®¡ç†é€‰å“ªä¸ªå¥½ï¼Ÿ

**ç­”ï¼š** é€‰æ‹©å»ºè®®ï¼š

| åœºæ™¯ | æ¨èæ–¹æ¡ˆ |
|------|----------|
| å­¦ä¹ /å°å‹é¡¹ç›® | setState |
| ä¸­å°å‹åº”ç”¨ | Provider |
| å¤§å‹åº”ç”¨ | Riverpod / BLoC |
| å¿«é€Ÿå¼€å‘ | GetX |
| å›¢é˜Ÿåä½œ | Riverpod / BLoC |

---

## æ„å»ºé—®é¢˜

### Q: æ„å»º APK å¤±è´¥ï¼Ÿ

**ç­”ï¼š** å¸¸è§è§£å†³æ–¹æ¡ˆï¼š

```bash
# æ¸…ç†å¹¶é‡æ–°æ„å»º
flutter clean
flutter pub get
flutter build apk --debug
```

æ£€æŸ¥ï¼š
1. Android SDK é…ç½®æ­£ç¡®
2. gradle ç‰ˆæœ¬å…¼å®¹
3. ç½‘ç»œèƒ½è®¿é—® Google ä»“åº“

---

### Q: æ„å»º iOS å¤±è´¥ï¼Ÿ

**ç­”ï¼š** æ£€æŸ¥æ­¥éª¤ï¼š

```bash
# æ‰“å¼€ iOS é¡¹ç›®
open ios/Runner.xcworkspace

# åœ¨ Xcode ä¸­ï¼š
# 1. é€‰æ‹©æ­£ç¡®çš„ Team
# 2. è®¾ç½®æ­£ç¡®çš„ Bundle Identifier
# 3. æ£€æŸ¥ Signing & Capabilities

# æˆ–ä½¿ç”¨å‘½ä»¤è¡Œ
flutter build ios --release --no-codesign
```

---

### Q: æ„å»º Web å¤±è´¥ï¼Ÿ

**ç­”ï¼š** å¸¸è§é—®é¢˜ï¼š

1. **å†…å­˜ä¸è¶³**ï¼šWeb æ„å»ºéœ€è¦è¾ƒå¤šå†…å­˜
2. **ä¸æ”¯æŒçš„åŒ…**ï¼šæ£€æŸ¥ pubspec.yaml ä¸­æ˜¯å¦æœ‰ä»…æ”¯æŒç§»åŠ¨ç«¯çš„åŒ…
3. **é…ç½®é—®é¢˜**ï¼šç¡®ä¿ web/index.html å­˜åœ¨

```bash
# è°ƒè¯•æ„å»º
flutter build web --debug
```

---

### Q: å¢é‡æ„å»ºå¤±è´¥ï¼Ÿ

**ç­”ï¼š** å°è¯•å®Œå…¨é‡å»ºï¼š

```bash
flutter clean
flutter pub get
flutter build [platform]
```

---

## æ€§èƒ½é—®é¢˜

### Q: åº”ç”¨å¡é¡¿ï¼Ÿ

**ç­”ï¼š** ä¼˜åŒ–å»ºè®®ï¼š

1. **é¿å…é¢‘ç¹é‡å»º**ï¼šä½¿ç”¨ `const` æ„é€ å‡½æ•°
```dart
// âŒ
Container(padding: EdgeInsets.all(16))

// âœ…
const SizedBox(width: 16)
```

2. **ä½¿ç”¨åˆ—è¡¨ä¼˜åŒ–**ï¼š
```dart
// âŒ - ä¸€æ¬¡æ€§æ¸²æŸ“æ‰€æœ‰é¡¹
ListView(
  children: items.map((i) => ItemWidget(i)).toList(),
)

// âœ… - æ‡’åŠ è½½
ListView.builder(
  itemCount: items.length,
  itemBuilder: (context, index) => ItemWidget(items[index]),
)
```

3. **é¿å…åœ¨ build ä¸­åˆ›å»ºå¯¹è±¡**
4. **ä½¿ç”¨ RepaintBoundary** éš”ç¦»é‡ç»˜åŒºåŸŸ

---

### Q: å†…å­˜å ç”¨é«˜ï¼Ÿ

**ç­”ï¼š** ä¼˜åŒ–å»ºè®®ï¼š

1. **ä½¿ç”¨å›¾ç‰‡ç¼“å­˜**ï¼šImage.network çš„ cacheWidth/cacheHeight
2. **åŠæ—¶é‡Šæ”¾èµ„æº**ï¼šåœ¨ State.dispose() ä¸­å…³é—­æµå’Œæ§åˆ¶å™¨
3. **ä½¿ç”¨ const**ï¼šå‡å°‘å¯¹è±¡åˆ›å»º
4. **åˆ†æå†…å­˜**ï¼šä½¿ç”¨ DevTools â†’ Memory

---

### Q: é¦–å±åŠ è½½æ…¢ï¼Ÿ

**ç­”ï¼š** ä¼˜åŒ–æ–¹æ¡ˆï¼š

1. **å‡å°‘åˆå§‹åŒ…ä½“ç§¯**ï¼šä½¿ç”¨ deferred as å»¶è¿ŸåŠ è½½
2. **é¢„åŠ è½½**ï¼šåœ¨æ˜¾ç¤º Splash æ—¶é¢„åŠ è½½
3. **ä¼˜åŒ–å›¾ç‰‡**ï¼šä½¿ç”¨ WebP æ ¼å¼
4. **å‡å°‘åŒæ­¥æ“ä½œ**ï¼šå¼‚æ­¥åˆå§‹åŒ–

---

## å¹³å°é—®é¢˜

### Q: iOS çŠ¶æ€æ é¢œè‰²ä¸å¯¹ï¼Ÿ

**ç­”ï¼š** åœ¨ iOS ä¸­è®¾ç½®çŠ¶æ€æ æ ·å¼ï¼š

```dart
// æ–¹æ³•ä¸€ï¼šå…¨å±€è®¾ç½®
MaterialApp(
  theme: ThemeData(
    appBarTheme: const AppBarTheme(
      systemOverlayStyle: SystemUiOverlayStyle.dark,
    ),
  ),
)

// æ–¹æ³•äºŒï¼šåœ¨é¡µé¢ä¸­è®¾ç½®
AppBar(
  backgroundColor: Colors.transparent,
  elevation: 0,
  systemOverlayStyle: SystemUiOverlayStyle.dark,
)
```

---

### Q: Android å…¨é¢å±é€‚é…ï¼Ÿ

**ç­”ï¼š** ä½¿ç”¨ SafeArea æˆ–è°ƒæ•´ manifestï¼š

```dart
// æ–¹æ³•ä¸€ï¼šSafeArea
Scaffold(
  body: SafeArea(child: Content()),
)

// æ–¹æ³•äºŒï¼šAndroidManifest.xml
<application
    android:resizeableActivity="true"
    ... >
```

---

### Q: Web ç«¯è·¯ç”±åˆ·æ–° 404ï¼Ÿ

**ç­”ï¼š** é…ç½® Web æœåŠ¡å™¨é‡å®šå‘åˆ° index.htmlï¼š

**Nginxï¼š**
```nginx
location / {
  try_files $uri $uri/ /index.html;
}
```

**Firebase Hostingï¼š**
```json
{
  "hosting": {
    "rewrites": [{"source": "**", "destination": "/index.html"}]
  }
}
```

---

### Q: æ¡Œé¢åº”ç”¨çª—å£å¤§å°å›ºå®šï¼Ÿ

**ç­”ï¼š** é…ç½® Windows/macOS/Linux çª—å£ï¼š

```dart
// Windows
Future<void> main() async {
  WidgetsFlutterBinding.ensureInitialized();
  
  // è®¾ç½®æœ€å°çª—å£å°ºå¯¸
  // Windows é¡¹ç›®ä¸­ä¿®æ”¹ my_project/windows/runner/main.cpp
  
  runApp(const MyApp());
}
```

---

## æ›´å¤šèµ„æº

- ğŸ“– å®˜æ–¹ FAQï¼šhttps://docs.flutter.dev/resources/faq
- ğŸ“– æ€§èƒ½ FAQï¼šhttps://docs.flutter.dev/perf/faq
- ğŸ“– Web FAQï¼šhttps://docs.flutter.dev/platform-integration/web/faq
- ğŸ’¬ ä¸­æ–‡ç¤¾åŒºï¼šhttps://flutter.cn

---

## ä¸‹ä¸€æ­¥

- ğŸ  [è¿”å›é¦–é¡µ](./README.md)
