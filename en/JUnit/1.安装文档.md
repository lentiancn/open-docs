# JUnit Installation Guide

JUnit is the most popular unit testing framework for Java and the default testing framework for Spring Boot applications.

## Version Overview

JUnit has two main versions in active use:

| Version | Name | Java Version | Release Date | Status |
|---------|------|-------------|-------------|--------|
| JUnit 5 | Jupiter | Java 8+ | 2016 | Current |
| JUnit 4 | - | Java 5+ | 2005 | Legacy |

**Recommendation:** Use JUnit 5 (Jupiter) for all new projects. JUnit 4 is legacy and only maintained for backward compatibility.

### Version Differences

| Feature | JUnit 4 | JUnit 5 |
|---------|---------|----------|
| Annotations | @Test, @Before, @After | @Test, @BeforeEach, @AfterEach |
| Test Classes | Public classes only | Any class |
| Assertions | Assert methods | assertions class with lambda support |
| Parameterized Tests | @Parameters | @ParameterizedTest |
| Nested Tests | @RunWith(Nested.class) | @Nested |
| Test Suites | @RunWith(Suite.class) | @SelectPackages |

## Prerequisites

### Java Requirements

| JUnit Version | Minimum Java |
|-------------|-------------|
| JUnit 5.11.x | Java 8+ |
| JUnit 5.10.x | Java 8+ |
| JUnit 5.9.x | Java 8+ |
| JUnit 4.13.x | Java 5+ |

### Build Tools

- **Maven**: 3.6+
- **Gradle**: 5.6+
- **Ant**: 1.8+

## Install Dependencies

### Maven (JUnit 5 - Recommended)

Add to your `pom.xml`:

```xml
<project>
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.example</groupId>
    <artifactId>my-project</artifactId>
    <version>1.0-SNAPSHOT</version>
    
    <properties>
        <maven.compiler.source>17</maven.compiler.source>
        <maven.compiler.target>17</maven.compiler.target>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <junit.version>5.11.0</junit.version>
    </properties>

    <dependencies>
        <!-- JUnit 5 -->
        <dependency>
            <groupId>org.junit.jupiter</groupId>
            <artifactId>junit-jupiter</artifactId>
            <version>${junit.version}</version>
            <scope>test</scope>
        </dependency>
        
        <!-- JUnit Platform Launcher (for IDE support) -->
        <dependency>
            <groupId>org.junit.platform</groupId>
            <artifactId>junit-platform-launcher</artifactId>
            <version>1.11.0</version>
            <scope>test</scope>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-surefire-plugin</artifactId>
                <version>3.2.5</version>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-failsafe-plugin</artifactId>
                <version>3.2.5</version>
            </plugin>
        </plugins>
    </build>
</project>
```

### Gradle (JUnit 5 - Recommended)

Add to your `build.gradle`:

```groovy
plugins {
    id 'java'
    id 'application'
}

repositories {
    mavenCentral()
}

dependencies {
    // JUnit 5 (Jupiter)
    testImplementation 'org.junit.jupiter:junit-jupiter:5.11.0'
    
    // JUnit Platform for IDE support
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
    
    // For JUnit 5 Gradle support
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.11.0'
    testRuntimeOnly 'org.junit.vintage:junit-vintage-engine:5.11.0'
}

test {
    useJUnitPlatform()  // Enable JUnit 5
}

// Enable detailed test output
test {
    testLogging {
        events 'passed', 'skipped', 'failed'
        exceptionFormat 'full'
    }
}
```

### JUnit 4 (Legacy - Not Recommended)

Only use for existing projects that cannot be migrated:

```xml
<dependency>
    <groupId>junit</groupId>
    <artifactId>junit</artifactId>
    <version>4.13.2</version>
    <scope>test</scope>
</dependency>
```

## IDE Support

### IntelliJ IDEA

| Version | JUnit 5 Support |
|---------|----------------|
| 2023.x | Full Support |
| 2022.x | Full Support |
| 2021.x | Full Support |
| 2020.x | Full Support |
| 2019.2+ | Full Support |

**Setup:**
1. IntelliJ IDEA has built-in JUnit 5 support
2. No additional plugins needed
3. Just add dependencies to pom.xml or build.gradle

**Running Tests:**
- Right-click test class → Run
- Use Run Configuration for more options

### VS Code

**Required Extensions:**
1. Extension Pack for Java (Microsoft)
2. Language Support for Java by Red Hat

**Installation:**
```bash
code --install-extension vscjava.vscode-java-pack
```

**Configuration:**
```json
{
    "java.test.config": {
        "name": "JUnit 5",
        "workingDirectory": "${workspaceFolder}",
        "args": ["-m", "org.junit.platform.console", "--include-classname=.*"]
    }
}
```

### Eclipse

**Installation:**
1. Eclipse IDE for Enterprise Java Developers (recommended)
2. Or install via Eclipse Marketplace:
   - Help → Eclipse Marketplace
   - Search "JUnit"
   - Install "JUnit"

**Running Tests:**
- Right-click test class → Run As → JUnit Test
- Use Run Configurations for more options

### NetBeans

**Installation:**
1. NetBeans 12+ has built-in JUnit 5 support
2. Or use Tools → Plugins → Available Plugins

### JUnit 5 with Older IDEs

If using older IDE versions that don't support JUnit 5 natively:

```xml
<dependency>
    <groupId>org.junit.platform</groupId>
    <artifactId>junit-platform-console-standalone</artifactId>
    <version>1.11.0</version>
</dependency>
```

Run from command line:
```bash
java -jar junit-platform-console-standalone-1.11.0.jar -c MyTestClass
```

## Spring Boot Integration

### Spring Boot 2.2+ (Default JUnit 5)

Spring Boot 2.2+ uses JUnit 5 by default:

```xml
<parent>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-parent</artifactId>
    <version>3.3.0</version>
</parent>

<dependencies>
    <!-- Includes JUnit 5 + Mockito + AssertJ -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-test</artifactId>
        <scope>test</scope>
    </dependency>
</dependencies>
```

This starter includes:
- **JUnit Jupiter** - JUnit 5 framework
- **Mockito** - Mocking framework
- **AssertJ** - Fluent assertions
- **Spring Test** - Spring testing support

### Spring Boot 2.1 and Earlier (JUnit 4)

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-test</artifactId>
    <scope>test</scope>
    <exclusions>
        <exclusion>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
        </exclusion>
    </exclusions>
</dependency>

<!-- Add JUnit 5 -->
<dependency>
    <groupId>org.junit.jupiter</groupId>
    <artifactId>junit-jupiter</artifactId>
    <scope>test</scope>
</dependency>
```

### Spring Extension for JUnit 5

```xml
<dependency>
    <groupId>org.springframework</groupId>
    <artifactId>spring-test</artifactId>
    <scope>test</scope>
    <exclusions>
        <exclusion>
            <groupId>org.junit.vintage</groupId>
            <artifactId>junit-vintage-engine</artifactId>
        </exclusion>
    </exclusions>
</dependency>
```

## Standalone Usage

### Console Launcher

Run tests without build tools:

```bash
# Download standalone JAR
wget https://repo1.maven.org/maven2/org/junit/platform/junit-platform-console-standalone/1.11.0/junit-platform-console-standalone-1.11.0.jar

# Run tests
java -jar junit-platform-console-standalone-1.11.0.jar -c com.example.MyTest
```

### JUnit 5 Console Options

```bash
# Run specific test class
java -jar junit-platform-console-standalone-1.11.0.jar -c com.example.MyTest

# Run with custom classpath
java -jar junit-platform-console-standalone-1.11.0.jar -cp myclasses -c com.example.MyTest

# Run with verbose output
java -jar junit-platform-console-standalone-1.11.0.jar -c com.example.MyTest --details=verbose

# Run specific test method
java -jar junit-platform-console-standalone-1.11.0.jar -c com.example.MyTest#myTestMethod

# Run tests in package
java -jar junit-platform-console-standalone-1.11.0.jar --scan-classpath -p com.example.tests
```

## Version Compatibility Matrix

### JUnit 5 Version Compatibility

| JUnit 5 | Platform | Vintage | Spring Boot |
|----------|----------|---------|-------------|
| 5.11.x | 1.11.x | 5.11.x | 3.3.x |
| 5.10.x | 1.10.x | 5.10.x | 3.2.x |
| 5.9.x | 1.9.x | 5.9.x | 3.1.x |
| 5.8.x | 1.8.x | 5.8.x | 2.7.x |

### Java Compatibility

| JUnit 5 Version | Minimum Java |
|-----------------|-------------|
| 5.11.x | Java 8 |
| 5.10.x | Java 8 |
| 5.9.x | Java 8 |
| 5.8.x | Java 8 |
| 5.7.x | Java 8 |
| 5.6.x | Java 8 |
| 5.5.x | Java 8 |
| 5.4.x | Java 8 |
| 5.3.x | Java 8 |
| 5.2.x | Java 8 |
| 5.1.x | Java 8 |
| 5.0.x | Java 8 |

## Migration from JUnit 4 to JUnit 5

### Annotation Changes

| JUnit 4 | JUnit 5 |
|----------|-----------|
| @Test (from org.junit.Test) | @Test (from org.junit.jupiter.api.Test) |
| @Before | @BeforeEach |
| @After | @AfterEach |
| @BeforeClass | @BeforeAll |
| @AfterClass | @AfterAll |
| @Ignore | @Disabled |
| @RunWith | @ExtendWith |
| @Category | @Tag |

### Import Changes

```java
// JUnit 4
import org.junit.Test;
import org.junit.Before;
import org.junit.After;
import org.junit.BeforeClass;
import org.junit.AfterClass;
import org.junit.Ignore;
import org.junit.runner.RunWith;

// JUnit 5
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.AfterAll;
import org.junit.jupiter.api.Disabled;
import org.junit.jupiter.api.extension.ExtendWith;
```

### Assertion Changes

```java
// JUnit 4
import static org.junit.Assert.*;

@Test
public void testExample() {
    assertEquals("expected", "actual");
    assertTrue(condition);
    assertFalse(condition);
    assertNull(object);
    assertNotNull(object);
    assertSame(obj1, obj2);
    assertArrayEquals(arr1, arr2);
}

// JUnit 5
import static org.junit.jupiter.api.Assertions.*;

@Test
void testExample() {
    assertEquals("expected", "actual", "Optional message");
    assertTrue(condition, () -> "Lazy message");
    assertFalse(condition);
    assertNull(object);
    assertNotNull(object);
    assertSame(obj1, obj2);
    assertArrayEquals(arr1, arr2);
    
    // New in JUnit 5
    assertAll(() -> assertEquals("a", "a"),
              () -> assertTrue(true));
}
```

### Migration Tools

Use JUnit Vintage for gradual migration:

```xml
<dependency>
    <groupId>org.junit.vintage</groupId>
    <artifactId>junit-vintage-engine</artifactId>
    <scope>test</scope>
</dependency>
```

This allows running JUnit 4 tests with JUnit 5 platform.

## Troubleshooting

### Tests Not Running

**Problem:** Tests don't run in IDE

**Solutions:**
1. Ensure JUnit 5 dependencies are correct
2. Check Maven/Gradle can resolve dependencies
3. Verify IDE supports JUnit 5
4. Clear IDE cache and rebuild

### No Tests Found

**Problem:** "No tests found" message

**Solutions:**
1. Add @Test annotation to test methods
2. Ensure test class ends with "Test"
3. Check package structure
4. Verify test is in src/test/java

### Dependency Conflicts

**Problem:** Version conflicts with other libraries

**Solutions:**
1. Use dependencyManagement in Maven
2. Check for transitive dependencies
3. Exclude conflicting dependencies

### Performance Issues

**Problem:** Tests run slowly

**Solutions:**
1. Use @TestInstance(Lifecycle.PER_CLASS) for related tests
2. Use @Disabled for slow tests
3. Consider test parallelization

## Best Practices

1. **Use JUnit 5** - Always prefer JUnit 5 over JUnit 4
2. **Meaningful Test Names** - Name tests to describe the scenario
3. **One Assertion Per Test** - Or use assertAll for multiple assertions
4. **Test Behavior, Not Implementation** - Focus on what, not how
5. **Use @BeforeEach Wisely** - Keep setup minimal
6. **Leverage Test Interfaces** - Use default methods for shared setup

## Related Links

- [JUnit Official Website](https://junit.org)
- [JUnit 5 Documentation](https://junit.org/junit5/)
- [JUnit 5 GitHub](https://github.com/junit-team/junit5)
- [JUnit 5 User Guide](https://junit.org/junit5/docs/current/user-guide/)
- [Maven Surefire Plugin](https://maven.apache.org/surefire/maven-surefire-plugin/)
- [Gradle Testing](https://docs.gradle.org/current/userguide/java_testing.html)
