# PostgreSQL Installationsanleitung

PostgreSQL ist ein leistungsstarkes Open-Source-Objektrelationales Datenbanksystem. Diese Anleitung deckt die Installationsmethoden in allen Umgebungen ab.

## Versionsinformationen

| Version | Status | Beschreibung |
|---------|--------|--------------|
| PostgreSQL 16.x | ✅ Aktuell | Neueste stabile Version |
| PostgreSQL 15.x | ✅ Unterstützt | Stabile Version |
| PostgreSQL 14.x | ⚠️ Wartung | Sicherheitsupdates |
| PostgreSQL 13.x | ⚠️ Wartung | Langzeitunterstützung |
| PostgreSQL 12.x | ❌ Veraltet | Nicht mehr unterstützt |

> **Wichtig**: Diese Anleitung richtet sich hauptsächlich an **PostgreSQL 16.x**. Für neue Projekte wird die neueste Version empfohlen.

## Systemanforderungen

### Hardwareanforderungen

| Anforderung | Minimum | Empfohlen |
|-------------|---------|-----------|
| CPU | 1 Kern | 2+ Kerne |
| Speicher | 1 GB | 4+ GB |
| Festplatte | 10 GB | 50+ GB |

### Unterstützte Betriebssysteme

- **Linux**: Ubuntu, Debian, CentOS, RHEL, Fedora, openSUSE
- **Windows**: Windows Server 2016+, Windows 10+
- **macOS**: 10.14+

## Installationsmethoden

### Methode 1: Windows-Installation

#### 1. Installer verwenden (Empfohlen)

1. PostgreSQL Installer herunterladen: https://www.postgresql.org/download/windows/
2. postgresql-16.x-x-windows-x64.exe ausführen
3. Dem Installationsassistenten folgen
4. Passwort für Superuser postgres festlegen

#### 2. Chocolatey verwenden

```powershell
# PostgreSQL installieren
choco install postgresql

# Bestimmte Version installieren
choco install postgresql --version=16.0
```

#### 3. ZIP-Paket verwenden

```powershell
# ZIP-Paket herunterladen
# Nach C:\Program Files\PostgreSQL\16 entpacken

# Datenbank initialisieren
"C:\Program Files\PostgreSQL\16\bin\initdb" -D "C:\Program Files\PostgreSQL\16\data"

# Dienst starten
"C:\Program Files\PostgreSQL\16\bin\pg_ctl" -D "C:\Program Files\PostgreSQL\16\data" -l logfile start
```

### Methode 2: macOS-Installation

#### 1. Homebrew verwenden (Empfohlen)

```bash
# PostgreSQL installieren
brew install postgresql@16

# Dienst starten
brew services start postgresql@16

# Dienst stoppen
brew services stop postgresql@16
```

#### 2. PostgreSQL.app verwenden

1. PostgreSQL.app herunterladen: https://postgresapp.com/
2. In den Applications-Ordner ziehen
3. Zum Starten klicken

#### 3. MacPorts verwenden

```bash
sudo port install postgresql16
sudo port load postgresql16-server
```

### Methode 3: Linux-Installation

#### Ubuntu/Debian

```bash
# PostgreSQL-Repository hinzufügen
sudo sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" > /etc/apt/sources.list.d/pgdg.list'

# Schlüssel importieren
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -

# Paketliste aktualisieren
sudo apt-get update

# PostgreSQL installieren
sudo apt-get install -y postgresql-16

# Dienst starten
sudo systemctl start postgresql
sudo systemctl enable postgresql
```

#### CentOS/RHEL

```bash
# RPM-Repository installieren
sudo yum install -y https://download.postgresql.org/pub/repos/yum/16/redhat/rhel-9-x86_64/pgdg-redhat-repo-latest.noarch.rpm

# PostgreSQL installieren
sudo yum install -y postgresql16-server

# Datenbank initialisieren
sudo /usr/pgsql-16/bin/postgresql-16-setup initdb

# Dienst starten
sudo systemctl start postgresql-16
sudo systemctl enable postgresql-16
```

#### Fedora

```bash
# PostgreSQL installieren
sudo dnf install -y postgresql-server postgresql-contrib

# Datenbank initialisieren
sudo postgresql-setup --initdb

# Dienst starten
sudo systemctl start postgresql
sudo systemctl enable postgresql
```

### Methode 4: Docker-Installation

```bash
# Image pullen
docker pull postgres:16

# Container ausführen
docker run -d \
  --name postgres \
  -e POSTGRES_PASSWORD=mysecretpassword \
  -e POSTGRES_USER=postgres \
  -e POSTGRES_DB=mydb \
  -p 5432:5432 \
  -v postgres_data:/var/lib/postgresql/data \
  postgres:16
```

#### Docker Compose

```yaml
version: '3.8'

services:
  postgres:
    image: postgres:16
    container_name: postgres
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: mysecretpassword
      POSTGRES_DB: mydb
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data

volumes:
  postgres_data:
```

Ausführen:

```bash
docker-compose up -d
```

## Konfiguration nach der Installation

### Mit PostgreSQL verbinden

```bash
# psql verwenden
sudo -u postgres psql

# Oder
psql -U postgres -h localhost -p 5432
```

### Datenbank erstellen

```sql
CREATE DATABASE mydb;

-- Benutzer erstellen
CREATE USER myuser WITH PASSWORD 'mypassword';

-- Berechtigungen erteilen
GRANT ALL PRIVILEGES ON DATABASE mydb TO myuser;
```

### Konfigurationsdateien

#### postgresql.conf

```properties
# Überwachungsadresse
listen_addresses = '*'

# Port
port = 5432

# Maximale Verbindungen
max_connections = 100

# Gemeinsamer Puffer
shared_buffers = 128MB

# Arbeitsspeicher
work_mem = 4MB
```

#### pg_hba.conf

```properties
# Lokale Verbindungen erlauben
host    all             all             127.0.0.1/32            trust
host    all             all             ::1/128                 trust

# Remote-Verbindungen erlauben
host    all             all             0.0.0.0/0              md5
host    all             all             ::/0                    md5
```

### Remote-Verbindung konfigurieren

```sql
-- Remote-Verbindungen erlauben
ALTER SYSTEM SET listen_addresses = '*';

# Konfiguration neu laden
SELECT pg_reload_conf();
```

## Häufig gestellte Fragen

### Verbindung abgelehnt?

Firewall überprüfen:

```bash
# Ubuntu
sudo ufw allow 5432/tcp

# CentOS
sudo firewall-cmd --add-port=5432/tcp --permanent
sudo firewall-cmd --reload
```

### PostgreSQL-Passwort vergessen?

```bash
# PostgreSQL stoppen
sudo systemctl stop postgresql

# Im Überspringungsmodus starten
sudo -u postgres /usr/lib/postgresql/16/bin/pg_ctl -D /var/lib/postgresql/16/main -m fast stop

# Passwort ändern
sudo -u postgres psql -c "ALTER USER postgres PASSWORD 'newpassword';"
```

### Datenbank startet nicht?

Logs überprüfen:

```bash
# Logs anzeigen
tail -f /var/log/postgresql/postgresql-16-main.log
```

## Verwandte Links

- [PostgreSQL Offizielle Website](https://www.postgresql.org/)
- [PostgreSQL Dokumentation](https://www.postgresql.org/docs/)
- [pgAdmin Werkzeug](https://www.pgadmin.org/)
