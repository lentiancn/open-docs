# GitLab ユーザーマニュアル

> 開発と運用におけるGitLab使用の詳細ガイド

---

## はじめに

### アカウントの作成

1. GitLabインスタンスにアクセス
2. 「登録」をクリックしてアカウントを作成
3. メールアドレスを確認
4. ユーザープロファイルを完了

### プロジェクトの作成

1. 「新規プロジェクト」ボタンをクリック
2. プロジェクトテンプレートまたは空白のプロジェクトを選択
3. プロジェクト名と説明を設定
4. 可視性レベルを設定（private, internal, public）
5. 「プロジェクトを作成」をクリック

---

## Git操作

### リポジトリのクローン

```bash
# HTTPSでクローン
git clone https://gitlab.example.com/username/project.git

# SSHでクローン
git clone git@gitlab.example.com:username/project.git
```

### 基本的なGitワークフロー

```bash
# 新しいブランチを作成
git checkout -b feature/new-feature

# 変更してステージング
git add .
git commit -m "新しい機能を追加"

# リモートにプッシュ
git push origin feature/new-feature

# ブランチからマージリクエストを作成
```

### ブランチの管理

```bash
# ブランチを一覧表示
git branch -a

# ローカルブランチを削除
git branch -d feature/old-feature

# リモートブランチを削除
git push origin --delete feature/old-feature
```

---

## 問題追跡

### 問題の作成

1. プロジェクトに移動
2. 「問題」→「新規問題」へ移動
3. タイトルと説明を追加
4. ラベル、マイルストーン、担当者を割り当て
5. 重み期を設定
6. 問題を提出

### 問題ボードの使用

1. 「問題」→「ボード」へ移動
2. 新しいボードを作成またはデフォルトを使用
3. 各ステージのリストを追加（未着手、進行中、完了）
4. 問題をリスト間でドラッグ＆ドロップ

### ラベルとマイルストーン

- カテゴリ用の説明的なラベルを作成
- マイルストーンを使用して進捗を追跡
- コミットメッセージで問題をクローズ

---

## マージリクエスト

### マージリクエストの作成

1. フィーチャーブランチをGitLabにプッシュ
2. 「マージリクエストを作成」ボタンをクリック
3. タイトルと説明を入力
4. ソースとターゲットブランチを選択
5. ラベルとレビューアを追加
6. マージリクエストを提出

### コードレビュープロセス

- レビューアは特定の行にコメントを追加
- スレッドディスカッションを使用
- 変更を承認またはリクエスト
- マージ前にすべてのスレッドを解決

### Squashとマージ

- 履歴をクリーンに保つためにコミットをsquash
- マージ後にソースブランチを削除を選択
- マージ前にコミットメッセージを編集

---

## CI/CDパイプライン

### 基本的な.gitlab-ci.yml

```yaml
stages:
  - build
  - test
  - deploy

build:
  stage: build
  script:
    - npm install
    - npm run build
  artifacts:
    paths:
      - dist/

test:
  stage: test
  script:
    - npm test

deploy:
  stage: deploy
  script:
    - npm run deploy
  only:
    - main
```

### パイプラインの実行

- プッシュすると自動的にパイプラインが実行
- UIから手動でトリガー
- マージリクエストでパイプライン的状态を確認

### パイプライン変数

- プロジェクト設定で変数を定義
- CI/CD変数を使用して機密データ
- マスクされた変数と保護された変数が利用可能

---

## Wiki

### Wikiページの作成

1. 「プロジェクト」→「Wiki」へ移動
2. 「新規ページ」をクリック
3. Markdownでコンテンツを記述
4. サイドバーナビゲーションを追加
5. ページを保存

### Wiki機能

- Markdownサポート
- 添付ファイル
- ネストされたページ構造
- バージョン履歴

---

## セキュリティ機能

### SAST

```yaml
include:
  - template: Security/SAST.gitlab-ci.yml
```

### 依存関係スキャン

```yaml
include:
  - template: Security/Dependency-Scanning.gitlab-ci.yml
```

### コンテナスキャン

```yaml
include:
  - template: Security/Container-Scanning.gitlab-ci.yml
```

---

## プロジェクト管理

### マイルストーン

- 期限付きマイルストーンを作成
- 問題全体で進捗を追跡
- マイルストーンのバーンダウン chartsを表示

### 時間追跡

- プロジェクト設定で時間追跡を有効化
- 問題とマージリクエストに時間を記録
- 時間レポートを表示

---

## 管理

### ユーザー管理

- ユーザーの作成と管理
- LDAP/SSO統合の設定
- ユーザー権限の設定
- 外部ユーザーの管理

### プロジェクト設定

- 可視性とアクセス制御
- 保護されたブランチ
- マージリクエスト設定
- CI/CD設定

---

## リソース

- GitLabドキュメント: https://docs.gitlab.com/
- CI/CDドキュメント: https://docs.gitlab.com/ee/ci/
- APIドキュメント: https://docs.gitlab.com/ee/api/
