# Руководство по установке Node.js

Node.js — это среда выполнения JavaScript, основанная на движке Chrome V8. В этом руководстве описаны методы установки во всех средах.

## Информация о версиях

| Версия | Статус | Описание |
|------|------|------|
| Node.js 22.x | ✅ Текущая | Последняя LTS-версия |
| Node.js 20.x | ✅ LTS | Версия с долгосрочной поддержкой |
| Node.js 18.x | ✅ LTS | Версия с долгосрочной поддержкой |
| Node.js 16.x | ⚠️ Обслуживание | Только обновления безопасности |
| Node.js 14.x | ❌ Устаревшая | Поддержка прекращена |

> **Важно**: Это руководство в первую очередь ориентировано на **Node.js 20.x LTS**. Для новых проектов рекомендуется использовать LTS-версию.

## Способы установки

### Способ 1: Установка в Windows

#### 1. Использование установщика (рекомендуется)

1. Скачайте установщик Node.js: https://nodejs.org/
2. Запустите установщик .msi
3. Следуйте мастеру установки

#### 2. Использование Chocolatey

```powershell
# Установить Node.js
choco install nodejs

# Установить конкретную версию
choco install nodejs --version=20.10.0
```

#### 3. Использование winget

```powershell
# Установить Node.js LTS
winget install OpenJS.NodeJS.LTS

# Установить конкретную версию
winget install OpenJS.NodeJS --version=20.10.0
```

### Способ 2: Установка в macOS

#### 1. Использование Homebrew (рекомендуется)

```bash
# Установить Node.js LTS
brew install node@20

# Запустить службу
brew services start node@20
```

#### 2. Использование nvm

```bash
# Установить nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# Установить Node.js
nvm install 20
nvm use 20
nvm alias default 20
```

#### 3. Использование установщика

Скачайте установщик для macOS: https://nodejs.org/

### Способ 3: Установка в Linux

#### 1. Использование пакетного менеджера

**Ubuntu/Debian:**

```bash
# Добавить репозиторий Node.js
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -

# Установить Node.js
sudo apt-get install -y nodejs
```

**CentOS/RHEL:**

```bash
# Добавить репозиторий Node.js
curl -fsSL https://rpm.nodesource.com/setup_20.x | sudo bash -

# Установить Node.js
sudo yum install -y nodejs
```

**Fedora:**

```bash
# Добавить репозиторий Node.js
curl -fsSL https://rpm.nodesource.com/setup_20.x | sudo bash -

# Установить Node.js
sudo dnf install -y nodejs
```

#### 2. Использование nvm (рекомендуется)

```bash
# Установить nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# Установить Node.js
nvm install 20
nvm use 20
```

### Способ 4: Использование fnm (быстрый менеджер версий Node)

```bash
# Установить fnm
curl -fsSL https://fnm.vercel.app/install | bash

# Установить Node.js
fnm install 20
fnm use 20
fnm default 20
```

### Способ 5: Docker

```bash
# Использовать официальный образ Node.js
docker pull node:20

# Запустить контейнер
docker run -it node:20 node --version
```

#### Пример Dockerfile

```dockerfile
FROM node:20-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .

EXPOSE 3000
CMD ["node", "server.js"]
```

## Проверка установки

### Проверка версий

```bash
# Проверить версию Node.js
node --version

# Проверить версию npm
npm --version
```

### Обновление npm

```bash
# Обновить npm до последней версии
npm install -g npm
```

## Управление пакетами

### Частые команды npm

```bash
# Инициализировать проект
npm init

# Установить зависимости
npm install

# Установить продакшн-зависимости
npm install <пакет>

# Установить dev-зависимости
npm install <пакет> --save-dev

# Установить глобально
npm install -g <пакет>

# Обновить зависимости
npm update

# Удалить зависимости
npm uninstall <пакет>
```

### Использование yarn

```bash
# Установить yarn
npm install -g yarn

# Установить зависимости
yarn install

# Добавить зависимость
yarn add <пакет>

# Установить глобально
yarn global add <пакет>
```

### Использование pnpm

```bash
# Установить pnpm
npm install -g pnpm

# Установить зависимости
pnpm install

# Добавить зависимость
pnpm add <пакет>
```

## Настройка окружения

### Использование nvm для управления несколькими версиями

```bash
# Показать установленные версии
nvm list

# Установить новую версию
nvm install 21

# Переключить версию
nvm use 21

# Установить версию по умолчанию
nvm alias default 20
```

### Настройка зеркал

```bash
# Настроить зеркало для npm
npm config set registry https://registry.npmmirror.com

# Настроить зеркало для yarn
yarn config set registry https://registry.npmmirror.com
```

## Частые проблемы

### Версии Node.js и npm не совпадают?

Используйте nvm для统一ного управления версиями:

```bash
nvm use 20
```

### Ошибка установки (проблемы с правами)?

```bash
# Linux/macOS используют sudo
sudo npm install -g <пакет>

# Или исправить права npm
mkdir ~/.npm-global
npm config set prefix '~/.npm-global'
echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.bashrc
source ~/.bashrc
```

### Ошибка сборки?

Очистить кэш:

```bash
npm cache clean --force
```

## Полезные ссылки

- [Официальный сайт Node.js](https://nodejs.org/)
- [Node.js на русском](https://nodejs.org/ru/)
- [Официальная документация npm](https://docs.npmjs.com/)
- [nvm на GitHub](https://github.com/nvm-sh/nvm)
