# Spring Boot 安装指南

本指南介绍如何在 Windows、macOS 和 Linux 上安装和配置 Spring Boot 开发环境。

## 系统要求

### Java 版本要求

| Spring Boot 版本 | 最低 Java 版本 |
|------------------|---------------|
| 3.x              | Java 17+      |
| 2.7.x            | Java 8+       |
| 2.5.x            | Java 8+       |

**注意：** Spring Boot 3.x 需要 Java 17 或更高版本。建议使用 Java 21 (LTS) 以获得最佳兼容性。

## 安装 Java

### Windows

**方式一：从 Oracle/OpenJDK 安装**
1. 从 [Oracle](https://www.oracle.com/java/technologies/downloads/) 或 [Adoptium](https://adoptium.net/) 下载 JDK
2. 运行安装程序
3. 设置环境变量：
   ```
   JAVA_HOME=C:\Program Files\Java\jdk-21
   PATH=%JAVA_HOME%\bin;%PATH%
   ```

**方式二：使用 Chocolatey**
```powershell
choco install openjdk21
```

**方式三：使用 Winget**
```powershell
winget install Oracle.JDK.21
```

验证：
```cmd
java -version
```

### macOS

**方式一：使用 Homebrew**
```bash
brew install openjdk@21
sudo ln -sfn $(brew --prefix)/opt/openjdk@21/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-21.jdk
echo 'export JAVA_HOME=$(/usr/libexec/java_home -v 21)' >> ~/.zshrc
source ~/.zshrc
```

**方式二：使用 SDKMAN**
```bash
curl -s "https://get.sdkman.io" | bash
sdk install java 21.0.2-tem
```

验证：
```bash
java -version
```

### Linux

**Ubuntu/Debian：**
```bash
sudo apt update
sudo apt install openjdk-21-jdk
export JAVA_HOME=/usr/lib/jvm/java-21-openjdk-amd64
export PATH=$JAVA_HOME/bin:$PATH
```

**RHEL/CentOS/Fedora：**
```bash
sudo dnf install java-21-openjdk-devel
export JAVA_HOME=/usr/lib/jvm/java-21-openjdk
export PATH=$JAVA_HOME/bin:$PATH
```

**使用 SDKMAN：**
```bash
curl -s "https://get.sdkman.io" | bash
source ~/.sdkman/bin/sdkman-init.sh
sdk install java 21.0.2-tem
```

验证：
```bash
java -version
```

## 安装 Maven

### Windows

**方式一：手动安装**
1. 从 [Apache Maven](https://maven.apache.org/download.cgi) 下载
2. 解压到 `C:\apache-maven`
3. 设置环境变量：
   ```
   MAVEN_HOME=C:\apache-maven
   PATH=%MAVEN_HOME%\bin;%PATH%
   ```

**方式二：使用 Chocolatey**
```powershell
choco install maven
```

验证：
```cmd
mvn -version
```

### macOS

```bash
brew install maven
```

验证：
```bash
mvn -version
```

### Linux

**Ubuntu/Debian：**
```bash
sudo apt install maven
```

**RHEL/CentOS：**
```bash
sudo dnf install maven
```

验证：
```bash
mvn -version
```

## 安装 Gradle（可选）

### Windows

```powershell
choco install gradle
```

### macOS

```bash
brew install gradle
```

### Linux

```bash
sudo apt install gradle
```

验证：
```bash
gradle -version
```

## 安装 Spring Boot CLI

### 所有平台

**使用 SDKMAN：**
```bash
sdk install springboot
```

**使用 Homebrew (macOS)：**
```bash
brew install spring-boot-cli
```

**手动下载：**
```bash
wget https://repo.spring.io/release/org/springframework/boot/spring-boot-cli/3.2.0/spring-boot-cli-3.2.0-bin.zip
unzip spring-boot-cli-3.2.0-bin.zip
export PATH=$PATH:/path/to/spring-boot-cli-3.2.0/bin
```

验证：
```bash
spring --version
```

## IDE 配置

### IntelliJ IDEA（推荐）

1. 从 [JetBrains](https://www.jetbrains.com/idea/download/) 下载
2. 安装并打开
3. 配置 JDK：`File` → `Project Structure` → `Project SDK`
4. 安装 Spring Boot Assistant 插件（可选）

### VS Code

1. 安装 [VS Code](https://code.visualstudio.com/)
2. 安装扩展：
   - Extension Pack for Java
   - Spring Boot Extension Pack
3. 配置 Java：`Ctrl+Shift+P` → `Java: Configure Java Runtime`

### Eclipse

1. 下载 [Spring Tools 4 (STS)](https://spring.io/tools)
2. 解压并运行
3. File → New → Spring Starter Project

## 快速开始

### 使用 Spring Initializr

1. 访问 [start.spring.io](https://start.spring.io/)
2. 选择选项：
   - 项目：Maven / Gradle
   - 语言：Java / Kotlin / Groovy
   - Spring Boot 版本：3.2.x（最新）
   - Group: com.example
   - Artifact: myapp
   - 打包方式：Jar / War
   - Java 版本：17 / 21
3. 添加依赖：
   - Spring Web
   - Spring Data JPA
   - H2 Database (开发用)
   - Spring Boot DevTools
4. 点击"Generate"下载

### 使用命令行

```bash
# 创建 Maven 项目
curl https://start.spring.io/starter.zip \
  -d type=maven-project \
  -d language=java \
  -d bootVersion=3.2.5 \
  -d baseDir=myapp \
  -d dependencies=web,jpa,h2,devtools \
  -o myapp.zip

unzip myapp.zip
cd myapp
./mvnw spring-boot:run
```

## 验证安装

```bash
# 检查 Java
java -version

# 检查 Maven
mvn -version

# 检查 Gradle（如已安装）
gradle -version

# 检查 Spring Boot CLI
spring --version

# 运行示例项目
curl https://start.spring.io/starter.zip -o demo.zip
unzip demo.zip -d demo
cd demo
./mvnw spring-boot:run
```

## Docker 安装（可选）

### 安装 Docker

**Windows/macOS：**
下载并安装 [Docker Desktop](https://www.docker.com/products/docker-desktop)

**Linux：**
```bash
curl -fsSL https://get.docker.com | sh
sudo usermod -aG docker $USER
```

### 在 Docker 中运行 Spring Boot

```bash
docker run -p 8080:8080 springio/gs-spring-boot-docker
```

## 常见问题

### 找不到 Java
- 确保 JAVA_HOME 设置正确
- 设置环境变量后重启终端
- 验证：`echo $JAVA_HOME`（Linux/macOS）或 `echo %JAVA_HOME%`（Windows）

### 端口 8080 被占用
```bash
# Windows
netstat -ano | findstr :8080
taskkill /PID <pid> /F

# Linux/macOS
lsof -i :8080
kill -9 <pid>
```

### Maven 构建失败
- 清理 Maven 缓存：`mvn clean`
- 更新依赖：`mvn dependency:resolve`
- 使用 `./mvnw`（Maven Wrapper）代替系统 Maven

## 相关链接

- [Spring Boot 官网](https://spring.io/projects/spring-boot)
- [Spring Boot 参考文档](https://docs.spring.io/spring-boot/docs/current/reference/)
- [Spring Initializr](https://start.spring.io/)
- [Spring 指南](https://spring.io/guides)
