# JMeter ユーザーガイド

本ガイドでは、JMeterを使用したパフォーマンステストの実施方法を説明します。

## クイックスタート

### テストプランの作成

1. JMeterを開く
2. テストプランを作成
3. スレッドグループを追加
4. サプライヤーを追加
5. リスナーを追加
6. テストを実行

## スレッドグループ

### スレッドグループの設定

```
スレッド数：10
 Ramp-Up時間：5秒
 ループ回数：1
```

### スレッド属性

- スレッド数：同時ユーザ数
- Ramp-Up時間：起動時間
- ループ回数：各ユーザーの実行回数

## サンプラー

### HTTPリクエスト

```
プロトコル：http
サーバー名：www.example.com
パス：/api/users
メソッド：GET
```

### パラメータ

- クエリパラメータ
- POST/GETパラメータ
- ファイルアップロード

## リスナー

### 結果ツリーを表示

```markdown
- リクエストとレスポンスを表示
- テストスクリプトをデバッグ
```

### 集約レポート

```markdown
- 平均レスポンス時間
- 中央値
- 90パーセンタイル
- スループット
```

### グラフィカル結果

```markdown
- レスポンス時間の可視化
- リアルタイム監視
```

## コントローラー

### ロジックコントローラー

- Ifコントローラー
- ループコントローラー
- ランダムコントローラー
- トランザクションコントローラー

### コントローラーの使用

```bash
# 5回ループ
Loop Controller: 5

# ランダム選択
Random Controller
```

## アサーション

### レスポンスアサーション

```bash
# レスポンス содержаниеをチェック
Response Assertion
Pattern: "success"

# レスポンスコードをチェック
Response Code: 200
```

### JSONアサーション

```bash
# JSON値をチェック
JSON Path: $.status
Expected Value: success
```

## パラメータ化

### CSVデータファイル

```bash
# CSVファイルを作成
username,password
user1,pass1
user2,pass2
```

### 設定

```
CSV Data Set Config
Filename: users.csv
Variable Names: username,password
```

### 関数

- __Random
- __time
- __counter

## 相関

### 正規表現抽出

```
正規表現：token="(.+?)"
テンプレート：$1$
マッチ番号：1
```

### JSON抽出

```
JSON Path: $.data.token
```

## 分散テスト

### マスター/スレーブ設定

```bash
# スレーブ設定
remote_hosts=192.168.1.2,192.168.1.3

# 起動
jmeter -R 192.168.1.2
```

### 実行

```bash
# 分散実行
jmeter -n -t test.jmx -R server1,server2
```

## コマンドライン実行

### 基本コマンド

```bash
# テストを実行
jmeter -n -t test.jmx -l result.jtl

# レポートを生成
jmeter -g result.jtl -o report
```

### パラメータ

```bash
-n 非GUIモード
-t テストプランファイル
-l 結果ファイル
-r 分散実行
```

## パフォーマンス最適化

### 1. アサーションの使用

```bash
# 必要なアサーションのみ追加
Response Assertion
```

### 2. リスナーの最適化

```bash
# 本番環境ではリスナー数を減らす
# Simple Data Writerを使用
```

### 3. ウォームアップ

```bash
# 本番テストの前にウォームアップを実行
```

## レポート生成

### HTMLレポート

```bash
jmeter -g result.jtl -o /path/to/report
```

### ダッシュボード

```bash
# 完全レポート
jmeter -n -t test.jmx -l result.jtl -e -o report
```

## ベストプラクティス

### 1. テスト設計

```bash
# 実際のユーザ行動を再現
# テストデータのパラメータ化
```

### 2. 結果分析

```bash
# レスポンス時間を重視
# エラー率を分析
```

## 関連リソース

- [JMeter公式ドキュメント](https://jmeter.apache.org/usermanual/)
- [JMeterプラグイン](https://jmeter-plugins.org/)
