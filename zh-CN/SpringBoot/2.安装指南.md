# Spring Boot 安装指南

本指南将帮助你搭建 Spring Boot 开发环境。

## 环境要求

| 软件 | 要求 |
|------|------|
| JDK | 17+（Spring Boot 3.x）|
| 构建工具 | Maven 3.6+ 或 Gradle 8+ |
| IDE | IntelliJ IDEA（推荐）或 Eclipse |

## 安装 JDK

### Windows

1. 下载 JDK 21：https://www.oracle.com/java/technologies/downloads/
2. 安装并配置环境变量 JAVA_HOME

### macOS

```bash
# 使用 Homebrew
brew install openjdk@21

# 创建链接
sudo ln -sfn $(brew --prefix)/opt/openjdk@21/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-21.jdk
```

### Linux

```bash
# Ubuntu/Debian
sudo apt install openjdk-21-jdk
```

## 安装 Maven

### Windows

1. 下载 Maven：https://maven.apache.org/download.cgi
2. 解压到目录（如 C:\apache-maven）
3. 配置环境变量：
   - MAVEN_HOME：C:\apache-maven
   - PATH 添加：%MAVEN_HOME%\bin

### macOS

```bash
brew install maven
```

### Linux

```bash
# Ubuntu/Debian
sudo apt install maven
```

## 安装 IDE

### IntelliJ IDEA（推荐）

1. 下载：https://www.jetbrains.com/idea/download/
2. 选择 Ultimate（付费）或 Community（免费）
3. 安装插件：Spring Boot Assistant

### Eclipse

1. 下载：https://www.eclipse.org/downloads/
2. 安装 STS 插件：Spring Tool Suite

## 创建 Spring Boot 项目

### 方式一：Spring Initializr（推荐）

1. 访问：https://start.spring.io/
2. 选择：
   - Project：Maven Project
   - Language：Java
   - Spring Boot：最新稳定版
   - Project Metadata：填写项目信息
   - Dependencies：选择需要的依赖
3. 点击 Generate 下载项目

### 方式二：使用命令行

```bash
# 使用 curl
curl https://start.spring.io/starter.zip -o demo.zip && unzip demo.zip && rm demo.zip
```

### 方式三：IDE 创建

1. IntelliJ IDEA：File → New → Project → Spring Initializr
2. Eclipse：File → New → Spring Boot → Spring Starter Project

## 项目结构

```
myproject/
├── src/
│   ├── main/
│   │   ├── java/
│   │   │   └── com/example/demo/
│   │   │       ├── DemoApplication.java
│   │   │       └── controller/
│   │   │           └── HelloController.java
│   │   └── resources/
│   │       ├── application.properties
│   │       └── static/
│   └── test/
│       └── java/
│           └── com/example/demo/
├── pom.xml
└── mvnw
```

### pom.xml 示例

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
         https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>3.2.0</version>
        <relativePath/>
    </parent>
    
    <groupId>com.example</groupId>
    <artifactId>myproject</artifactId>
    <version>0.0.1-SNAPSHOT</version>
    <name>myproject</name>
    
    <properties>
        <java.version>21</java.version>
    </properties>
    
    <dependencies>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency>
        
        <dependency>
            <groupId>com.h2database</groupId>
            <artifactId>h2</artifactId>
            <scope>runtime</scope>
        </dependency>
        
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>
    
    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
        </plugins>
    </build>
</project>
```

## 运行项目

### 使用 Maven

```bash
# 编译
./mvnw clean compile

# 运行
./mvnw spring-boot:run

# 打包
./mvnw package

# 运行 JAR
java -jar target/myproject-0.0.1-SNAPSHOT.jar
```

### 使用 IDE

右键运行 Application 类的 main 方法。

## 常用配置

### application.properties

```properties
# 服务端口
server.port=8080

# 应用名称
spring.application.name=myproject

# 数据库配置
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA 配置
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=update

# 日志配置
logging.level.root=INFO
logging.level.com.example=DEBUG
```

### application.yml

```yaml
server:
  port: 8080

spring:
  application:
    name: myproject
  datasource:
    url: jdbc:h2:mem:testdb
    driver-class-name: org.h2.Driver
    username: sa
    password:

logging:
  level:
    root: INFO
    com.example: DEBUG
```

## 添加依赖

### Web

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
</dependency>
```

### Data JPA

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-data-jpa</artifactId>
</dependency>
```

### Security

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-security</artifactId>
</dependency>
```

### Validation

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-validation</artifactId>
</dependency>
```

## 常见问题

### Q1: 端口被占用

**解决方案：**
```properties
server.port=8081
```

### Q2: 启动失败

**解决方案：**
查看错误日志，常见原因：
- 缺少依赖
- 配置错误
- Bean 注入失败

### Q3: 热部署

**解决方案：**
添加 devtools：
```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-devtools</artifactId>
    <scope>runtime</scope>
</dependency>
```

## 下一步

- [Spring Boot 使用手册](./3.使用手册.md) - 学习 Spring Boot 开发
- [Spring Boot 常见问题](./4.常见问题.md) - 解答常见问题
- 官方文档：https://docs.spring.io/spring-boot/docs/
