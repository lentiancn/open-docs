# Docker å®‰è£…æŒ‡å—

> ğŸ¯ æœ¬æ–‡è¯¦ç»†ä»‹ç» Docker åœ¨å„ç§æ“ä½œç³»ç»Ÿç¯å¢ƒä¸‹çš„å®‰è£…æ–¹æ³•
> 
> ğŸ“… æ›´æ–°æ—¶é—´ï¼š2026å¹´2æœˆ
> 
> ğŸ“– é€‚ç”¨ç‰ˆæœ¬ï¼šDocker 27.xï¼ˆå½“å‰æœ€æ–°ç‰ˆæœ¬ï¼‰

---

## ç›®å½•

1. [Docker ç®€ä»‹](#1-docker-ç®€ä»‹)
2. [å‰ç½®è¦æ±‚](#2-å‰ç½®è¦æ±‚)
3. [åœ¨ Windows ä¸Šå®‰è£…](#3-åœ¨-windows-ä¸Šå®‰è£…)
4. [åœ¨ macOS ä¸Šå®‰è£…](#4-åœ¨-macos-ä¸Šå®‰è£…)
5. [åœ¨ Linux ä¸Šå®‰è£…](#5-åœ¨-linux-ä¸Šå®‰è£…)
6. [éªŒè¯å®‰è£…](#6-éªŒè¯å®‰è£…)
7. [Docker Desktop ä¸ Docker Engine](#7-docker-desktop-ä¸-docker-engine)
8. [é…ç½® Docker](#8-é…ç½®-docker)
9. [å¸è½½ Docker](#9-å¸è½½-docker)
10. [å¸¸è§é—®é¢˜](#10-å¸¸è§é—®é¢˜)

---

## 1. Docker ç®€ä»‹

### 1.1 ä»€ä¹ˆæ˜¯ Dockerï¼Ÿ

Docker æ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨åŒ–å¹³å°ï¼Œç”¨äºå¼€å‘ã€éƒ¨ç½²å’Œè¿è¡Œåº”ç”¨ç¨‹åºã€‚é€šè¿‡å®¹å™¨åŒ–æŠ€æœ¯ï¼ŒDocker å¯ä»¥å°†åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–æ‰“åŒ…æˆè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ã€‚

### 1.2 Docker çš„æ ¸å¿ƒæ¦‚å¿µ

- **é•œåƒï¼ˆImageï¼‰**ï¼šåªè¯»æ¨¡æ¿ï¼Œç”¨äºåˆ›å»ºå®¹å™¨
- **å®¹å™¨ï¼ˆContainerï¼‰**ï¼šé•œåƒçš„è¿è¡Œå®ä¾‹
- **ä»“åº“ï¼ˆRepositoryï¼‰**ï¼šå­˜å‚¨é•œåƒçš„åœ°æ–¹
- **Dockerfile**ï¼šå®šä¹‰é•œåƒæ„å»ºè„šæœ¬

### 1.3 Docker ç‰ˆæœ¬

| ç‰ˆæœ¬ | å‘å¸ƒæ—¥æœŸ | è¯´æ˜ |
|------|----------|------|
| Docker 27.x | 2024å¹´ | æœ€æ–°ç¨³å®šç‰ˆ |
| Docker 26.x | 2024å¹´ | ç¨³å®šç‰ˆ |
| Docker 25.x | 2023å¹´ | ç¨³å®šç‰ˆ |
| Docker 24.x | 2023å¹´ | ç¨³å®šç‰ˆ |

---

## 2. å‰ç½®è¦æ±‚

### 2.1 Windows è¦æ±‚

| è¦æ±‚ | æœ€ä½ç‰ˆæœ¬ |
|------|----------|
| æ“ä½œç³»ç»Ÿ | Windows 10 64ä½ ä¸“ä¸šç‰ˆ/ä¼ä¸šç‰ˆ æˆ– Windows 11 |
| å†…å­˜ | 4GB RAM |
| ç£ç›˜ | è‡³å°‘ 64GB SSD |
| è™šæ‹ŸåŒ– | å¿…é¡»å¯ç”¨ BIOS è™šæ‹ŸåŒ– |

**æ³¨æ„**ï¼šWindows å®¶åº­ç‰ˆä¸æ”¯æŒ Docker Desktopï¼Œéœ€è¦ä½¿ç”¨ Docker Toolbox æˆ–å‡çº§åˆ°ä¸“ä¸šç‰ˆã€‚

### 2.2 macOS è¦æ±‚

| è¦æ±‚ | æœ€ä½ç‰ˆæœ¬ |
|------|----------|
| æ“ä½œç³»ç»Ÿ | macOS 10.15 (Catalina) æˆ–æ›´é«˜ |
| å†…å­˜ | 4GB RAM |
| ç£ç›˜ | è‡³å°‘ 64GB SSD |
| èŠ¯ç‰‡ | Intel æˆ– Apple Silicon (M1/M2/M3) |

### 2.3 Linux è¦æ±‚

| ç»„ä»¶ | è¦æ±‚ |
|------|------|
| å†…æ ¸ | 3.10 æˆ–æ›´é«˜ |
| æ¶æ„ | x86_64, ARM64, ARMv7 |
| å­˜å‚¨é©±åŠ¨ | overlay2 |

---

## 3. åœ¨ Windows ä¸Šå®‰è£…

### 3.1 æ–¹æ³•ä¸€ï¼šDocker Desktopï¼ˆæ¨èï¼‰

#### æ­¥éª¤ 1ï¼šä¸‹è½½ Docker Desktop

1. è®¿é—® Docker å®˜ç½‘ï¼šhttps://www.docker.com/products/docker-desktop
2. ç‚¹å‡» "Download for Windows"
3. è¿è¡Œä¸‹è½½çš„å®‰è£…ç¨‹åº `Docker Desktop Installer.exe`

#### æ­¥éª¤ 2ï¼šå®‰è£… Docker Desktop

1. åŒå‡»å®‰è£…ç¨‹åº
2. å‹¾é€‰ "Use WSL 2 instead of Hyper-V"ï¼ˆæ¨èï¼‰
3. ç‚¹å‡» "Install"
4. å®‰è£…å®Œæˆåï¼Œç‚¹å‡» "Close"

#### æ­¥éª¤ 3ï¼šå¯åŠ¨ Docker Desktop

1. åœ¨å¼€å§‹èœå•æ‰¾åˆ° "Docker Desktop"
2. é¦–æ¬¡å¯åŠ¨éœ€è¦ç™»å½• Docker Hubï¼ˆå¯é€‰ï¼‰
3. ç­‰å¾… Docker å¼•æ“å¯åŠ¨å®Œæˆ

#### æ­¥éª¤ 4ï¼šéªŒè¯å®‰è£…

æ‰“å¼€ PowerShell æˆ–å‘½ä»¤æç¤ºç¬¦ï¼Œæ‰§è¡Œï¼š

```powershell
docker --version
docker-compose --version
docker run hello-world
```

### 3.2 æ–¹æ³•äºŒï¼šä½¿ç”¨ Winget

```powershell
winget install Docker.DockerDesktop
```

### 3.3 æ–¹æ³•ä¸‰ï¼šæ‰‹åŠ¨å®‰è£…ï¼ˆæ—§ç‰ˆï¼‰

å¦‚æœæ— æ³•ä½¿ç”¨ Docker Desktopï¼Œå¯ä»¥å®‰è£… Docker Engineï¼š

1. å®‰è£… WSL 2ï¼š
```powershell
wsl --install
```

2. å®‰è£… Dockerï¼š
```powershell
# æ·»åŠ  Docker GPG å¯†é’¥
curl -fsSL https://download.docker.com/linux/wsl/docker-archive-keyring.gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

# æ·»åŠ  Docker ä»“åº“
echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/wsl docker-20.10" | sudo tee /etc/apt/sources.list.d/docker.list

# å®‰è£… Docker
sudo apt update
sudo apt install docker-ce docker-ce-cli containerd.io
```

---

## 4. åœ¨ macOS ä¸Šå®‰è£…

### 4.1 æ–¹æ³•ä¸€ï¼šDocker Desktopï¼ˆæ¨èï¼‰

#### æ­¥éª¤ 1ï¼šä¸‹è½½ Docker Desktop

1. è®¿é—® https://www.docker.com/products/docker-desktop
2. ç‚¹å‡» "Download for Mac"
3. é€‰æ‹©èŠ¯ç‰‡ç±»å‹ï¼š
   - Apple Silicon: "Apple Chip"
   - Intel: "Intel Chip"

#### æ­¥éª¤ 2ï¼šå®‰è£… Docker Desktop

1. åŒå‡» `Docker.dmg`
2. å°† Docker å›¾æ ‡æ‹–å…¥ Applications æ–‡ä»¶å¤¹
3. å¯åŠ¨ Docker Desktop

#### æ­¥éª¤ 3ï¼šéªŒè¯å®‰è£…

æ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œï¼š

```bash
docker --version
docker-compose --version
docker run hello-world
```

### 4.2 æ–¹æ³•äºŒï¼šä½¿ç”¨ Homebrew

```bash
# å®‰è£… Homebrewï¼ˆå¦‚æœæ²¡æœ‰ï¼‰
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# å®‰è£… Docker
brew install --cask docker
```

### 4.3 Apple Silicon æ³¨æ„äº‹é¡¹

åœ¨ M1/M2/M3 Mac ä¸Šï¼š

1. ç¡®ä¿å®‰è£… Apple Silicon ç‰ˆæœ¬çš„ Docker Desktop
2. å¤§å¤šæ•°é•œåƒå·²æœ‰ arm64 ç‰ˆæœ¬
3. å¦‚éœ€è¿è¡Œ x86 é•œåƒï¼Œä½¿ç”¨ï¼š
```bash
docker run --platform linux/amd64 image-name
```

---

## 5. åœ¨ Linux ä¸Šå®‰è£…

### 5.1 Ubuntu / Debian

#### æ­¥éª¤ 1ï¼šå¸è½½æ—§ç‰ˆæœ¬

```bash
sudo apt remove docker docker-engine docker.io containerd runc
```

#### æ­¥éª¤ 2ï¼šå®‰è£…ä¾èµ–

```bash
sudo apt update
sudo apt install ca-certificates curl gnupg lsb-release
```

#### æ­¥éª¤ 3ï¼šæ·»åŠ  Docker GPG å¯†é’¥

```bash
sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg
```

#### æ­¥éª¤ 4ï¼šæ·»åŠ  Docker ä»“åº“

```bash
# Ubuntu
echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# Debian
echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
```

#### æ­¥éª¤ 5ï¼šå®‰è£… Docker

```bash
sudo apt update
sudo apt install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

### 5.2 CentOS / RHEL / Fedora

#### æ­¥éª¤ 1ï¼šå¸è½½æ—§ç‰ˆæœ¬

```bash
sudo yum remove docker docker-client docker-client-latest docker-common docker-latest docker-latest-logrotate docker-logrotate docker-engine
```

#### æ­¥éª¤ 2ï¼šå®‰è£…ä¾èµ–

```bash
sudo yum install -y yum-utils
```

#### æ­¥éª¤ 3ï¼šæ·»åŠ  Docker ä»“åº“

```bash
# CentOS/RHEL 9
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo

# Fedora
sudo dnf config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo
```

#### æ­¥éª¤ 4ï¼šå®‰è£… Docker

```bash
sudo yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

### 5.3 Arch Linux

```bash
sudo pacman -S docker docker-compose
```

### 5.4 openSUSE

```bash
sudo zypper install docker docker-compose
```

### 5.5 å¯åŠ¨ Docker

```bash
# å¯åŠ¨ Docker æœåŠ¡
sudo systemctl start docker

# è®¾ç½®å¼€æœºè‡ªå¯
sudo systemctl enable docker

# éªŒè¯å®‰è£…
sudo docker run hello-world
```

---

## 6. éªŒè¯å®‰è£…

### 6.1 æ£€æŸ¥ Docker ç‰ˆæœ¬

```bash
docker --version
# è¾“å‡º: Docker version 27.x.x, build xxx

docker-compose --version
# è¾“å‡º: Docker Compose version v2.x.x
```

### 6.2 è¿è¡Œæµ‹è¯•å®¹å™¨

```bash
docker run hello-world
```

æˆåŠŸè¾“å‡ºï¼š

```
Hello from Docker!
This message shows that your installation appears to be working correctly.
```

### 6.3 æ£€æŸ¥ Docker çŠ¶æ€

```bash
docker info
```

---

## 7. Docker Desktop ä¸ Docker Engine

### 7.1 Docker Desktop

é€‚ç”¨äºï¼š
- Windows 10/11 ä¸“ä¸šç‰ˆ
- macOS

ç‰¹ç‚¹ï¼š
- å›¾å½¢ç•Œé¢
- å†…ç½® Kubernetes
- è‡ªåŠ¨æ›´æ–°
- å•†ä¸šç‰ˆå…è´¹ç”¨äºä¸ªäººå’Œå°å‹ä¼ä¸š

### 7.2 Docker Engine (Docker Server)

é€‚ç”¨äºï¼š
- Linux
- Windows Server
- äº‘æœåŠ¡å™¨

ç‰¹ç‚¹ï¼š
- å‘½ä»¤è¡Œç®¡ç†
- æ›´è½»é‡
- å®Œå…¨å¼€æºå…è´¹

### 7.3 WSL 2 åç«¯ï¼ˆWindowsï¼‰

åœ¨ Windows ä¸Šä½¿ç”¨ Docker Desktop æ—¶ï¼Œæ¨èä½¿ç”¨ WSL 2 åç«¯ï¼š

- æ›´å¿«çš„æ„å»ºé€Ÿåº¦
- æ›´å¥½çš„èµ„æºåˆ©ç”¨
- ä¸ Linux å‘è¡Œç‰ˆæ— ç¼é›†æˆ

---

## 8. é…ç½® Docker

### 8.1 é…ç½® Docker é•œåƒåŠ é€Ÿå™¨

ä¸­å›½åœ°åŒºç”¨æˆ·å»ºè®®é…ç½®å›½å†…é•œåƒåŠ é€Ÿï¼š

```json
{
  "registry-mirrors": [
    "https://docker.mirrors.ustc.edu.cn",
    "https://hub-mirror.c.163.com",
    "https://mirror.baidubce.com"
  ]
}
```

#### Windows/macOS é…ç½®

1. æ‰“å¼€ Docker Desktop è®¾ç½®
2. æ‰¾åˆ° "Docker Engine"
3. æ·»åŠ ä¸Šè¿°é…ç½®
4. ç‚¹å‡» "Apply & Restart"

#### Linux é…ç½®

```bash
sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.json <<EOF
{
  "registry-mirrors": [
    "https://docker.mirrors.ustc.edu.cn",
    "https://hub-mirror.c.163.com"
  ]
}
EOF
sudo systemctl daemon-reload
sudo systemctl restart docker
```

### 8.2 é…ç½®èµ„æºé™åˆ¶

#### Docker Desktop é…ç½®

- Memory: æ¨è 4GB+
- CPUs: æ¨è 2+
- Disk: æ¨è 64GB+

### 8.3 é…ç½®é root ç”¨æˆ·ä½¿ç”¨ Docker

```bash
# åˆ›å»º docker ç”¨æˆ·ç»„
sudo groupadd docker

# å°†å½“å‰ç”¨æˆ·åŠ å…¥ docker ç»„
sudo usermod -aG docker $USER

# é‡æ–°ç™»å½•ä½¿æ›´æ”¹ç”Ÿæ•ˆ
```

---

## 9. å¸è½½ Docker

### 9.1 Windows å¸è½½

1. æ‰“å¼€ "è®¾ç½®" > "åº”ç”¨"
2. æ‰¾åˆ° "Docker Desktop"
3. ç‚¹å‡» "å¸è½½"

æˆ–ä½¿ç”¨å‘½ä»¤è¡Œï¼š
```powershell
winget uninstall Docker.DockerDesktop
```

### 9.2 macOS å¸è½½

1. é€€å‡º Docker Desktop
2. åˆ é™¤ Applications ä¸­çš„ Docker
3. åˆ é™¤ç›¸å…³æ–‡ä»¶ï¼š
```bash
rm -rf ~/Library/Containers/com.docker.docker
rm -rf ~/Library/Application\ Support/Docker\ Desktop
rm -rf ~/.docker
```

### 9.3 Linux å¸è½½

```bash
# å¸è½½ Docker
sudo apt remove docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

# åˆ é™¤é•œåƒã€å®¹å™¨ç­‰
sudo rm -rf /var/lib/docker
sudo rm -rf /var/lib/containerd
```

---

## 10. å¸¸è§é—®é¢˜

### Q1: Docker Desktop åœ¨ Windows ä¸Šå¯åŠ¨å¤±è´¥ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®ä¿ BIOS ä¸­å·²å¯ç”¨è™šæ‹ŸåŒ–
2. ç¡®ä¿ WSL 2 å·²æ­£ç¡®å®‰è£…
3. é‡å¯ç”µè„‘åé‡è¯•
4. æ£€æŸ¥æ˜¯å¦æœ‰å†²çªçš„è™šæ‹Ÿæœºè½¯ä»¶ï¼ˆVirtualBoxã€VMwareï¼‰

---

### Q2: docker run æƒé™ä¸è¶³ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
sudo usermod -aG docker $USER
# é‡æ–°ç™»å½•
```

---

### Q3: é•œåƒä¸‹è½½å¤ªæ…¢ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. é…ç½®å›½å†…é•œåƒåŠ é€Ÿå™¨ï¼ˆè§ä¸Šæ–‡ 8.1ï¼‰
2. ä½¿ç”¨ä»£ç†

---

### Q4: å®¹å™¨å†…å­˜ä¸è¶³ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. å¢åŠ  Docker Desktop å†…å­˜é™åˆ¶
2. ä½¿ç”¨ `-m` å‚æ•°é™åˆ¶å®¹å™¨å†…å­˜ï¼š
```bash
docker run -m 512m image-name
```

---

### Q5: å¦‚ä½•æŸ¥çœ‹ Docker æ—¥å¿—ï¼Ÿ

**Linux**ï¼š
```bash
sudo journalctl -u docker -f
```

**Windows/macOS**ï¼š
æ‰“å¼€ Docker Desktopï¼Œç‚¹å‡» "Troubleshoot" > "View Logs"

---

### Q6: Docker å’Œå®¹å™¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

- **Docker** æ˜¯å®¹å™¨å¹³å°
- **å®¹å™¨** æ˜¯ Docker è¿è¡Œçš„å®ä¾‹
- å°±åƒ **è™šæ‹Ÿæœº** å’Œ **VMware** çš„å…³ç³»

---

### Q7: å¦‚ä½•æ¸…ç†æœªä½¿ç”¨çš„ Docker èµ„æºï¼Ÿ

```bash
# æ¸…ç†æœªä½¿ç”¨çš„é•œåƒ
docker image prune -a

# æ¸…ç†æœªä½¿ç”¨çš„å®¹å™¨
docker container prune

# æ¸…ç†æœªä½¿ç”¨çš„å·
docker volume prune

# æ¸…ç†æ„å»ºç¼“å­˜
docker builder prune

# æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨èµ„æº
docker system prune -a
```

---

### Q8: å¦‚ä½•åœ¨å®¹å™¨ä¸­è¿è¡Œ GUI ç¨‹åºï¼Ÿ

ä½¿ç”¨ X11 socket è½¬å‘ï¼š

```bash
docker run -e DISPLAY=$DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix image-name
```

---

### Q9: Docker å ç”¨å¤ªå¤šç£ç›˜ç©ºé—´ï¼Ÿ

```bash
# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨
docker system df

# å…¨é¢æ¸…ç†
docker system prune -a --volumes
```

---

### Q10: å¦‚ä½•æ›´æ–° Dockerï¼Ÿ

**Docker Desktop**ï¼š
- è‡ªåŠ¨æ£€æµ‹æ›´æ–°ï¼Œç‚¹å‡» "Update" å³å¯

**Linux**ï¼š
```bash
sudo apt update
sudo apt upgrade docker-ce
```

---

## ğŸ“š ç›¸å…³èµ„æº

- å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.docker.com
- Docker Hubï¼šhttps://hub.docker.com
- å®˜æ–¹æ•™ç¨‹ï¼šhttps://docker-curriculum.com
- ä¸­æ–‡æ–‡æ¡£ï¼šhttps://docker-doc.readthedocs.io

---

*æœ¬æ–‡æ¡£ç”± AI åŠ©æ‰‹ç”Ÿæˆï¼Œæ¬¢è¿æäº¤åé¦ˆå’Œæ”¹è¿›å»ºè®®ã€‚*
