# Manuel Utilisateur GitLab

> Guide complet pour utiliser GitLab efficacement

---

## Démarrage Rapide

### Créer Votre Premier Projet

1. Après connexion, cliquez sur "Nouveau Projet"
2. Choisissez un modèle de projet ou un projet vierge
3. Remplissez le nom du projet, la description et le niveau de visibilité
4. Cliquez sur "Créer le Projet" pour terminer

### Cloner le Projet en Local

```bash
# Cloner via HTTPS
git clone https://gitlab.example.com/utilisateur/projet.git

# Cloner via SSH
git clone git@gitlab.example.com:utilisateur/projet.git
```

---

## Gestion du Code

### Opérations de Branche

```bash
# Créer une nouvelle branche
git checkout -b feature/nouvelle-fonction

# Pousser la branche vers le distant
git push -u origin feature/nouvelle-fonction

# Voir toutes les branches
git branch -a

# Supprimer la branche locale
git branch -d feature/nouvelle-fonction

# Supprimer la branche distante
git push origin --delete feature/nouvelle-fonction
```

### Merge Requests

1. Après développement sur branche locale, pousser vers le distant
2. Ouvrir la page du projet, cliquer sur "Créer Merge Request"
3. Remplir le titre et la description, sélectionner les branches source et cible
4. Assigner des réviseurs, ajouter des étiquettes et jalons pertinents
5. Créer la merge request et attendre la révision de code

### Révision de Code

- **Commentaires en Ligne**: Les réviseurs peuvent commenter directement sur les lignes de code
- **Règles d'Approbation**: Configurer le nombre d'approbations requis pour le merge
- **Vérifications de Pipeline**: Exiger que les pipelines passent avant le merge
- **Résolution des Conflits**: Résoudre les conflits possibles avant le merge

---

## Suivi des Problèmes

### Créer un Problème

1. Allez dans Projet → Problèmes → Nouveau Problème
2. Remplissez le titre et la description (Markdown supporté)
3. Définissez les étiquettes, jalons et assignés
4. Définissez le poids et la date d'échéance

### Utiliser les Tableaux

1. Allez dans Projet → Problèmes → Tableau
2. Créer des colonnes (ex. À Faire, En Cours, Terminé)
3. Glisser les cartes de problèmes vers les colonnes correspondantes
4. Filtrer par membre ou étiquettes

### Jalons

- Créer des jalons avec dates de début et fin
- Lier les problèmes pertinents aux jalons
- Suivre la progression des jalons

---

## Pipelines CI/CD

### Structure de Base .gitlab-ci.yml

```yaml
stages:
  - build
  - test
  - deploy

build:
  stage: build
  script:
    - echo "Building..."
    - npm install
    - npm run build
  artifacts:
    paths:
      - dist/
    expire_in: 1 week

test:
  stage: test
  script:
    - echo "Testing..."
    - npm test
  coverage: '/Coverage: \d+\.\d+%/'

deploy:
  stage: deploy
  script:
    - echo "Deploying..."
  only:
    - main
  environment:
    name: production
```

### Configurations Runner Courantes

#### Exécuteur Docker

```yaml
job:
  image: node:18
  services:
    - postgres:14
  variables:
    POSTGRES_DB: test_db
    POSTGRES_USER: test_user
    POSTGRES_PASSWORD: test_password
```

#### Configuration Cache

```yaml
cache:
  key: ${CI_COMMIT_REF_SLUG}
  paths:
    - node_modules/
    - .npm/
```

### Environnements de Déploiement

- **Production**: Pour les versions officielles
- **Staging**: Pour les tests avant mise en production
- **Développement**: Pour le développement quotidien

---

## Documentation Wiki

### Créer une Page Wiki

1. Allez dans Projet → Wiki → Nouvelle Page
2. Rédigez le contenu en Markdown
3. Enregistrez la page

### Barre Latérale

- Navigation de table des matières auto-générée
- Contenu de la barre latérale personnalisable

---

## Registre de Conteneurs

### Pousser une Image

```bash
# Se connecter au GitLab Registry
docker login registry.gitlab.example.com

# Tagger l'image
docker tag my-image:latest registry.gitlab.example.com/utilisateur/projet/my-image:latest

# Pousser l'image
docker push registry.gitlab.example.com/utilisateur/projet/my-image:latest
```

### Tirer une Image

```bash
docker pull registry.gitlab.example.com/utilisateur/projet/my-image:latest
```

---

## Scan de Sécurité

### Fonctions de Scan Automatique

- **Scan de Dépendances**: Vérifier les vulnérabilités de sécurité dans les dépendances
- **Scan de Conteneurs**: Vérifier les problèmes de sécurité dans les images Docker
- **SAST**: Tests de Sécurité d'Application Statique
- **DAST**: Tests de Sécurité d'Application Dynamique

### Voir le Tableau de Bord Sécurité

1. Allez dans Projet → Sécurité et Conformité → Tableau de Bord Sécurité
2. Voir la liste de toutes les vulnérabilités
3. Filtrer par gravité
4. Créer des problèmes pour suivre les vulnérabilités

---

## Conseils de Gestion de Projet

### Utiliser des Modèles

- Définir des règles de protection de branche par défaut pour les nouveaux projets
- Configurer des modèles de projet
- Utiliser l'héritage de projet

### Gestion des Membres

- Ajouter des membres de projet et définir les niveaux d'accès
- Utiliser des groupes pour gérer plusieurs projets
- Configurer des jetons d'accès

### Webhooks

- Configurer des intégrations webhook avec des services externes
- Déclencheurs supportés: push, merge request, tag, etc.

---

## Bonnes Pratiques

1. **Utiliser des Branches de Fonction**: Développer chaque fonction ou correction dans une branche séparée
2. **Commiter Fréquemment**: Faire des commits fréquents avec des messages clairs
3. **Révision de Code**: Tout le code doit être révisé avant le merge
4. **Tests Automatisés**: S'assurer que les pipelines CI/CD incluent des étapes de test
5. **Maintenir la Documentation**: Utiliser le Wiki pour la documentation du projet
6. **Sécurité**: Vérifier régulièrement les rapports de scan de sécurité
