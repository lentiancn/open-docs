# Docker ä½¿ç”¨æ‰‹å†Š

> ğŸ¯ æœ¬æ–‡è©³ç´°ä»‹ç´¹ Docker çš„æ ¸å¿ƒæ¦‚å¿µã€åŸºæœ¬ç”¨æ³•å’Œé–‹ç™¼æŒ‡å—

---

## é¡åƒæ“ä½œ

### æ‹‰å–é¡åƒ

```bash
docker pull nginx
docker pull ubuntu:22.04
```

### æ§‹å»ºé¡åƒ

```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
EXPOSE 3000
CMD ["npm", "start"]
```

```bash
docker build -t my-app:tag .
```

### ç®¡ç†é¡åƒ

```bash
docker images
docker rmi nginx
```

---

## å®¹å™¨æ“ä½œ

### å‰µå»ºå’Œå•Ÿå‹•å®¹å™¨

```bash
# äº¤äº’å¼å®¹å™¨
docker run -it ubuntu /bin/bash

# å¾Œå°å®¹å™¨
docker run -d nginx

# ç«¯å£æ˜ å°„
docker run -d -p 8080:80 nginx

# ç’°å¢ƒè®Šé‡
docker run -e MYSQL_ROOT_PASSWORD=123456 mysql
```

### å®¹å™¨ç®¡ç†

```bash
docker ps              # é‹è¡Œä¸­çš„å®¹å™¨
docker ps -a           # æ‰€æœ‰å®¹å™¨
docker start container_id
docker stop container_id
docker rm container_id
```

### é€²å…¥å®¹å™¨

```bash
docker exec -it container_id /bin/bash
```

### æŸ¥çœ‹æ—¥èªŒ

```bash
docker logs container_id
docker logs -f container_id
```

---

## Dockerfile ç·¨å¯«

### åŸºç¤æŒ‡ä»¤

```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY . .
RUN npm install
EXPOSE 3000
CMD ["npm", "start"]
```

### å¤šéšæ®µæ§‹å»º

```dockerfile
# æ§‹å»ºéšæ®µ
FROM node:18 AS builder
WORKDIR /app
COPY . .
RUN npm run build

# ç”Ÿç”¢éšæ®µ
FROM nginx:alpine
COPY --from=builder /app/dist /usr/share/nginx/html
```

---

## Docker Compose

### docker-compose.yml

```yaml
version: '3.8'

services:
  web:
    build: .
    ports:
      - "3000:3000"
  db:
    image: postgres:15
    environment:
      POSTGRES_PASSWORD: secret
```

### å¸¸ç”¨å‘½ä»¤

```bash
docker-compose up -d
docker-compose down
docker-compose logs -f
```

---

## ç¶²çµ¡ç®¡ç†

### ç«¯å£æ˜ å°„

```bash
docker run -p 8080:80 nginx
```

### è‡ªå®šç¾©ç¶²çµ¡

```bash
docker network create my-network
docker run --network my-network nginx
```

---

## æ•¸æ“šç®¡ç†

### Volume

```bash
docker volume create my-data
docker run -v my-data:/data nginx
```

### Bind Mount

```bash
docker run -v /host/path:/container/path nginx
```

---

## è³‡æºé™åˆ¶

```bash
# å…§å­˜é™åˆ¶
docker run -m 512m nginx

# CPU é™åˆ¶
docker run --cpus=0.5 nginx
```

---

## ç›£æ§å’Œèª¿è©¦

```bash
docker stats
docker inspect container_id
docker logs container_id
```

---

## æ¸…ç†

```bash
docker system prune -a
docker volume prune
```

---

*æœ¬æ–‡æª”ç”± AI åŠ©æ‰‹ç”Ÿæˆ*
