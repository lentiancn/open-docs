# PostgreSQL 使用手册

## 连接数据库

```bash
psql -U username -d database
```

## 基本操作

```sql
-- 创建表
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100),
    email VARCHAR(100) UNIQUE
);

-- 插入数据
INSERT INTO users (name, email) VALUES ('Tom', 'tom@example.com');

-- 查询
SELECT * FROM users;

-- 更新
UPDATE users SET name = 'Jerry' WHERE id = 1;

-- 删除
DELETE FROM users WHERE id = 1;
```

## 高级特性

```sql
-- 视图
CREATE VIEW user_stats AS
SELECT name, COUNT(*) as count FROM users GROUP BY name;

-- 事务
BEGIN;
UPDATE accounts SET balance = balance - 100 WHERE id = 1;
UPDATE accounts SET balance = balance + 100 WHERE id = 2;
COMMIT;

-- CTE
WITH temp AS (
    SELECT * FROM users WHERE age > 18
) SELECT * FROM temp;
```
