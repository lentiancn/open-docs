# Element Plus 使用指南

本指南介紹如何在 Vue 3 應用程式中有效使用 Element Plus 元件。

## 基本用法

### Hello World 範例

```vue
<template>
  <div>
    <el-button type="primary">Hello Element Plus</el-button>
  </div>
</template>

<script setup>
import { ElButton } from 'element-plus'
</script>
```

使用自動引入（推薦）：

```vue
<template>
  <div>
    <el-button type="primary">點擊我</el-button>
    <el-input v-model="input" placeholder="輸入文字"></el-input>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const input = ref('')
</script>
```

## 元件類別

Element Plus 提供以下元件類別：

| 類別 | 元件 |
|----------|------------|
| 基礎 | Button, Link, Typography, Divider |
| 表單 | Input, Select, Radio, Checkbox, Switch, Slider, TimePicker, DatePicker |
| 資料 | Table, Tree, Pagination, Tag |
| 通知 | Alert, Message, Notification, Progress |
| 導航 | Menu, Tabs, Breadcrumb, Steps |
| 其他 | Dialog, Drawer, Card, Collapse |

## 常用元件

### 按鈕

```vue
<template>
  <div>
    <!-- 基礎按鈕 -->
    <el-button>預設</el-button>
    <el-button type="primary">主要</el-button>
    <el-button type="success">成功</el-button>
    <el-button type="warning">警告</el-button>
    <el-button type="danger">危險</el-button>
    
    <!-- 簡約按鈕 -->
    <el-button plain>簡約</el-button>
    <el-button type="primary" plain>主要簡約</el-button>
    
    <!-- 圓角按鈕 -->
    <el-button round>圓角</el-button>
    <el-button type="primary" round>主要圓角</el-button>
    
    <!-- 圓形按鈕 -->
    <el-button circle icon="el-icon-search"></el-button>
    
    <!-- 禁用 -->
    <el-button disabled>禁用</el-button>
    
    <!-- 載入中 -->
    <el-button loading>載入中</el-button>
    
    <!-- 尺寸 -->
    <el-button size="large">大</el-button>
    <el-button size="default">中</el-button>
    <el-button size="small">小</el-button>
  </div>
</template>
```

### 輸入框

```vue
<template>
  <div>
    <!-- 基礎輸入框 -->
    <el-input v-model="input" placeholder="輸入文字"></el-input>
    
    <!-- 帶前綴/後綴圖標 -->
    <el-input
      v-model="input1"
      placeholder="搜尋"
      :prefix-icon="Search"
    ></el-input>
    <el-input
      v-model="input2"
      placeholder="密碼"
      :suffix-icon="Lock"
      show-password
    ></el-input>
    
    <!-- 文字區域 -->
    <el-input
      v-model="textarea"
      type="textarea"
      :rows="3"
      placeholder="輸入描述"
    ></el-input>
    
    <!-- 可清除 -->
    <el-input
      v-model="input3"
      placeholder="可清除"
      clearable
    ></el-input>
    
    <!-- 禁用 -->
    <el-input disabled placeholder="禁用"></el-input>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { Search, Lock } from '@element-plus/icons-vue'

const input = ref('')
const input1 = ref('')
const input2 = ref('')
const input3 = ref('')
const textarea = ref('')
</script>
```

### 表格

```vue
<template>
  <el-table :data="tableData" stripe border>
    <el-table-column prop="date" label="日期" width="180"></el-table-column>
    <el-table-column prop="name" label="姓名" width="180"></el-table-column>
    <el-table-column prop="address" label="地址"></el-table-column>
    <el-table-column label="操作">
      <template #default="scope">
        <el-button type="primary" @click="handleEdit(scope.row)">
          編輯
        </el-button>
        <el-button type="danger" @click="handleDelete(scope.row)">
          刪除
        </el-button>
      </template>
    </el-table-column>
  </el-table>
</template>

<script setup>
const tableData = ref([
  {
    date: '2024-01-01',
    name: '王小明',
    address: '台北市信義區',
  },
  {
    date: '2024-01-02',
    name: '李小華',
    address: '新北市板橋區',
  },
])

const handleEdit = (row) => {
  console.log('編輯:', row)
}

const handleDelete = (row) => {
  console.log('刪除:', row)
}
</script>
```

### 表單

```vue
<template>
  <el-form
    ref="ruleFormRef"
    :model="form"
    :rules="rules"
    label-width="120px"
  >
    <el-form-item label="姓名" prop="name">
      <el-input v-model="form.name"></el-input>
    </el-form-item>
    
    <el-form-item label="電子郵件" prop="email">
      <el-input v-model="form.email"></el-input>
    </el-form-item>
    
    <el-form-item label="性別" prop="gender">
      <el-radio-group v-model="form.gender">
        <el-radio label="male">男性</el-radio>
        <el-radio label="female">女性</el-radio>
      </el-radio-group>
    </el-form-item>
    
    <el-form-item label="興趣"">
      <el prop="hobby-checkbox-group v-model="form.hobby">
        <el-checkbox label="閱讀">閱讀</el-checkbox>
        <el-checkbox label="運動">運動</el-checkbox>
        <el-checkbox label="音樂">音樂</el-checkbox>
      </el-checkbox-group>
    </el-form-item>
    
    <el-form-item label="國家" prop="country">
      <el-select v-model="form.country" placeholder="選擇國家">
        <el-option label="台灣" value="taiwan"></el-option>
        <el-option label="美國" value="usa"></el-option>
        <el-option label="英國" value="uk"></el-option>
      </el-select>
    </el-form-item>
    
    <el-form-item>
      <el-button type="primary" @click="submitForm(ruleFormRef)">
        提交
      </el-button>
      <el-button @click="resetForm(ruleFormRef)">重設</el-button>
    </el-form-item>
  </el-form>
</template>

<script setup>
import { reactive, ref } from 'vue'

const ruleFormRef = ref()

const form = reactive({
  name: '',
  email: '',
  gender: '',
  hobby: [],
  country: '',
})

const rules = reactive({
  name: [
    { required: true, message: '請輸入姓名', trigger: 'blur' },
  ],
  email: [
    { required: true, message: '請輸入電子郵件', trigger: 'blur' },
    { type: 'email', message: '電子郵件格式無效', trigger: 'blur' },
  ],
  gender: [
    { required: true, message: '請選擇性別', trigger: 'change' },
  ],
  country: [
    { required: true, message: '請選擇國家', trigger: 'change' },
  ],
})

const submitForm = async (formEl) => {
  if (!formEl) return
  await formEl.validate((valid) => {
    if (valid) {
      console.log('提交:', form)
    }
  })
}

const resetForm = (formEl) => {
  if (!formEl) return
  formEl.resetFields()
}
</script>
```

### 對話框

```vue
<template>
  <el-button type="primary" @click="dialogVisible = true">
    開啟對話框
  </el-button>

  <el-dialog
    v-model="dialogVisible"
    title="對話框標題"
    width="30%"
  >
    <span>這是對話框訊息。</span>
    <template #footer>
      <span class="dialog-footer">
        <el-button @click="dialogVisible = false">取消</el-button>
        <el-button type="primary" @click="dialogVisible = false">
          確認
        </el-button>
      </span>
    </template>
  </el-dialog>
</template>

<script setup>
import { ref } from 'vue'

const dialogVisible = ref(false)
</script>
```

### 訊息

```javascript
import { ElMessage } from 'element-plus'

// 成功訊息
ElMessage.success('成功訊息')

// 錯誤訊息
ElMessage.error('錯誤訊息')

// 警告訊息
ElMessage.warning('警告訊息')

// 資訊訊息
ElMessage.info('資訊訊息')

// 自訂時長
ElMessage({
  message: '自訂訊息',
  type: 'success',
  duration: 3000,
})
```

### 通知

```javascript
import { ElNotification } from 'element-plus'

// 成功通知
ElNotification({
  title: '成功',
  message: '操作成功完成',
  type: 'success',
})

// 錯誤通知
ElNotification({
  title: '錯誤',
  message: '操作失敗',
  type: 'error',
})
```

## 插槽

Element Plus 元件支援 Vue 插槽：

```vue
<template>
  <!-- 預設插槽 -->
  <el-button>按鈕文字</el-button>
  
  <!-- 命名插槽 -->
  <el-dialog>
    <template #header>
      <h3>自訂標題</h3>
    </template>
    <p>對話框內容</p>
    <template #footer>
      <el-button>取消</el-button>
      <el-button type="primary">確定</el-button>
    </template>
  </el-dialog>
  
  <!-- 空插槽 -->
  <el-table-column>
    <template #empty>
      <div>無可用資料</div>
    </template>
  </el-table-column>
</template>
```

## 事件

```vue
<template>
  <el-button @click="handleClick">點擊我</el-button>
  
  <el-input
    v-model="input"
    @focus="handleFocus"
    @blur="handleBlur"
    @change="handleChange"
    @input="handleInput"
  ></el-input>
  
  <el-table
    :data="tableData"
    @select="handleSelect"
    @selection-change="handleSelectionChange"
    @row-click="handleRowClick"
  ></el-table>
</template>

<script setup>
const handleClick = () => {
  console.log('按鈕點擊')
}

const handleFocus = () => {
  console.log('輸入框聚焦')
}

const handleBlur = () => {
  console.log('輸入框失焦')
}

const handleChange = (value) => {
  console.log('值變更:', value)
}

const handleInput = (value) => {
  console.log('輸入:', value)
}

const handleSelect = (selection, row) => {
  console.log('已選擇:', selection, row)
}

const handleSelectionChange = (selection) => {
  console.log('選擇變更:', selection)
}

const handleRowClick = (row) => {
  console.log('行點擊:', row)
}
</script>
```

## v-model

Element Plus 支援 v-model 雙向綁定：

```vue
<template>
  <!-- 輸入框 -->
  <el-input v-model="inputValue"></el-input>
  
  <!-- 核取方塊 -->
  <el-checkbox v-model="checked">標籤</el-checkbox>
  <el-checkbox-group v-model="checkboxGroup">
    <el-checkbox label="A">A</el-checkbox>
    <el-checkbox label="B">B</el-checkbox>
  </el-checkbox-group>
  
  <!-- 單選按鈕 -->
  <el-radio-group v-model="radio">
    <el-radio label="A">A</el-radio>
    <el-radio label="B">B</el-radio>
  </el-radio-group>
  
  <!-- 開關 -->
  <el-switch v-model="switchValue"></el-switch>
  
  <!-- 選擇器 -->
  <el-select v-model="selectValue">
    <el-option label="選項 1" value="1"></el-option>
    <el-option label="選項 2" value="2"></el-option>
  </el-select>
  
  <!-- 滑桿 -->
  <el-slider v-model="sliderValue"></el-slider>
</template>

<script setup>
import { ref } from 'vue'

const inputValue = ref('')
const checked = ref(true)
const checkboxGroup = ref(['A'])
const radio = ref('A')
const switchValue = ref(false)
const selectValue = ref('')
const sliderValue = ref(50)
</script>
```

## 圖標

### 使用圖標

```bash
# 安裝圖標套件
npm install @element-plus/icons-vue
```

```vue
<template>
  <el-button :icon="Search">搜尋</el-button>
  <el-icon><Search /></el-icon>
</template>

<script setup>
import { Search } from '@element-plus/icons-vue'
</script>
```

### 可用圖標

Element Plus 包含以下圖標集：
- Element Plus 圖標
- 自訂圖標

常用圖標：Search, Edit, Delete, Plus, Minus, Check, Close, ArrowLeft, ArrowRight, Upload, Download

## 國際化

### 設定語言

```typescript
// main.ts
import ElementPlus from 'element-plus'
import zhCn from 'element-plus/es/locale/lang/zh-cn'

app.use(ElementPlus, {
  locale: zhCn,
})
```

### 支援的語言

| 語言 | 代碼 |
|----------|------|
| 簡體中文 | zh-cn |
| 繁體中文 | zh-tw |
| 英文 | en |
| 西班牙文 | es |
| 法文 | fr |
| 德文 | de |
| 日文 | ja |
| 韓文 | ko |
| 俄文 | ru |
| 葡萄牙文 | pt |
| 義大利文 | it |

## 動態元件

```vue
<template>
  <component :is="currentComponent" />
</template>

<script setup>
import { ref, computed } from 'vue'
import { Button, Input, Table } from 'element-plus'

const componentName = ref('Button')

const currentComponent = computed(() => {
  return {
    Button: Button,
    Input: Input,
    Table: Table,
  }[componentName.value]
})
</script>
```

## 響應式設計

```vue
<template>
  <el-row :gutter="20">
    <el-col :xs="24" :sm="12" :md="8" :lg="6" :xl="4">
      <div class="grid-content">欄位 1</div>
    </el-col>
    <el-col :xs="24" :sm="12" :md="8" :lg="6" :xl="4">
      <div class="grid-content">欄位 2</div>
    </el-col>
  </el-row>
</template>

<style>
.grid-content {
  background: #eee;
  padding: 20px;
  text-align: center;
}
</style>
```

## 最佳實踐

### 1. 使用按需引入

```typescript
// 不好 - 完整引入
import ElementPlus from 'element-plus'

// 好 - 透過自動引入插件按需引入
// 元件使用時自動引入
```

### 2. 使用 Composition API

```vue
<script setup>
// 推薦
import { ref, computed, onMounted } from 'vue'

const count = ref(0)
const doubled = computed(() => count.value * 2)

onMounted(() => {
  console.log('已掛載')
})
</script>
```

### 3. 正確處理表單

```vue
<script setup>
const formRef = ref()
const form = reactive({ ... })
const rules = reactive({ ... })

const handleSubmit = async () => {
  if (!formRef.value) return
  await formRef.value.validate((valid) => {
    if (valid) {
      // 提交
    }
  })
}
</script>
```

### 4. 使用插槽自訂

```vue
<el-table-column>
  <template #default="{ row }">
    <span>{{ row.name }}</span>
  </template>
</el-table-column>
```

### 5. 處理載入狀態

```vue
<template>
  <el-button :loading="loading" @click="handleSubmit">
    {{ loading ? '載入中...' : '提交' }}
  </el-button>
  
  <el-table v-loading="tableLoading" :data="tableData">
    <!-- 欄位 -->
  </el-table>
</template>
```

## 無障礙設計

Element Plus 元件包含 ARIA 屬性：

```vue
<!-- 自動 -->
<el-button type="primary">點擊我</el-button>

<!-- 使用 aria-label -->
<el-button aria-label="提交表單">提交</el-button>
```

## 效能技巧

1. **使用按需引入** - 減少套件大小
2. **延遲載入對話框** - 對於大型對話框
3. **虛擬滾動** - 對於大型表格
4. **快取計算值** - 避免重複計算

## 常見問題

### 元件未註冊

```typescript
// 解決方案：檢查自動引入配置
// vite.config.ts
Components({
  resolvers: [ElementPlusResolver()],
})
```

### 樣式衝突

```css
/* 解決方案：使用更具體的選擇器 */
.el-button.my-button {
  /* 自訂樣式 */
}
```

### 事件未觸發

```vue
<!-- 解決方案：使用 .native 修飾符處理原生事件 -->
<el-input @keyup.enter.native="handleEnter"></el-input>

<!-- 或在 Vue 3 中使用 @key 事件 -->
<el-input @keyup.enter="handleEnter"></el-input>
```

## 相關連結

- [Element Plus 官方文檔](https://element-plus.org)
- [元件列表](https://element-plus.org/en-US/component/button.html)
- [Vue 3 文檔](https://vuejs.org)
- [Vite 文檔](https://vitejs.dev)
