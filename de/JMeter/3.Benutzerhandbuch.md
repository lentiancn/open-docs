# JMeter Benutzerhandbuch

## Erste Schritte mit JMeter

### Ihren ersten Testplan erstellen

1. **JMeter starten**: Starten Sie die JMeter GUI
2. **Thread-Gruppe hinzufügen**: Rechtsklick auf Testplan → Hinzufügen → Thread-Gruppe
3. **Thread-Gruppe konfigurieren**:
   - Anzahl der Threads: Anzahl der Benutzer
   - Anlaufzeit: Zeit zum Starten aller Benutzer
   - Schleifenanzahl: Wie oft der Test ausgeführt wird
4. **Sampler hinzufügen**: Rechtsklick auf Thread-Gruppe → Hinzufügen → HTTP-Anfrage
5. **HTTP-Anfrage konfigurieren**: Servername, Pfad und Parameter eingeben
6. **Listener hinzufügen**: Rechtsklick auf Thread-Gruppe → Hinzufügen → Listener (Ergebnisbaum, Zusammenfassungsbericht)
7. **Test ausführen**: Klicken Sie auf die grüne "Start"-Schaltfläche

## Hauptkomponenten

### Thread-Gruppe
Thread-Gruppe simuliert Benutzer. Wichtige Einstellungen:
- **Anzahl der Threads**: Gleichzeitige Benutzer
- **Anlaufzeit**: Zeit bis zur vollen Last
- **Schleifenanzahl**: Wie oft jeder Benutzer den Test ausführt
- **Thread-Erstellung verzögern**: Verzögerung zwischen Thread-Erstellung hinzufügen

### Sampler
Sampler führen die eigentlichen Anfragen aus:

| Sampler | Beschreibung |
|---------|-------------|
| HTTP-Anfrage | Web-Server testen |
| JDBC-Anfrage | Datenbanken testen |
| LDAP-Anfrage | LDAP-Server testen |
| FTP-Anfrage | FTP-Server testen |
| SOAP/XML-RPC | Web-Services testen |
| TCP-Sampler | TCP-Server testen |

### Controller
Controller organisieren den Testablauf:

- **Simple Controller**: Gruppiert Anfragen
- **Loop Controller**: Wiederholt Anfragen
- **If Controller**: Bedingte Ausführung
- **Transaction Controller**: Misst Transaktionszeit

### Listener
Listener zeigen Testergebnisse an:
- **Ergebnisbaum**: Detaillierte Anfrage/Antwort
- **Zusammenfassungsbericht**: Aggregierte Statistiken
- **Graph-Ergebnisse**: Visme
- **Antwortzeit-uelle LeistungsdiagramGraph**: Antwortzeit-Visualisierung

### Timer
Timer fügen Verzögerungen zwischen Anfragen hinzu:
- **Konstanter Timer**: Fixe Verzögerung
- **Gaussian Random Timer**: Zufällige Verzögerung mit Gaußscher Verteilung
- **Uniform Random Timer**: Zufällige Verzögerung im Bereich

### Assertions
Assertions validieren Antworten:
- **Antwort-Assertion**: Antwortinhalt prüfen
- **Dauer-Assertion**: Antwortzeit prüfen
- **Größen-Assertion**: Antwortgröße prüfen
- **XML-Assertion**: XML-Format validieren

## Erweiterte Funktionen

### Datenextraktion (Korrelation)

Werte aus Antworten für dynamische Daten extrahieren:

1. **JSON-Extraktor**: JSON-Werte extrahieren
2. **XPath-Extraktor**: XML-Werte extrahieren
3. **CSS/JQuery-Extraktor**: HTML-Werte extrahieren
4. **Regulärer Ausdruck Extraktor**: Extraktion mit Regex

### Variablen und Funktionen

Verwenden Sie Variablen zur Parameterisierung von Tests:
- `${variable_name}`: Variablen referenzieren
- `${__functionName(param)}`: Integrierte Funktionen verwenden

Häufige Funktionen:
- `__Random`: Zufallswerte generieren
- `__time`: Aktueller Zeitstempel
- `__counter`: Inkrementeller Zähler
- `__property`: Eigenschaften lesen

### Verteilte Tests

Tests auf mehreren Maschinen ausführen:

1. **Remote-Server konfigurieren**: `remote_hosts` in jmeter.properties bearbeiten
2. **Remote-Server starten**: `jmeter-server` auf jedem Slave ausführen
3. **Test ausführen**: Auf "Remote Start" in der GUI klicken

```bash
# Remote-Server starten
# Verteilten Test ausführenjmeter-server


jmeter -R server1,server2 -t testplan.jmx
```

### Eigenschaftendateien

JMeter-Verhalten anpassen:
- `jmeter.properties`: Hauptkonfiguration
- `user.properties`: Benutzerspezifische Einstellungen
- `system.properties`: Systemeigenschaften

## Best Practices

1. **CLI-Modus für Lasttests verwenden**: GUI-Modus verbraucht mehr Speicher
2. **Mit niedriger Last beginnen**: Test verifizieren vor dem Hochskalieren
3. **Assertions verwenden**: Antworten validieren, um Fehler zu finden
4. **Dynamische Daten extrahieren**: Sitzungs-IDs, Tokens usw. behandeln
5. **Ressourcen bereinigen**: tearDown-Thread-Gruppe für Aufräumen verwenden
6. **Systemressourcen überwachen**: CPU, Speicher, Netzwerk
7. **Korrekte Benennung**: Klare Namen für Elemente erleichtern das Debugging
8. **Versionskontrolle**: Testpläne in Versionskontrolle halten

## Leistungsoptimierung

### JVM-Einstellungen
```bash
HEAP="-Xms1g -Xmx4g"
NEW="-XX:NewSize=512m -XX:MaxNewSize=1024m"
```

### JMeter-Einstellungen
```properties
# Thread-Limit erhöhen
thread_nums_higher_limit=10000

# Ausführliches Logging deaktivieren
log_level.jmeter=INFO
```

## Fehlerbehebung

### OutOfMemoryError
- Heap-Größe erhöhen
- Anzahl der Threads reduzieren
- CLI-Modus verwenden

### Hohe Latenz
- Netzwerkbedingungen prüfen
- Testplan optimieren
- Verteilte Tests verwenden

### Skriptfehler
- Details im Ergebnisbaum prüfen
- Debug-Logging aktivieren
- Assertions überprüfen
