# JUnit Usage Guide

## Basic Test

### Simple Test Class

```java
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

class MyFirstTest {
    
    @Test
    void simpleTest() {
        assertTrue(1 + 1 == 2);
    }
    
    @Test
    void anotherTest() {
        assertEquals(4, 2 + 2);
    }
}
```

## Assertions

### Common Assertions

```java
import static org.junit.jupiter.api.Assertions.*;

@Test
void assertionsExample() {
    // Equality
    assertEquals(expected, actual);
    assertEquals(expected, actual, "Optional message");
    
    // Boolean
    assertTrue(condition);
    assertFalse(condition);
    
    // Null
    assertNull(object);
    assertNotNull(object);
    
    // Arrays
    assertArrayEquals(expectedArray, actualArray);
    
    // Exceptions
    assertThrows(Exception.class, () -> {
        // code that throws exception
    });
    
    // Multiple assertions
    assertAll(() -> assertEquals(1, 1),
              () -> assertTrue(true));
}
```

## Test Lifecycle

### Before/After Methods

```java
class LifecycleTest {
    
    @BeforeAll
    static void beforeAll() {
        // Runs once before all tests
    }
    
    @AfterAll
    static void afterAll() {
        // Runs once after all tests
    }
    
    @BeforeEach
    void beforeEach() {
        // Runs before each test
    }
    
    @AfterEach
    void afterEach() {
        // Runs after each test
    }
    
    @Test
    void test1() {}
    
    @Test
    void test2() {}
}
```

## Nested Tests

```java
@Nested
class NestedTests {
    
    @Test
    void parentTest() {}
    
    @Nested
    class InnerClass {
        @Test
        void innerTest() {}
    }
}
```

## Parameterized Tests

```java
@ParameterizedTest
@ValueSource(ints = {1, 2, 3, 4, 5})
void isEven(int number) {
    assertTrue(number % 2 == 0);
}

@ParameterizedTest
@CsvSource({"1,1,2", "2,3,5", "10,20,30"})
void addTest(int a, int b, int expected) {
    assertEquals(expected, a + b);
}
```

## Mocking with Mockito

```java
import org.junit.jupiter.api.Test;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.mockito.junit.jupiter.MockitoExtension;
import static org.mockito.Mockito.*;

@ExtendWith(MockitoExtension.class)
class UserServiceTest {
    
    @Mock
    private UserRepository userRepository;
    
    @InjectMocks
    private UserService userService;
    
    @Test
    void testGetUserById() {
        when(userRepository.findById(1L))
            .thenReturn(new User("John"));
        
        User user = userService.getUserById(1L);
        
        assertEquals("John", user.getName());
        verify(userRepository).findById(1L);
    }
}
```

## Spring Boot Testing

```java
@SpringBootTest
class MyServiceIntegrationTest {
    
    @Autowired
    private MyService myService;
    
    @Test
    void testService() {
        String result = myService.doSomething();
        assertNotNull(result);
    }
}

@WebMvcTest(MyController.class)
class MyControllerTest {
    
    @Autowired
    private MockMvc mockMvc;
    
    @Test
    void testEndpoint() throws Exception {
        mockMvc.perform(get("/api/hello"))
            .andExpect(status().isOk())
            .andExpect(jsonPath("$.message").value("Hello"));
    }
}
```

## Test Execution

### Run Tests

```bash
# Maven
mvn test

# Gradle
./gradlew test

# Run specific test
mvn test -Dtest=MyTest

# Run with coverage
mvn test jacoco:report
```

## Best Practices

1. **Name tests clearly** - Use descriptive names
2. **One assertion per test** - Or use assertAll
3. **Test behavior** - Not implementation
4. **Use @BeforeEach** - For common setup
5. **Mock external dependencies** - Use Mockito

## Related Links

- [JUnit 5 Docs](https://junit.org/junit5/docs/current/user/)
- [Mockito](https://site.mockito.org)
- [AssertJ](https://assertj.github.io)
