# JUnit 5 Usage Guide

Comprehensive guide for using JUnit 5 effectively.

---

## Basic Test

### Simple Test Class

```java
import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.*;

class CalculatorTest {

    @Test
    void testAdd() {
        Calculator calc = new Calculator();
        assertEquals(5, calc.add(2, 3));
    }
}
```

---

## Annotations

### @Test

```java
@Test
void testMethod() {
    // Test code
}
```

### @BeforeEach

```java
@BeforeEach
void setUp() {
    // Runs before each test method
}
```

### @AfterEach

```java
@AfterEach
void tearDown() {
    // Runs after each test method
}
```

### @BeforeAll

```java
@BeforeAll
static void setUpClass() {
    // Runs once before all tests (must be static)
}
```

### @AfterAll

```java
@AfterAll
static void tearDownClass() {
    // Runs once after all tests (must be static)
}
```

### @Disabled

```java
@Disabled("Not implemented yet")
@Test
void testPending() {
    // Will be skipped
}
```

### @DisplayName

```java
@DisplayName("Custom test name")
@Test
void testWithCustomName() {
    // Test with custom display name
}
```

---

## Assertions

### assertEquals

```java
assertEquals(expected, actual);
assertEquals(expected, actual, "Optional message");
```

### assertTrue / assertFalse

```java
assertTrue(condition);
assertTrue(condition, "Message");
```

### assertNull / assertNotNull

```java
assertNull(object);
assertNotNull(object);
```

### assertSame / assertNotSame

```java
assertSame(expected, actual);
assertNotSame(expected, actual);
```

### assertArrayEquals

```java
assertArrayEquals(expectedArray, actualArray);
```

### assertThrows

```java
assertThrows(ArithmeticException.class, () -> {
    int x = 1 / 0;
});
```

### assertAll

```java
assertAll("Group name",
    () -> assertEquals(4, 2 + 2),
    () -> assertEquals("test", "test".toLowerCase())
);
```

---

## Display Names

```java
@DisplayName("Calculator tests")
class CalculatorTest {

    @DisplayName("Addition test")
    @Test
    void testAdd() {
        assertEquals(5, 2 + 3);
    }
}
```

---

## Nested Tests

```java
@DisplayName("Calculator tests")
class CalculatorTest {

    @Nested
    @DisplayName("Addition tests")
    class AdditionTests {

        @Test
        void testPositiveNumbers() {
            assertEquals(5, 2 + 3);
        }

        @Test
        void testNegativeNumbers() {
            assertEquals(-5, -2 + -3);
        }
    }
}
```

---

## Repeated Tests

```java
@RepeatedTest(5)
void testRepeated() {
    assertTrue(true);
}
```

---

## Parameterized Tests

```java
@ParameterizedTest
@ValueSource(ints = { 1, 2, 3, 4, 5 })
void testWithValueSource(int number) {
    assertTrue(number > 0);
}
```

### Multiple Sources

```java
@ParameterizedTest
@CsvSource({ "1, 1", "2, 2", "3, 3" })
void testWithCsvSource(int input, int expected) {
    assertEquals(expected, input);
}
```

---

## Dependency Injection

### TestInfo

```java
@Test
void testWithTestInfo(TestInfo testInfo) {
    System.out.println("Test: " + testInfo.getDisplayName());
}
```

### TestReporter

```java
@Test
void testWithTestReporter(TestReporter testReporter) {
    testReporter.publishEntry("key", "value");
}
```

---

## Assumptions

```java
@Test
void testOnCI() {
    assumeTrue("CI".equals(System.getenv("BUILD_ENV")));
    // Test only runs if assumption passes
}
```

---

## Test Interfaces

```java
interface TestLifecycleLogger {

    @BeforeEach
    default void beforeEach(TestInfo testInfo) {
        System.out.println("Before: " + testInfo.getDisplayName());
    }

    @AfterEach
    default void afterEach(TestInfo testInfo) {
        System.out.println("After: " + testInfo.getDisplayName());
    }
}

class MyTest implements TestLifecycleLogger {
    @Test
    void test() {
        assertTrue(true);
    }
}
```

---

## Best Practices

1. **Test one thing per method** - Each test should verify one behavior
2. **Use descriptive names** - @DisplayName for better readability
3. **Follow AAA pattern** - Arrange, Act, Assert
4. **Keep tests independent** - No test should depend on another
5. **Use nested tests** - Group related tests together
6. **Leverage parameterized tests** - Test multiple inputs

---

## Next Steps

- Explore [JUnit 5 Documentation](https://junit.org/junit5/)
