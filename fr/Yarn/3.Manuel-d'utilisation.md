# Yarn User Manual

This manual provides detailed information on Yarn's features and usage.

---

## Basic Concepts

### package.json

The package.json file is the core configuration file for Node.js projects:

```json
{
  "name": "my-project",
  "version": "1.0.0",
  "scripts": {
    "dev": "vite",
    "build": "vite build"
  },
  "dependencies": {
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "typescript": "^5.0.0"
  }
}
```

### Dependency Types

- **dependencies**: Runtime dependencies
- **devDependencies**: Development dependencies
- **peerDependencies**: Peer dependencies
- **optionalDependencies**: Optional dependencies

---

## Daily Usage

### Initialize Project

```bash
yarn init
```

### Install Dependencies

```bash
yarn install
# or just
yarn
```

### Add Dependencies

```bash
yarn add lodash
yarn add -D typescript
yarn add lodash@4.17.21
```

### Remove Dependencies

```bash
yarn remove lodash
```

### Update Dependencies

```bash
yarn up lodash
yarn up --all
```

### Run Scripts

```bash
yarn dev
yarn build
yarn test
```

---

## Workspaces

Workspaces let you manage multiple packages in one repository.

### Configuration

```json
{
  "workspaces": ["packages/*"]
}
```

### Commands

```bash
yarn workspace @my-org/core add lodash
yarn workspaces foreach -pt run build
```

---

## Configuration

### .yarnrc.yml

```yaml
npmRegistryServer: "https://registry.npmjs.org"
nodeLinker: node-modules
```

---

## Cache Management

```bash
yarn cache dir
yarn cache clean
```

---

## Common Commands

| Command | Description |
|---------|-------------|
| `yarn init` | Initialize project |
| `yarn install` | Install dependencies |
| `yarn add <pkg>` | Add dependency |
| `yarn remove <pkg>` | Remove dependency |
| `yarn up <pkg>` | Update dependency |
| `yarn list` | List dependencies |
| `yarn outdated` | Check outdated deps |

---

## Best Practices

1. Always commit yarn.lock
2. Use --immutable in CI
3. Update dependencies regularly
4. Use workspaces for multi-package projects
5. Clean cache periodically

---

## Next Steps

- [FAQ](/4.FAQ.md)
- [Official Documentation](https://yarnpkg.com/docs)
