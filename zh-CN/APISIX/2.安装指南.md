# APISIX 安装指南

## 环境要求

- Linux发行版（Ubuntu、CentOS、Debian等）
- OpenResty 1.19+
- Etcd 3.4+
- Lua 5.1+

## Docker 安装（推荐）

```bash
# 启动 Etcd
docker run -d --name etcd \
  -p 2379:2379 \
  -e ETCD_ADVERTISE_CLIENT_URLS=http://127.0.0.1:2379 \
  -e ETCD_LISTEN_CLIENT_URLS=http://0.0.0.0:2379 \
  bitnami/etcd:3.4

# 启动 APISIX
docker run -d --name apisix \
  -p 9080:9080 \
  -p 9443:9443 \
  -v apisix_conf:/usr/local/apisix/conf \
  --network etcd \
  apache/apisix:latest
```

## 手动安装

```bash
# 1. 安装依赖
# Ubuntu/Debian
apt-get install -y openresty curl git

# CentOS/RHEL
yum install -y openresty curl git

# 2. 下载 APISIX
git clone https://github.com/apache/apisix.git
cd apisix

# 3. 安装依赖
make deps

# 4. 配置
cp conf/config.yaml conf/config.yaml.bak
# 编辑 config.yaml 修改 Etcd 地址

# 5. 启动
apisix start
```

## 验证安装

```bash
# 检查 APISIX 是否运行
curl http://127.0.0.1:9080/apisix/admin/routes -H 'X-API-KEY: api-key'
```

## 常见配置

```yaml
apisix:
  node_listen: 9080
  enable_heartbeat: true
  
etcd:
  host:
    - "http://127.0.0.1:2379"
  prefix: /apisix
```
