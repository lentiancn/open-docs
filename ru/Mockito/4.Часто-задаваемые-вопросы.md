# Mockito Часто задаваемые вопросы

Часто задаваемые вопросы о Mockito.

## Общие вопросы

### Что такое Mockito?

Mockito — фреймворк с открытым исходным кодом для мокирования в Java. Он позволяет создавать и настраивать мок-объекты для юнит-тестов.

### Почему стоит использовать Mockito?

- Изолированное тестирование без внешних зависимостей
- Более быстрое выполнение тестов
- Простой и интуитивный API
- Хорошая интеграция с JUnit

### В чём разница между Mock и Spy?

- **Mock** - полностью искусственный объект, который вы полностью контролируете
- **Spy** - частично реальный объект, где вы переопределяете только определённые методы

## Технические вопросы

### Как мокировать финальный класс?

Используйте `mockito-inline`:

```groovy
testImplementation 'org.mockito:mockito-inline:5.8.0'
```

### Как мокировать статические методы?

С Mockito 3.7+ можно мокировать статические методы:

```java
try (MockedStatic<Utilities> mocked = Mockito.mockStatic(Utilities.class)) {
    mocked.when(Utilities::getName).thenReturn("mocked");
    // Ваш тестовый код
}
```

## Устранение проблем

### Ошибка: "Cannot mock/spy class"

**Причина:** Класс является финальным или имеет финальные методы.

**Решение:**
- Используйте `mockito-inline`
- Мокируйте интерфейс вместо класса

### Предупреждение: "Unnecessary stubbing"

**Причина:** Стаб не был использован.

**Решение:**
- Удалите неиспользуемый стаб
- Или используйте `lenient()`:

```java
lenient().when(mock.method()).thenReturn("value");
```

## Интеграция

### С JUnit 4

```java
@RunWith(MockitoJUnitRunner.class)
public class MyTest {
    @Mock
    private List mockList;
}
```

### С JUnit 5

```java
@ExtendWith(MockitoExtension.class)
public class MyTest {
    @Mock
    private List mockList;
}
```

## Ресурсы

- Stack Overflow: https://stackoverflow.com/questions/tagged/mockito

## Лицензия

MIT License
