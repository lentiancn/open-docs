# LivePortrait Руководство по установке

LivePortrait — эффективный фреймворк для анимации портретов, разработанный Kwai VGI. Анимирует статичные портреты с использованием движения из управляющего видео.

## Системные требования

### Аппаратные требования

| Компонент | Минимум | Рекомендуется |
|----------|----------|---------------|
| GPU | NVIDIA 8GB VRAM | NVIDIA 16GB VRAM |
| RAM | 8GB | 16GB |
| Объем памяти | 30GB | 50GB |
| CUDA | 11.8+ | 12.1+ |

### Программные требования

| Программа | Версия | Примечания |
|----------|--------|------------|
| Python | 3.8 - 3.11 | Рекомендуется 3.10 |
| CUDA | 11.8+ | Требуется ускорение GPU |
| ffmpeg | Последняя | Требуется для обработки видео |

## Установка в Linux/Ubuntu

### Шаг 1: Установка зависимостей

```bash
sudo apt update && sudo apt upgrade -y
sudo apt install python3.10 python3-pip git wget curl
sudo apt install libgl1-mesa-glx libglib2.0-0 libsm6 libxext6 libxrender-dev libgomp1
sudo apt install ffmpeg
```

### Шаг 2: Клонирование проекта

```bash
git clone https://github.com/KwaiVGI/LivePortrait.git
cd LivePortrait
```

### Шаг 3: Создание виртуальной среды

```bash
python3.10 -m venv venv
source venv/bin/activate
```

### Шаг 4: Установка PyTorch

```bash
pip install torch==2.1.0 torchvision==0.16.0 --index-url https://download.pytorch.org/whl/cu121
```

### Шаг 5: Установка зависимостей

```bash
pip install -r requirements.txt
```

### Шаг 6: Загрузка моделей

```bash
mkdir -p pretrained_models
bash scripts/download_weights.sh
```

## Проверка установки

```bash
python inference.py --help
```

## Частые проблемы

### Недостаточно памяти CUDA

**Решения:**
- Уменьшить размер партии: `--batch_size 1`
- Использовать более низкое разрешение

## Ссылки

- [GitHub](https://github.com/KwaiVGI/LivePortrait)
- [Демо](https://liveportrait.github.io)
