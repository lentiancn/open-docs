# Manual de Usuario de GitLab

> Guía completa para usar GitLab de manera efectiva

---

## Inicio Rápido

### Crear Tu Primer Proyecto

1. Después de iniciar sesión, haz clic en "Nuevo Proyecto"
2. Elige una plantilla de proyecto o proyecto en blanco
3. Completa el nombre del proyecto, descripción y nivel de visibilidad
4. Haz clic en "Crear Proyecto" para terminar

### Clonar Proyecto Localmente

```bash
# Clonar via HTTPS
git clone https://gitlab.example.com/usuario/proyecto.git

# Clonar via SSH
git clone git@gitlab.example.com:usuario/proyecto.git
```

---

## Gestión de Código

### Operaciones con Ramas

```bash
# Crear nueva rama
git checkout -b feature/nueva-caracteristica

# Empujar rama al remoto
git push -u origin feature/nueva-caracteristica

# Ver todas las ramas
git branch -a

# Eliminar rama local
git branch -d feature/nueva-caracteristica

# Eliminar rama remota
git push origin --delete feature/nueva-caracteristica
```

### Merge Requests

1. Después de desarrollar en rama local, empujar al remoto
2. Abrir página del proyecto, hacer clic en "Crear Merge Request"
3. Completar título y descripción, seleccionar rama origen y destino
4. Asignar revisores, añadir etiquetas e hitos relevantes
5. Crear merge request y esperar revisión de código

### Revisión de Código

- **Comentarios en Línea**: Los revisores pueden comentar directamente en líneas de código
- **Reglas de Aprobación**: Configurar número requerido de aprobaciones para merging
- **Verificaciones de Pipeline**: Requerir que pipelines pasen antes de merge
- **Resolución de Conflictos**: Resolver posibles conflictos antes de merge

---

## Seguimiento de Problemas

### Crear Problema

1. Ir a Proyecto → Problemas → Nuevo Problema
2. Completar título y descripción (Markdown soportado)
3. Establecer etiquetas, hitos y asignados
4. Establecer peso y fecha límite

### Usar Tableros

1. Ir a Proyecto → Problemas → Tablero
2. Crear columnas (ej. Por Hacer, En Progreso, Hecho)
3. Arrastrar tarjetas de problemas a columnas correspondientes
4. Filtrar por miembro o etiquetas

### Hitos

- Crear hitos con fechas de inicio y fin
- Vincular problemas relacionados a hitos
- Seguimiento del progreso de hitos

---

## Pipelines CI/CD

### Estructura Básica de .gitlab-ci.yml

```yaml
stages:
  - build
  - test
  - deploy

build:
  stage: build
  script:
    - echo "Building..."
    - npm install
    - npm run build
  artifacts:
    paths:
      - dist/
    expire_in: 1 week

test:
  stage: test
  script:
    - echo "Testing..."
    - npm test
  coverage: '/Coverage: \d+\.\d+%/'

deploy:
  stage: deploy
  script:
    - echo "Deploying..."
  only:
    - main
  environment:
    name: production
```

### Configuraciones Comunes de Runner

#### Ejecutor Docker

```yaml
job:
  image: node:18
  services:
    - postgres:14
  variables:
    POSTGRES_DB: test_db
    POSTGRES_USER: test_user
    POSTGRES_PASSWORD: test_password
```

#### Configuración de Caché

```yaml
cache:
  key: ${CI_COMMIT_REF_SLUG}
  paths:
    - node_modules/
    - .npm/
```

### Entornos de Despliegue

- **Producción**: Para lanzamientos oficiales
- **Staging**: Para pruebas antes del lanzamiento
- **Desarrollo**: Para desarrollo diario

---

## Documentación Wiki

### Crear Página Wiki

1. Ir a Proyecto → Wiki → Nueva Página
2. Escribir contenido usando Markdown
3. Guardar la página

### Barra Lateral

- Navegación de tabla de contenidos auto-generada
- Contenido de barra lateral personalizable

---

## Registro de Contenedores

### Empujar Imagen

```bash
# Iniciar sesión en GitLab Registry
docker login registry.gitlab.example.com

# Etiquetar imagen
docker tag my-image:latest registry.gitlab.example.com/usuario/proyecto/my-image:latest

# Empujar imagen
docker push registry.gitlab.example.com/usuario/proyecto/my-image:latest
```

### Extraer Imagen

```bash
docker pull registry.gitlab.example.com/usuario/proyecto/my-image:latest
```

---

## Escaneo de Seguridad

### Funciones de Escaneo Automático

- **Escaneo de Dependencias**: Verificar vulnerabilidades de seguridad en dependencias
- **Escaneo de Contenedores**: Verificar problemas de seguridad en imágenes Docker
- **SAST**: Pruebas de Seguridad de Aplicaciones Estáticas
- **DAST**: Pruebas de Seguridad de Aplicaciones Dinámicas

### Ver Panel de Seguridad

1. Ir a Proyecto → Seguridad y Cumplimiento → Panel de Seguridad
2. Ver lista de todas las vulnerabilidades
3. Filtrar por severidad
4. Crear problemas para rastrear vulnerabilidades

---

## Consejos de Gestión de Proyectos

### Usar Plantillas

- Establecer reglas de protección de rama por defecto para nuevos proyectos
- Configurar plantillas de proyecto
- Usar herencia de proyectos

### Gestión de Miembros

- Añadir miembros de proyecto y establecer niveles de acceso
- Usar grupos para gestionar múltiples proyectos
- Configurar tokens de acceso

### Webhooks

- Configurar integraciones de webhook con servicios externos
- Triggers soportados: push, merge request, tag, etc.

---

## Mejores Prácticas

1. **Usar Ramas de Características**: Desarrollar cada característica o corrección en una rama separada
2. **Hacer Commits Frecuentes**: Hacer commits frecuentes con mensajes claros
3. **Revisión de Código**: Todo el código debe ser revisado antes de merge
4. **Pruebas Automatizadas**: Asegurar que pipelines CI/CD incluyan pasos de prueba
5. **Mantener Documentación**: Usar Wiki para documentación del proyecto
6. **Seguridad**: Revisar regularmente informes de escaneo de seguridad
