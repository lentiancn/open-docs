# Java 常见问题

> 常见问题解答

---

## 安装问题

### javac 命令找不到？

**解决方案**：

1. 确认 JDK 已正确安装
2. 检查 JAVA_HOME 环境变量是否设置正确
3. 将 `%JAVA_HOME%\bin` 添加到 PATH

### 多个 Java 版本如何切换？

**Windows**：修改 JAVA_HOME 环境变量

**macOS**：

```bash
# 查看已安装版本
/usr/libexec/java_home -V

# 切换版本
export JAVA_HOME=$(/usr/libexec/java_home -v 17)
```

**Linux**：

```bash
sudo update-alternatives --config java
```

---

## 环境配置问题

### JAVA_HOME 是什么？

JAVA_HOME 是 Java 安装的根目录，用于其他工具（如 Maven、Tomcat）定位 Java。

### 如何验证 Java 安装？

```bash
java -version      # 查看运行时版本
javac -version     # 查看编译器版本
echo %JAVA_HOME%   # Windows
echo $JAVA_HOME    # Linux/macOS
```

---

## 开发问题

### JDK 和 JRE 的区别？

- **JRE**：Java 运行时环境，包含 JVM 和类库，只能运行 Java 程序
- **JDK**：Java 开发工具包，包含 JRE + 开发工具（javac、jar 等），可以开发 Java 程序

### public class 必须和文件名一致？

是的，一个 Java 文件中如果存在 `public class`，类名必须与文件名完全一致。

---

## 语法问题

### == 和 equals 的区别？

- `==`：比较引用地址（基本类型比较值）
- `equals()`：比较对象内容（需要重写）

```java
String a = new String("hello");
String b = new String("hello");

a == b        // false，不同对象
a.equals(b)   // true，内容相同
```

### String 和 StringBuilder 的区别？

- **String**：不可变对象，每次拼接会创建新对象
- **StringBuilder**：可变对象，适合频繁字符串拼接

```java
// 不推荐
String s = "";
for (int i = 0; i < 1000; i++) {
    s += i;  // 每次创建新对象
}

// 推荐
StringBuilder sb = new StringBuilder();
for (int i = 0; i < 1000; i++) {
    sb.append(i);
}
```

---

## 面向对象问题

### 接口和抽象类的区别？

| 特性 | 接口 | 抽象类 |
|------|------|--------|
| 方法 | 抽象方法（Java 8+ 可默认） | 抽象方法 + 普通方法 |
| 字段 | 只能是常量 | 可以有实例字段 |
| 构造器 | 不能有 | 可以有 |
| 多实现 | 支持多个 | 只能继承一个 |

---

## 集合问题

### ArrayList 和 LinkedList 的区别？

- **ArrayList**：基于数组，查询快，增删慢
- **LinkedList**：基于链表，增删快，查询慢

### HashMap 和 Hashtable 的区别？

- **HashMap**：线程不安全，允许 null 键/值
- **Hashtable**：线程安全，不允许 null 键/值

---

## 并发问题

### 如何创建线程？

1. 继承 Thread 类
2. 实现 Runnable 接口（推荐）
3. 实现 Callable 接口 + FutureTask
4. 使用线程池

### synchronized 和 Lock 的区别？

| 特性 | synchronized | Lock |
|------|-------------|------|
| 语法 | 关键字 | 接口 |
| 释放 | 自动释放 | 手动释放 |
| 灵活性 | 较少 | 更多（tryLock、读写锁） |

---

## JVM 问题

### 内存区域有哪些？

- **堆**：存储对象实例
- **栈**：存储局部变量、方法参数
- **方法区**：存储类信息、常量、静态变量
- **本地方法栈**：native 方法使用
- **程序计数器**：记录执行位置

### 垃圾回收如何工作？

JVM 自动回收不再使用的对象。常用算法：

- 标记-清除
- 复制算法
- 标记-整理
- 分代收集

---

## 构建问题

### Maven 常用命令？

```bash
mvn clean          # 清理
mvn compile        # 编译
mvn package        # 打包
mvn install       # 安装到本地仓库
mvn spring-boot:run  # 运行 Spring Boot
```

### Gradle 常用命令？

```bash
gradle build       # 构建
gradle clean       # 清理
gradle run         # 运行
gradle test        # 测试
```

---

## 相关资源

- Java 官方文档：https://docs.oracle.com/javase/
- Spring 框架：https://spring.io/
- Baeldung：https://www.baeldung.com/
