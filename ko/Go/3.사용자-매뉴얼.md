# Go 사용자 매뉴얼

> Go 프로그래밍 완전한 가이드

---

## 빠른 시작

### 첫 번째 Go 프로그램

```go
package main

import "fmt"

func main() {
    fmt.Println("Hello, World!")
}
```

프로그램 실행:

```bash
go run main.go
```

---

## 기본 문법

### 변수 선언

```go
// 방법 1: 타입 추론
var name = "Go"

// 방법 2: 명시적 타입
var age int = 10

// 방법 3: 짧은 변수 선언 (함수 내)
message := "Hello"
```

### 데이터 타입

```go
// 정수
var i int = 10
var ui uint = 10

// 부동소수점
var f float64 = 3.14

// 문자열
var s string = "Hello"

// 불리언
var b bool = true

// 배열
var arr [5]int = [5]int{1, 2, 3, 4, 5}

// 슬라이스
slice := []int{1, 2, 3}

// 맵
m := map[string]int{"a": 1, "b": 2}
```

### 제어 흐름

```go
// if 문
if x > 10 {
    fmt.Println("10보다 큼")
} else {
    fmt.Println("10 이하")
}

// for 루프
for i := 0; i < 10; i++ {
    fmt.Println(i)
}

// switch 문
switch day {
case 1:
    fmt.Println("월요일")
default:
    fmt.Println("기타")
}
```

---

## 함수

### 함수 정의

```go
// 기본 함수
func add(a, b int) int {
    return a + b
}

// 다중 반환값
func divide(a, b int) (int, error) {
    if b == 0 {
        return 0, errors.New("0으로 나눌 수 없음")
    }
    return a / b, nil
}

// 이름된 반환값
func split(sum int) (x, y int) {
    x = sum * 4 / 9
    y = sum - x
    return
}
```

### 가변 인자

```go
func sum(nums ...int) int {
    total := 0
    for _, n := range nums {
        total += n
    }
    return total
}

// 사용
sum(1, 2, 3, 4, 5)
```

---

## 구조체와 메서드

### 구조체 정의

```go
type Person struct {
    Name string
    Age  int
}

// 메서드
func (p Person) SayHello() {
    fmt.Printf("안녕하세요, %s입니다\n", p.Name)
}
```

### 인터페이스

```go
type Writer interface {
    Write([]byte) (int, error)
}

type Reader interface {
    Read([]byte) (int, error)
}
```

---

## 동시성 프로그래밍

### 고루틴

```go
// 고루틴 시작
go func() {
    fmt.Println("Hello from goroutine")
}()

// 인자와 함께
go func(msg string) {
    fmt.Println(msg)
}("Hello")
```

### 채널

```go
// 채널 생성
ch := make(chan int)

// 데이터 전송
ch <- 10

// 데이터 수신
value := <-ch

// 버퍼된 채널
buffered := make(chan int, 10)
```

### Select

```go
select {
case msg := <-ch1:
    fmt.Println("수신:", msg)
case msg := <-ch2:
    fmt.Println("수신:", msg)
case <-time.After(time.Second):
    fmt.Println("타임아웃")
}
```

---

## 오류 처리

### 오류 정의

```go
import "errors"

func divide(a, b int) (int, error) {
    if b == 0 {
        return 0, errors.New("0으로 나눌 수 없음")
    }
    return a / b, nil
}
```

### 오류 검사

```go
result, err := divide(10, 0)
if err != nil {
    fmt.Println("오류:", err)
    return
}
fmt.Println("결과:", result)
```

---

## 패키지 관리

### 모듈 초기화

```bash
go mod init github.com/username/project
```

### 의존성 추가

```bash
go get github.com/package/name
```

### 의존성 정리

```bash
go mod tidy
```

---

## 테스트

### 단위 테스트

```go
package main

import "testing"

func TestAdd(t *testing.T) {
    result := add(2, 3)
    if result != 5 {
        t.Errorf("예상 5, 실제 %d", result)
    }
}
```

테스트 실행:

```bash
go test ./...
```

### 벤치마크 테스트

```go
func BenchmarkHello(b *testing.B) {
    for i := 0; i < b.N; i++ {
        Hello()
    }
}
```

벤치마크 실행:

```bash
go test -bench=.
```

---

## 모범 사례

1. 의존성 관리는 Go Modules 사용
2. Go 코드 규칙 따르기 (`go fmt` 실행)
3. 동시성 통신에는 채널 선호
4. 전역 변수 피하기
5. 단위 테스트 작성
6. 오류 즉시 처리
7. `context`로 요청 수명 주기 관리
