# Docker Guía de Instalación

Esta guía proporciona instrucciones detalladas sobre cómo instalar Docker Desktop y Docker Engine en varios sistemas operativos.

---

## Tabla de Contenidos

1. [Introducción a Docker](#introducción-a-docker)
2. [Información de Versión](#información-de-versión)
3. [Instalación en Windows](#instalación-en-windows)
4. [Instalación en macOS](#instalación-en-macos)
5. [Instalación en Linux](#instalación-en-linux)
6. [Instalación de Docker Engine (Solo CLI)](#instalación-de-docker-engine-solo-cli)
7. [Verificar Instalación](#verificar-instalación)
8. [Desinstalar Docker](#desinstalar-docker)
9. [Preguntas Frecuentes](#preguntas-frecuentes)

---

## Introducción a Docker

Docker es una plataforma de código abierto para desarrollar, implementar y ejecutar aplicaciones. Con Docker, puede empaquetar aplicaciones y sus dependencias en contenedores ligeros y portables, logrando "construir una vez, ejecutar en cualquier lugar".

### Diferencia entre Docker Desktop y Docker Engine

| Característica | Docker Desktop | Docker Engine |
|------|----------------|---------------|
| Plataformas compatibles | Windows, macOS, Linux | Linux |
| Interfaz gráfica | Sí | No |
| Componentes incluidos | Docker Engine, Docker CLI, Docker Compose, Kubernetes, etc. | Docker Engine, Docker CLI |
| Uso comercial | Requiere suscripción de pago para >250 empleados o >$10M de ingresos | Gratis (Código Abierto) |

> **Nota importante**: El uso comercial de Docker Desktop en empresas grandes (más de 250 empleados O más de 10 millones de dólares estadounidenses en ingresos anuales) requiere una suscripción de pago. El uso personal, pequeñas empresas (menos de 250 empleados Y menos de 10 millones en ingresos anuales), educación y proyectos de código abierto no comerciales son gratuitos.

---

## Información de Versión

Docker proporciona dos canales de actualización:

- **Estable (Stable)**: Proporciona las últimas versiones de disponibilidad general para usuarios的一般
- **Prueba (Test)**: Proporciona versiones prelimplinary para probar nuevas funciones (usar con precaución)

---

## Instalación en Windows

### Requisitos del Sistema

#### Backend WSL 2 (Recomendado)

- Windows 10 64 bits: Enterprise, Pro o Education versión 22H2 (compilación 19045)
- Windows 11 64 bits: Enterprise, Pro o Education versión 23H2 (compilación 22631) o superior
- WSL versión 2.1.5 o posterior
- Procesador de 64 bits con traducción de direcciones de segundo nivel (SLAT)
- 4 GB de RAM del sistema
- Virtualización de hardware habilitada en BIOS/UEFI

#### Backend Hyper-V

- Windows 10 64 bits: Enterprise, Pro o Education versión 22H2 (compilación 19045)
- Windows 11 64 bits: Enterprise, Pro o Education versión 23H2 (compilación 22631) o superior
- Hyper-V y características de Containers de Windows habilitadas
- Procesador de 64 bits con traducción de direcciones de segundo nivel (SLAT)
- 4 GB de RAM del sistema
- Virtualización de hardware habilitada en BIOS/UEFI

> **Nota**: Docker Desktop no es compatible con Windows Server (como Windows Server 2019 o Windows Server 2022). Para ejecutar contenedores en Windows Server, consulte la documentación oficial de Microsoft.

> **Nota importante**: Ejecutar contenedores de Windows requiere Windows 10 o Windows 11 Professional o Enterprise. Windows Home o Education solo pueden ejecutar contenedores de Linux.

### Pasos de Instalación

1. **Descargue el instalador de Docker Desktop**:
   - [Docker Desktop for Windows - x86_64](https://desktop.docker.com/win/main/amd64/Docker%20Desktop%20Installer.exe)

2. **Haga doble clic en el instalador para ejecutarlo**. La ruta de instalación predeterminada es `C:\Program Files\Docker\Docker`.

3. **En la página de configuración, seleccione Usar WSL 2 en lugar de Hyper-V** (o elija Hyper-V según sea necesario).

4. **Siga las instrucciones del asistente de instalación para autorizar el instalador y continuar**.

5. **Cuando la instalación sea exitosa, seleccione Cerrar para completar**.

6. **Inicie Docker Desktop**.

### Privilegios de Administrador

Si su cuenta de usuario es diferente a la cuenta de administrador, necesita agregar el usuario al grupo **docker-users** para acceder a funciones que requieren privilegios más altos:

1. Ejecute **Administración de equipos** como **Administrador**
2. Vaya a **Usuarios y grupos locales** > **Grupos** > **docker-users**
3. Haga clic derecho para agregar el usuario al grupo
4. Cierre sesión y vuelva a iniciar para que los cambios tengan efecto

---

## Instalación en macOS

### Requisitos del Sistema

#### Apple Silicon (chips serie M)

- macOS 11.0 (Big Sur) o posterior
- Al menos 4 GB de RAM

#### Chips Intel

- macOS 10.15 (Catalina) o posterior
- Al menos 4 GB de RAM

### Pasos de Instalación

1. **Descargue Docker Desktop para Mac**:
   - [Apple Silicon (serie M)](https://desktop.docker.com/mac/main/arm64/Docker.dmg)
   - [Chips Intel](https://desktop.docker.com/mac/main/amd64/Docker.dmg)

2. **Haga doble clic en Docker.dmg para abrir el instalador**.

3. **Arrastre la aplicación Docker a la carpeta Applications**.

4. **Inicie Docker Desktop desde Applications o Launchpad**.

5. **Acepte el Acuerdo de Suscripción de Servicios de Docker**.

6. **Espere a que Docker Desktop complete la inicialización**.

---

## Instalación en Linux

### Distribuciones Compatibles

| Distribución | x86_64/amd64 | arm64/aarch64 |
|--------------|:------------:|:-------------:|
| Ubuntu | ✅ | ✅ |
| Debian | ✅ | ✅ |
| Fedora | ✅ | ✅ |
| CentOS | ✅ | ✅ |
| RHEL | ✅ | ✅ |

### Instalación en Ubuntu

1. **Desinstale versiones anteriores**:
```bash
sudo apt-get remove docker docker-engine docker.io containerd runc
```

2. **Actualice el índice de paquetes apt**:
```bash
sudo apt-get update
sudo apt-get install ca-certificates curl gnupg lsb-release
```

3. **Agregue la clave GPG oficial de Docker**:
```bash
sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg
```

4. **Configure el repositorio estable**:
```bash
echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
```

5. **Instale Docker Engine**:
```bash
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

### Instalación en Debian

1. **Desinstale versiones anteriores**:
```bash
sudo apt-get remove docker docker-engine docker.io containerd runc
```

2. **Instale Docker Engine**:
```bash
sudo apt-get update
sudo apt-get install ca-certificates curl gnupg
curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian $(. /etc/os-release && echo "$VERSION_CODENAME") stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

### Instalación en Fedora

```bash
sudo dnf -y install dnf-plugins-core
sudo dnf config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo
sudo dnf install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

### Instalación en CentOS

```bash
sudo yum install -y yum-utils
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
sudo yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

---

## Instalación de Docker Engine (Solo CLI)

Instalación de binarios estáticos para cualquier distribución de Linux:

1. **Descargue los binarios de Docker**:
```bash
curl -OL https://download.docker.com/linux/static/stable/x86_64/docker-24.0.7.tgz
```

2. **Extraiga**:
```bash
tar xzf docker-24.0.7.tgz
```

3. **Mueva los binarios a PATH**:
```bash
sudo cp docker/* /usr/local/bin/
sudo rm -rf docker
```

4. **Inicie el demonio de Docker**:
```bash
sudo dockerd &
```

---

## Verificar Instalación

Independientemente del sistema operativo, verifique que Docker funcione correctamente:

```bash
docker --version          # Ver versión de Docker
docker-compose --version  # Ver versión de Docker Compose
docker run hello-world    # Ejecutar contenedor de prueba
```

Si ve el mensaje "Hello from Docker!", la instalación fue exitosa.

---

## Desinstalar Docker

### Windows

1. Abra Configuración de Windows > Aplicaciones
2. Encuentre Docker Desktop
3. Haga clic en Desinstalar

### macOS

1. Elimine la aplicación Docker de la carpeta Applications
2. Ejecute lo siguiente para limpiar archivos residuales:
```bash
rm -rf ~/Library/Containers/com.docker.docker
rm -rf ~/Library/Application\ Support/Docker
```

### Linux

```bash
sudo apt-get remove docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
sudo rm -rf /var/lib/docker
sudo rm -rf /var/lib/containerd
```

---

## Preguntas Frecuentes

### Q1: ¿Docker Desktop requiere pago?

Docker Desktop es gratuito para:
- Pequeñas empresas (menos de 250 empleados Y menos de 10 millones en ingresos anuales)
- Uso personal
- Educación
- Proyectos de código abierto no comerciales

El uso comercial (más de 250 empleados O más de 10 millones en ingresos anuales) requiere una suscripción de pago.

### Q2: ¿Cómo cambiar entre contenedores de Windows y Linux en Docker Desktop?

Desde el menú de Docker Desktop, seleccione:
- **Switch to Windows containers** - Usar contenedores de Windows
- **Switch to Linux containers** - Usar contenedores de Linux (predeterminado)

### Q3: ¿Qué versiones de Windows admite Docker Desktop?

Docker Desktop solo es compatible con versiones de Windows dentro del ciclo de servicio de Microsoft:
- Windows 10 Enterprise, Pro o Education 22H2
- Windows 11 Enterprise, Pro o Education 23H2

### Q4: ¿Cómo configurar el proxy de Docker Desktop?

Configure el proxy a través de Docker Desktop Configuración > Recursos > Proxy.

---

## Enlaces Relacionados

- [Documentación oficial de Docker](https://docs.docker.com/)
- [Descarga de Docker Desktop](https://www.docker.com/products/docker-desktop/)
- [Docker Hub](https://hub.docker.com/)
- [Suscripciones y precios de Docker](https://www.docker.com/pricing/)
