# Jenkins 安装指南

Jenkins 是一个开源自动化服务器，用于实现持续集成和持续部署（CI/CD）。本指南涵盖在各种环境中的安装方法。

## 版本信息

| 版本 | 状态 | 说明 |
|------|------|------|
| Jenkins 2.x | ✅ 当前 | 最新稳定版本 |
| Jenkins 1.x | ❌ 旧版 | 已停止维护 |

## 系统要求

### 硬件要求

| 要求 | 最低配置 | 推荐配置 |
|------|----------|----------|
| CPU | 1 核 | 2+ 核 |
| 内存 | 1 GB | 4+ GB |
| 磁盘 | 10 GB | 50+ GB |

### 软件要求

| 软件 | 版本 |
|------|------|
| Java | JDK 8 或更高 |
| 操作系统 | Windows/macOS/Linux |

## 安装方法

### 方法一：Windows 安装

#### 1. 使用安装程序

1. 下载 Jenkins：https://www.jenkins.io/download/
2. 运行 jenkins.msi 安装程序
3. 按照安装向导完成安装

#### 2. 使用 Chocolatey

```powershell
choco install jenkins
```

#### 3. 手动安装

```powershell
# 下载 WAR 文件
# 解压到指定目录
java -jar jenkins.war
```

### 方法二：macOS 安装

#### 1. 使用 Homebrew

```bash
# 安装 Jenkins
brew install jenkins

# 启动服务
brew services start jenkins

# 停止服务
brew services stop jenkins
```

#### 2. 手动安装

```bash
# 下载 WAR 文件
wget https://get.jenkins.io/jenkins.war

# 运行
java -jar jenkins.war
```

### 方法三：Linux 安装

#### Ubuntu/Debian

```bash
# 添加密钥
wget -q -O - https://pkg.jenkins.io/debian/jenkins.io.key | sudo apt-key add -

# 添加仓库
sudo sh -c 'echo deb https://pkg.jenkins.io/debian binary/ > /etc/apt/sources.list.d/jenkins.list'

# 更新并安装
sudo apt-get update
sudo apt-get install jenkins

# 启动服务
sudo systemctl start jenkins
sudo systemctl enable jenkins
```

#### CentOS/RHEL

```bash
# 添加仓库
sudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat/jenkins.repo

# 导入密钥
sudo rpm --import https://pkg.jenkins.io/redhat/jenkins.io.key

# 安装
sudo yum install jenkins

# 启动服务
sudo systemctl start jenkins
sudo systemctl enable jenkins
```

### 方法四：Docker 安装

```bash
# 运行 Jenkins 容器
docker run -d \
  --name jenkins \
  -p 8080:8080 \
  -v jenkins_home:/var/jenkins_home \
  jenkins/jenkins:lts
```

#### Docker Compose

```yaml
version: '3'
services:
  jenkins:
    image: jenkins/jenkins:lts
    ports:
      - "8080:8080"
    volumes:
      - jenkins_home:/var/jenkins_home
```

### 方法五：WAR 文件部署

```bash
# 下载 WAR 文件
wget https://get.jenkins.io/war-stable/latest/jenkins.war

# 运行
java -jar jenkins.war --httpPort=8080
```

## 安装后配置

### 首次访问

1. 打开浏览器访问 http://localhost:8080
2. 查看初始管理员密码：
   ```bash
   # Linux/macOS
   sudo cat /var/lib/jenkins/secrets/initialAdminPassword
   
   # Docker
   docker exec jenkins cat /var/jenkins_home/secrets/initialAdminPassword
   ```
3. 安装推荐插件
4. 创建管理员用户

### 配置中文界面

1. 进入 Manage Jenkins → Manage Plugins
2. 安装 "Localization: Chinese (Simplified)"
3. 重启 Jenkins

## 常见问题

### 启动失败？

检查 Java 是否安装：

```bash
java -version
```

### 端口被占用？

修改端口：

```bash
java -jar jenkins.war --httpPort=8090
```

### 插件安装失败？

检查网络连接或使用代理。

## 相关链接

- [Jenkins 官方网站](https://www.jenkins.io/)
- [Jenkins 中文文档](https://www.jenkins.io/zh/)
