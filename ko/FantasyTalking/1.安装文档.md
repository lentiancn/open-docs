# FantasyTalking 설치 가이드

FantasyTalking는 단일 이미지와 오디오 입력에서 사실적인 Talking Head 비디오를 생성하는 AI 기반 Talking Head 생성 도구입니다.

## 버전 정보

| 버전 | 상태 | 설명 |
|---------|--------|-------------|
| FantasyTalking v1.0 | ✅ 현재 | 초기 출시 |

## 시스템 요구사항

### 하드웨어 요구사항

| 요구사항 | 최소 | 권장 |
|-------------|---------|-------------|
| GPU | NVIDIA 4GB VRAM | NVIDIA 8GB+ VRAM |
| RAM | 8GB | 16GB+ |
| 저장공간 | 10GB | 20GB+ SSD |

### 소프트웨어 요구사항

| 소프트웨어 | 버전 |
|----------|---------|
| Python | 3.8+ |
| CUDA | 11.0+ |
| cuDNN | 8.0+ |

## 설치 방법

### 방법 1: 소스코드에서 설치

#### 1. 저장소 복제

```bash
git clone https://github.com/FantasyTalking/FantasyTalking.git
cd FantasyTalking
```

#### 2. 가상 환경 생성

```bash
python -m venv venv
source venv/bin/activate  # Linux/macOS
# 또는
venv\Scripts\activate  # Windows
```

#### 3. 종속성 설치

```bash
pip install torch torchvision
pip install -r requirements.txt
```

#### 4. 모델 다운로드

```bash
# 사전 학습된 모델 다운로드
bash scripts/download_models.sh
```

### 방법 2: Docker

```bash
# 이미지 가져오기
docker pull fantasytalking/fantasytalking:latest

# 실행
docker run --gpus all -v /path/to/data:/data fantasytalking/fantasytalking:latest
```

## 구성

### 환경 변수

```bash
export CUDA_VISIBLE_DEVICES=0
export PYTHONPATH=/path/to/FantasyTalking:$PYTHONPATH
```

### 모델 경로

`config.yaml`를 편집하여 모델 경로 설정:

```yaml
model:
  checkpoint_path: "checkpoints/fantasytalking.pth"
  face_parser: "models/face_parser.pth"
```

## 빠른 시작

### Talking Head 생성

```bash
python inference.py \
  --source_image path/to/image.jpg \
  --audio path/to/audio.wav \
  --output output.mp4
```

### 매개변수

```bash
--source_image    # 소스 얼굴 이미지
--audio          # 입력 오디오 파일
--output         # 출력 비디오 경로
--face enhancer  # 얼굴 개선 활성화
--fps            # 출력 FPS (기본값: 25)
```

## 일반적인 문제

### GPU를 사용할 수 없나요?

CUDA 설치 확인:

```bash
nvidia-smi
python -c "import torch; print(torch.cuda.is_available())"
```

### 메모리 부족?

배치 크기를 줄이거나 낮은 해상도를 사용하세요.

## 관련 링크

- [FantasyTalking GitHub](https://github.com/FantasyTalking/FantasyTalking)
- [논문](https://arxiv.org/abs/)
