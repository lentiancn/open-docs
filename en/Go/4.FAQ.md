# Go FAQ

> Answers to common questions about Go

---

## Installation

### Q: Command not found after installation?

**A**: 
- Verify Go is added to PATH environment variable
- Windows default installs to C:\Go, needs to be added to PATH
- Linux/macOS typically need to manually add to ~/.bashrc or ~/.zshrc

### Q: How to check if Go is installed?

**A**: 
```bash
go version
go env GOPATH
```

### Q: How to upgrade Go?

**A**: 
- Windows: Download and reinstall new version
- macOS: `brew upgrade go`
- Linux: Download new version to replace or use package manager

---

## Syntax

### Q: Does Go have exception mechanism?

**A**: Go doesn't have traditional exceptions. Errors are passed through return values:
```go
result, err := doSomething()
if err != nil {
    // Handle error
}
```

### Q: Why can't := and var be mixed?

**A**: 
- `:=` is short variable declaration, used inside functions
- `var` is explicit declaration, can be used outside functions
- They cannot be used together for the same variable

### Q: Does Go support generics?

**A**: Go 1.18+ supports generics:
```go
func Print[T any](s []T) {
    for _, v := range s {
        fmt.Println(v)
    }
}
```

---

## Concurrency

### Q: What's the difference between goroutines and threads?

**A**: 
- Goroutines are managed by Go runtime, lighter than threads
- Creating thousands of goroutines won't exhaust resources
- Communication via channels

### Q: Should channels be closed?

**A**: 
- Usually sender closes the channel
- Receiver can check if channel is closed using `v, ok := <-ch`
- Don't send to closed channels

### Q: How to elegantly wait for goroutines to finish?

**A**: Use sync.WaitGroup:
```go
var wg sync.WaitGroup

for i := 0; i < 5; i++ {
    wg.Add(1)
    go func(i int) {
        defer wg.Done()
        fmt.Println(i)
    }(i)
}

wg.Wait()
```

---

## Package Management

### Q: What's the difference between GOPATH and Go Modules?

**A**: 
- GOPATH: Old dependency management method, dependencies in $GOPATH/src
- Go Module (go.mod): Modern approach, better version control

### Q: Dependencies downloading too slow?

**A**: 
```bash
# Use China mirror
go env -w GOPROXY=https://goproxy.cn,direct

# Also can set
go env -w GOPROXY=https://proxy.golang.org,direct
```

### Q: How to view dependency relationships?

**A**: 
```bash
go mod graph
go list -m all
```

---

## Performance

### Q: How to profile performance?

**A**: 
```bash
# CPU profiling
go test -cpuprofile=cpu.out

# Memory profiling
go test -memprofile=mem.out

# Use pprof to analyze
go tool pprof cpu.out
```

### Q: How to optimize Go programs?

**A**: 
- Use strings.Builder for string concatenation
- Avoid unnecessary memory allocations
- Use pools (sync.Pool) for object reuse
- Use channels efficiently

---

## Tools

### Q: What's the difference between go fmt and go vet?

**A**: 
- go fmt: Format code style
- go vet: Static analysis, check for potential errors

### Q: How to generate documentation?

**A**: 
```bash
go doc <package-name>
go doc <function-name>

# Local doc server
go doc -http=:6060
```

---

## Errors

### Q: What are common compile errors?

**A**: 
- `undefined: xxx` - Variable not defined
- `mismatched types` - Type mismatch
- `invalid character` - Character encoding issue
- `package xxx is not in GOROOT` - Package path error

### Q: What to do with runtime panic?

**A**: 
- Use defer and recover:
```go
func safeCall() {
    defer func() {
        if r := recover(); r != nil {
            fmt.Println("Recovered:", r)
        }
    }()
    // Code that might panic
}
```
