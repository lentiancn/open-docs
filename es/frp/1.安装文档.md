# Guía de instalación de frp

frp es una herramienta de proxy inverso de alto rendimiento utilizada para穿透内网 (exposición de red interna). Esta guía cubre los métodos de instalación en diversos entornos.

## Información de versión

| Versión | Estado | Descripción |
|---------|--------|-------------|
| frp 0.51.x | ✅ Actual | Última versión estable |

## Requisitos del sistema

### Requisitos de hardware

| Requisito | Configuración |
|-----------|---------------|
| CPU | 1+ núcleos |
| Memoria | 64+ MB |
| Disco | 10+ MB |

### Requisitos de software

| Software | Versión |
|----------|---------|
| Go | 1.18+ (compilación desde código fuente) |

## Métodos de instalación

### Método 1: Linux/macOS

#### 1. Descargar

```bash
# Descargar la última versión
wget https://github.com/fatedier/frp/releases/download/v0.51.0/frp_0.51.0_linux_amd64.tar.gz

# Extraer
tar -xzf frp_0.51.0_linux_amd64.tar.gz
cd frp_0.51.0_linux_amd64
```

#### 2. Estructura de directorios

```
frp_0.51.0_linux_amd64/
├── frpc          # Cliente
├── frpc.ini      # Configuración del cliente
├── frps          # Servidor
├── frps.ini      # Configuración del servidor
└── systemd/      # Archivos de servicio systemd
```

### Método 2: Windows

#### 1. Descargar

1. Visite https://github.com/fatedier/frp/releases
2. Descargue la versión para Windows
3. Extraiga en el directorio deseado

#### 2. Ejecutar

```powershell
# Servidor
.\frps.exe -c frps.ini

# Cliente
.\frpc.exe -c frpc.ini
```

### Método 3: Docker

```bash
# Servidor
docker run --network host -d -v ./frps.ini:/etc/frp/frps.ini --name frps fatedier/frps:v0.51.0

# Cliente
docker run -d -v ./frpc.ini:/etc/frp/frpc.ini --name frpc fatedier/frpc:v0.51.0
```

### Método 4: Compilación desde código fuente

```bash
# Clonar el repositorio
git clone https://github.com/fatedier/frp.git

# Compilar
cd frp
make

# La salida está en el directorio bin/
```

## Configuración del servidor

### Configuración básica (frps.ini)

```ini
[common]
bind_port = 7000
dashboard_port = 7500
token = your_token_here
dashboard_user = admin
dashboard_pwd = admin

# Registro
log_file = ./frps.log
log_level = info
```

### Configuración avanzada

```ini
[common]
# Puertos
bind_port = 7000
vhost_http_port = 80
vhost_https_port = 443

# Autenticación
token = your_token_here

# Pool de conexiones
max_pool_count = 5
max_ports_per_client = 0

# Heartbeat
heartbeat_timeout = 90

# Puertos de cliente permitidos
allow_ports = 2000-3000,3001,3003,4000-50000
```

### Servicio systemd

```ini
# /etc/systemd/system/frps.service
[Unit]
Description=frp server
After=network.target

[Service]
Type=simple
User=root
ExecStart=/path/to/frps -c /path/to/frps.ini

[Install]
WantedBy=multi-user.target
```

```bash
# Iniciar el servicio
sudo systemctl start frps
sudo systemctl enable frps
```

## Configuración del cliente

### Configuración básica (frpc.ini)

```ini
[common]
server_addr = your_server_ip
server_port = 7000
token = your_token_here

[ssh]
type = tcp
local_ip = 127.0.0.1
local_port = 22
remote_port = 6000
```

### Servicio HTTP

```ini
[common]
server_addr = your_server_ip
server_port = 7000

[web]
type = http
local_port = 8080
custom_domains = yourdomain.com
```

### Mapeo de puertos TCP

```ini
[common]
server_addr = your_server_ip
server_port = 7000

[mysql]
type = tcp
local_ip = 127.0.0.1
local_port = 3306
remote_port = 13306
```

### STCP (TCP seguro)

```ini
[common]
server_addr = your_server_ip
server_port = 7000

[secret_ssh]
type = stcp
sk = your_secret_key
local_ip = 127.0.0.1
local_port = 22
```

## Preguntas frecuentes

### ¿Error de conexión?

1. Verifique que el servidor esté ejecutándose
2. Verifique los puertos del firewall
3. Valide que el token coincida

### ¿Puerto en uso?

Modifique remote_port o use puertos de rango.

### ¿Problemas de rendimiento?

Ajuste el tamaño del pool de conexiones y la configuración de tiempo de espera.

## Enlaces relacionados

- [frp GitHub](https://github.com/fatedier/frp)
- [Documentación de frp](https://gofrp.org/docs/)
