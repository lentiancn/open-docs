# Vue 3 Usage Guide

Comprehensive guide for using Vue 3 effectively.

---

## Table of Contents

- [Basic Concepts](#basic-concepts)
- [Composition API](#composition-api)
- [Reactivity](#reactivity)
- [Templates](#templates)
- [Components](#components)
- [Props and Events](#props-and-events)
- [Slots](#slots)
- [Router](#router)
- [Pinia](#pinia)
- [Lifecycle Hooks](#lifecycle-hooks)
- [Directives](#directives)
- [Composables](#composables)

---

## Basic Concepts

### What is Vue 3?

Vue 3 is a progressive JavaScript framework for building user interfaces. It introduces the Composition API alongside the Options API.

### Creating an App

```javascript
import { createApp } from 'vue'
import App from './App.vue'

const app = createApp(App)
app.mount('#app')
```

### Options API vs Composition API

```javascript
// Options API
export default {
  data() {
    return { count: 0 }
  },
  methods: {
    increment() {
      this.count++
    }
  }
}

// Composition API (recommended)
import { ref } from 'vue'

export default {
  setup() {
    const count = ref(0)
    const increment = () => count.value++
    return { count, increment }
  }
}
```

---

## Composition API

### Setup Function

```javascript
export default {
  setup() {
    // Called before component creation
    // This is where you use Composition API
    
    const message = ref('Hello')
    const count = ref(0)
    
    return {
      message,
      count
    }
  }
}
```

### Script Setup

```vue
<script setup>
import { ref } from 'vue'

const message = ref('Hello')
const count = ref(0)
</script>
```

---

## Reactivity

### ref

```javascript
import { ref } from 'vue'

const count = ref(0)

// Access/modify with .value
count.value++
console.log(count.value)
```

### reactive

```javascript
import { reactive } from 'vue'

const state = reactive({
  count: 0,
  name: 'Vue'
})

// No .value needed
state.count++
```

### computed

```javascript
import { ref, computed } from 'vue'

const firstName = ref('John')
const lastName = ref('Doe')

const fullName = computed(() => {
  return `${firstName.value} ${lastName.value}`
})
```

### watch

```javascript
import { ref, watch } from 'vue'

const count = ref(0)

// Watch single ref
watch(count, (newVal, oldVal) => {
  console.log(`Changed from ${oldVal} to ${newVal}`)
})

// Watch multiple
watch([count, otherRef], ([newCount, newOther], [oldCount, oldOther]) => {
  console.log('Changed!')
})
```

---

## Templates

### Template Syntax

```html
<div id="app">
  <h1>{{ title }}</h1>
  <p v-html="rawHtml"></p>
  <button :disabled="isDisabled">Click</button>
</div>
```

### Directives

| Directive | Description |
|----------|-------------|
| `v-text` | Text content |
| `v-html` | HTML content |
| `v-show` | Toggle visibility |
| `v-if` | Conditional rendering |
| `v-else` | Alternative to v-if |
| `v-for` | List rendering |
| `v-on` | Event handling |
| `v-bind` | Attribute binding |
| `v-model` | Two-way binding |

### Event Handling

```html
<button @click="handleClick">Click</button>
<button @click="count++">Increment</button>
<form @submit.prevent="submitForm">
```

---

## Components

### Creating Components

```vue
<!-- MyComponent.vue -->
<script setup>
defineProps({
  title: String
})

defineEmits(['update'])
</script>

<template>
  <div>{{ title }}</div>
</template>
```

### Using Components

```vue
<script setup>
import MyComponent from './MyComponent.vue'
</script>

<template>
  <MyComponent title="Hello" @update="handleUpdate" />
</template>
```

---

## Props and Events

### Defining Props

```vue
<script setup>
defineProps({
  title: {
    type: String,
    required: true,
    default: 'Default Title'
  },
  count: {
    type: Number,
    default: 0
  }
})
</script>
```

### Emitting Events

```vue
<script setup>
const emit = defineEmits(['update', 'delete'])

emit('update', value)
emit('delete', id)
</script>
```

### Parent-Child Communication

```vue
<!-- Parent -->
<ChildComponent 
  :message="msg" 
  @response="handleResponse" 
/>
```

---

## Slots

### Default Slot

```vue
<!-- Child -->
<slot></slot>

<!-- Parent -->
<ChildComponent>Content goes here</ChildComponent>
```

### Named Slots

```vue
<!-- Child -->
<slot name="header"></slot>
<slot name="footer"></slot>

<!-- Parent -->
<ChildComponent>
  <template #header>Header</template>
  <template #footer>Footer</template>
</ChildComponent>
```

### Scoped Slots

```vue
<!-- Child -->
<slot :user="user"></slot>

<!-- Parent -->
<ChildComponent v-slot="{ user }">
  {{ user.name }}
</ChildComponent>
```

---

## Router

### Installation

```bash
npm install vue-router@4
```

### Setup

```javascript
// router/index.js
import { createRouter, createWebHistory } from 'vue-router'
import Home from '../views/Home.vue'
import About from '../views/About.vue'

const routes = [
  { path: '/', component: Home },
  { path: '/about', component: About }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})

export default router
```

### main.js

```javascript
import { createApp } from 'vue'
import App from './App.vue'
import router from './router'

createApp(App).use(router).mount('#app')
```

### Router Links

```html
<router-link to="/">Home</router-link>
<router-link to="/about">About</router-link>
<router-view></router-view>
```

---

## Pinia

### Installation

```bash
npm install pinia
```

### Setup

```javascript
// stores/counter.js
import { defineStore } from 'pinia'

export const useCounterStore = defineStore('counter', {
  state: () => ({
    count: 0
  }),
  getters: {
    doubleCount: (state) => state.count * 2
  },
  actions: {
    increment() {
      this.count++
    }
  }
})
```

### main.js

```javascript
import { createApp } from 'vue'
import { createPinia } from 'pinia'
import App from './App.vue'

const app = createApp(App)
app.use(createPinia())
app.mount('#app')
```

### Using Store

```vue
<script setup>
import { useCounterStore } from './stores/counter'

const store = useCounterStore()
</script>

<template>
  <button @click="store.increment()">
    {{ store.count }}
  </button>
</template>
```

---

## Lifecycle Hooks

| Hook | Description |
|------|-------------|
| `onMounted` | Component mounted |
| `onUpdated` | Component updated |
| `onUnmounted` | Component unmounted |
| `onBeforeMount` | Before mounting |
| `onBeforeUpdate` | Before update |
| `onBeforeUnmount` | Before unmount |

### Usage

```javascript
import { onMounted, onUnmounted } from 'vue'

export default {
  setup() {
    onMounted(() => {
      console.log('Component mounted!')
    })
    
    onUnmounted(() => {
      console.log('Component unmounted!')
    })
  }
}
```

---

## Directives

### Custom Directive

```javascript
// Directive definition
const vFocus = {
  mounted: (el) => el.focus()
}

// Usage in template
<input v-focus>
```

### Global Directive

```javascript
app.directive('focus', {
  mounted(el) {
    el.focus()
  }
})
```

---

## Composables

### Creating a Composable

```javascript
// useMouse.js
import { ref, onMounted, onUnmounted } from 'vue'

export function useMouse() {
  const x = ref(0)
  const y = ref(0)
  
  function update(event) {
    x.value = event.pageX
    y.value = event.pageY
  }
  
  onMounted(() => window.addEventListener('mousemove', update))
  onUnmounted(() => window.removeEventListener('mousemove', update))
  
  return { x, y }
}
```

### Using Composable

```vue
<script setup>
import { useMouse } from './composables/useMouse'

const { x, y } = useMouse()
</script>

<template>
  <p>Mouse: {{ x }}, {{ y }}</p>
</template>
```

---

## Next Steps

- Explore [Vue 3 Components](https://vuejs.org/guide/components/)
- Learn about [Pinia](https://pinia.vuejs.org/)
- Read [Vue Router](https://router.vuejs.org/)
