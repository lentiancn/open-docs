# Docker FAQ

Common questions and answers about Docker.

## Installation Docker Desktop fails to

### Q: start on Windows?

**Solutions**:
1. Enable virtualization in BIOS
2. Install/update WSL 2
3. Restart computer
4. Check for conflicting software (VirtualBox, VMware)

### Q: "docker: permission denied" error?

**Solution**:
```
sudo usermod -aG docker $USER
# Log out and log back in
```

### Q: Which Docker version am I using?

```
docker --version
docker-compose --version
```

## Images

### Q: How to reduce Docker image size?

**Best Practices**:
1. Use alpine-based images
2. Use multi-stage builds
3. Minimize layers
4. Clean up in the same layer

### Q: How to build image without cache?

```
docker build --no-cache -t my-image .
```

### Q: How to remove all unused images?

```
docker image prune -a
```

## Containers

### Q: How to keep container running?

```
docker run -d nginx tail -f /dev/null
# or
docker run -d nginx sleep infinity
```

### Q: Container exits immediately after starting?

**Reasons**:
1. No foreground process
2. Process completed

**Solutions**:
```
docker run -it image_name /bin/bash
docker run -d image_name tail -f /dev/null
```

### Q: How to enter a running container?

```
docker exec -it container_id /bin/bash
```

### Q: How to copy files to/from container?

```
# Copy from container to host
docker cp container_id:/path/file.txt ./

# Copy from host to container
docker cp ./file.txt container_id:/path/
```

## Networking

### Q: How to access container from host?

Use port mapping:
```
docker run -p 8080:80 nginx
```

### Q: How to connect containers?

Create a network:
```
docker network create my-network
docker run --network my-network -d nginx
```

## Volumes

### Q: How to persist data?

Use volumes:
```
docker volume create my-data
docker run -v my-data:/data nginx
```

## Docker Compose

### Q: How to rebuild after code changes?

```
docker-compose up -d --build
```

### Q: How to view logs?

```
docker-compose logs -f
```

### Q: How to scale services?

```
docker-compose up -d --scale web=3
```

## Performance

### Q: Docker is slow / consuming too much disk?

**Solutions**:
```
docker system prune -a
docker system df
docker volume prune
```

### Q: How to limit container resources?

```
docker run -m 512m nginx
docker run --cpus=0.5 nginx
```

## Troubleshooting

### Q: How to debug a failing container?

```
docker logs container_id
docker inspect container_id
```

### Q: Container network not working?

```
sudo systemctl restart docker
docker network ls
```

## Security

### Q: How to scan for vulnerabilities?

```
docker scan my-image
```

### Q: Should I run as root?

No, create a non-root user:

```
FROM node:18-alpine
RUN addgroup -g 1000 appgroup && \
    adduser -u 1000 -G appgroup -D appuser
USER appuser
```

## Docker vs VM

### Q: What's the difference between Docker and VM?

| Aspect | Docker | VM |
|--------|--------|-----|
| OS | Shares host kernel | Separate OS |
| Size | MBs | GBs |
| Start | Seconds | Minutes |
| Isolation | Containers | Full isolation |

## Learning Resources

- Official Documentation: https://docs.docker.com
- Interactive Labs: https://labs.play-with-docker.com
- Docker Community: https://www.docker.com/community
