# Vue 安装指南

Vue 是一个渐进式 JavaScript 框架，用于构建用户界面。

## 版本概述

Vue 有两个主要版本在使用：

| 版本 | 发布日期 | 状态 |
|------|----------|------|
| Vue 3 | 2020年9月 | 当前推荐 |
| Vue 2 | 2016年10月 | 已停止维护 (2023年) |

**建议：** 所有新项目使用 Vue 3。Vue 2 于 2023 年停止维护。

### Vue 2 vs Vue 3 主要区别

| 特性 | Vue 2 | Vue 3 |
|------|-------|-------|
| 架构 | Options API | Composition API + Options API |
| 响应式 | Object.defineProperty | Proxy |
| TypeScript | 部分支持 | 完全支持 |
| 性能 | 好 | 更好 |
| 体积 | ~20KB gzip | ~10KB gzip |
| 生命周期 | created, mounted | setup + onMounted |
| Teleport | 不支持 | 支持 |
| Fragments | 不支持 | 支持 |
| 多根节点 | 不支持 | 支持 |

## 前置条件

### 系统要求

| 要求 | Vue 2 | Vue 3 |
|------|-------|-------|
| Node.js | 8.9+ | 16+ (推荐 18+) |
| npm | 5.6+ | 8+ |
| 浏览器支持 | IE9+ | 不支持 IE11 |

### 必需软件

- **Node.js** - JavaScript 运行时
- **npm** - 包管理器（随 Node.js 一起安装）
- **Git** - 版本控制（可选但推荐）

## 安装方法

### 方法 1：使用 npm（推荐）

#### Vue 3（推荐）

```bash
# 创建新 Vue 项目
npm create vue@latest

# 或使用 Vue CLI
npm install -g @vue/cli

# 创建项目
vue create my-vue-app
```

#### Vue 2（旧版）

```bash
# 安装 Vue CLI
npm install -g @vue/cli

# 创建 Vue 2 项目
vue create my-vue2-app --default
```

### 方法 2：使用 Vite（推荐用于 Vue 3）

Vite 是一个现代构建工具，提供极快的开发服务器。

```bash
# 使用 Vite 创建 Vue 3 项目
npm create vite@latest my-vue-app -- --template vue

# 进入项目
cd my-vue-app

# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

### 方法 3：使用 CDN

#### Vue 3 CDN

```html
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
```

#### Vue 2 CDN

```html
<script src="https://unpkg.com/vue@2/dist/vue.js"></script>
```

### 方法 4：使用 Vue CLI

```bash
# 全局安装 Vue CLI
npm install -g @vue/cli

# 验证安装
vue --version

# 创建项目
vue create my-project

# 或使用 GUI
vue ui
```

### 方法 5：使用 Nuxt.js

Nuxt 是一个用于创建 Vue 应用的框架。

```bash
# 创建 Nuxt 3 项目
npx nuxi@latest init my-nuxt-app

# 进入项目
cd my-nuxt-app

# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

## 环境配置

### 安装 Node.js

#### Windows

1. 从 https://nodejs.org 下载 Node.js
2. 运行安装程序（推荐 LTS 版本）
3. 验证：`node --version`

#### macOS

```bash
# 使用 Homebrew
brew install node
```

#### Linux (Ubuntu/Debian)

```bash
# 使用 NodeSource
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# 或使用 nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
nvm install 18
```

### 配置 npm

```bash
# 查看 npm 版本
npm --version

# 设置 npm 镜像（中国区可选）
npm config set registry https://registry.npmmirror.com
```

## 项目结构

### Vue 3 + Vite 项目

```
my-vue-app/
├── public/
│   └── favicon.ico
├── src/
│   ├── assets/
│   ├── components/
│   │   └── HelloWorld.vue
│   ├── App.vue
│   └── main.js
├── index.html
├── package.json
├── vite.config.js
└── README.md
```

## 依赖管理

### 核心依赖

```json
{
  "dependencies": {
    "vue": "^3.4.0",
    "vue-router": "^4.2.0",
    "pinia": "^2.1.0",
    "axios": "^1.6.0"
  }
}
```

### 安装依赖

```bash
# 安装所有依赖
npm install

# 安装特定包
npm install vue-router

# 安装并保存到 package.json
npm install axios --save
```

## Vue Router 设置

### 安装

```bash
npm install vue-router@4
```

### 基础配置（Vue 3）

```javascript
// src/router/index.js
import { createRouter, createWebHistory } from 'vue-router'
import Home from '../views/Home.vue'
import About from '../views/About.vue'

const routes = [
  { path: '/', component: Home },
  { path: '/about', component: About }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})

export default router
```

## Pinia（状态管理）

### 安装

```bash
npm install pinia
```

### 基础配置（Vue 3）

```javascript
// src/stores/counter.js
import { defineStore } from 'pinia'

export const useCounterStore = defineStore('counter', {
  state: () => ({
    count: 0
  }),
  getters: {
    doubleCount: (state) => state.count * 2
  },
  actions: {
    increment() {
      this.count++
    }
  }
})
```

## Vue 2 Options API（旧版）

```javascript
new Vue({
  el: '#app',
  data() {
    return {
      message: 'Hello Vue 2!',
      items: []
    }
  },
  computed: {
    reversedMessage() {
      return this.message.split('').reverse().join('')
    }
  },
  methods: {
    handleClick() {
      console.log('Clicked!')
    }
  },
  created() {
    console.log('Component created')
  }
})
```

## Vue 3 Composition API

```javascript
import { ref, computed, onMounted } from 'vue'

export default {
  setup() {
    // 响应式状态
    const message = ref('Hello Vue 3!')
    const count = ref(0)
    
    // 计算属性
    const reversedMessage = computed(() => {
      return message.value.split('').reverse().join('')
    })
    
    // 方法
    const increment = () => {
      count.value++
    }
    
    // 生命周期
    onMounted(() => {
      console.log('Component mounted')
    })
    
    return {
      message,
      count,
      reversedMessage,
      increment
    }
  }
}
```

## 开发服务器

### 启动开发服务器

```bash
# Vue CLI
npm run serve

# Vite
npm run dev
```

### 构建生产版本

```bash
# Vue CLI
npm run build

# Vite
npm run build
```

## 故障排除

### 常见问题

#### npm install 失败

```bash
# 清除 npm 缓存
npm cache clean --force

# 删除 node_modules 并重新安装
rm -rf node_modules
npm install
```

#### 端口被占用

```bash
# 使用不同端口
npm run dev -- --port 3000
```

#### Node 版本问题

```bash
# 查看 Node 版本
node --version

# 使用 nvm 切换版本
nvm use 18
```

## 最佳实践

1. **使用 Vue 3** - 除非有特定的 Vue 2 要求
2. **使用 Vite** - 更快的开发和构建
3. **使用 Composition API** - 更好的 TypeScript 支持和代码组织
4. **使用 TypeScript** - 更好的开发体验
5. **使用 Pinia** - 新项目使用 Pinia 而不是 Vuex

## 版本兼容性

| Vue 版本 | Vue Router | Pinia |
|----------|------------|-------|
| 3.x | 4.x | 2.x+ |
| 2.x | 3.x | 不支持 |

## 相关链接

- [官网](https://vuejs.org)
- [Vue 3 文档](https://vuejs.org/guide/)
- [Vue 2 文档](https://v2.vuejs.org/) (旧版)
- [Vue Router](https://router.vuejs.org/)
- [Pinia](https://pinia.vuejs.org/)
- [Vite](https://vitejs.dev/)
