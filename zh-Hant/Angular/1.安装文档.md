# Angular 安裝指南

Angular 是一個由 Google 維護的現代 Web 應用框架。本指南涵蓋在所有環境中的安裝方法。

## 版本資訊

| 版本 | 狀態 | 說明 |
|------|------|------|
| Angular 17+ | ✅ 當前 | 最新版本，包含所有新功能 |
| Angular 16 | ✅ 支援 | 穩定版本 |
| Angular 14-15 | ⚠️ 維護 | 安全更新 |
| Angular 2-13 | ❌ 舊版 | 不建議新專案使用 |

> **重要提示**：本指南主要針對 **Angular 17+**。建議新專案使用最新版本以獲得最佳效能和最新功能。

## 前提條件

### 系統要求

| 要求 | 版本 |
|------|------|
| Node.js | 18.10.0+ |
| npm | 9.0.0+ |
| TypeScript | 5.2+ |

### 瀏覽器支援

| 瀏覽器 | 版本 |
|--------|------|
| Chrome | 90+ |
| Firefox | 90+ |
| Safari | 14+ |
| Edge | 90+ |

## 安裝方法

### 方法一：使用 Angular CLI（推薦）

Angular CLI 是官方推薦的建立和管理 Angular 專案的方式。

```bash
# 安裝 Angular CLI
npm install -g @angular/cli

# 建立新專案
ng new my-app

# 進入專案目錄
cd my-app

# 啟動開發伺服器
ng serve
```

#### 建立專案選項

```bash
# 建立帶有路由的專案
ng new my-app --routing

# 建立帶有 SCSS 的專案
ng new my-app --style=scss

# 建立帶有 SSR 的專案
ng new my-app --ssr

# 跳過安裝依賴
ng new my-app --skip-install
```

### 方法二：手動建立專案

```bash
# 初始化 npm 專案
npm init -y

# 安裝 Angular 核心依賴
npm install @angular/core@17 @angular/common@17 @angular/compiler@17

# 安裝 Angular 平台相關
npm install @angular/platform-browser@17 @angular/platform-browser-dynamic@17

# 安裝 Angular 編譯器
npm install @angular/compiler-cli@17 typescript@~5.2.0 zone.js@~0.14.0
```

### 方法三：使用 Vite

```bash
# 使用 Vite 建立 Angular 專案
npm create vite@latest my-angular-app -- --template angular

# 進入專案目錄
cd my-angular-app

# 安裝依賴
npm install
```

### 方法四：使用 Nx 工作區

Nx 是一個強大的單體倉庫工具，適合大型企業專案。

```bash
# 安裝 Nx
npm install -g nx

# 建立 Angular 應用
npx create-nx-workspace my-org --preset=angular

# 新增 Angular 應用
nx g @nx/angular:app my-app
```

## 專案結構

```
my-angular-app/
├── src/
│   ├── app/
│   │   ├── app.component.ts
│   │   ├── app.component.html
│   │   ├── app.component.css
│   │   └── app.config.ts
│   ├── main.ts
│   ├── index.html
│   └── styles.css
├── angular.json
├── package.json
├── tsconfig.json
└── node_modules/
```

## 開發命令

### 常用命令

```bash
# 啟動開發伺服器
ng serve

# 建構生產版本
ng build

# 執行測試
ng test

# 執行端到端測試
ng e2e

# 產生元件
ng g c my-component

# 產生服務
ng g s my-service

# 產生模組
ng g m my-module

# 產生路由
ng g m my-module --routing
```

### 開發伺服器選項

```bash
# 指定連接埠
ng serve --port 4200

# 開啟瀏覽器
ng serve --open

# 熱模組替換
ng serve --hmr

# 生產建構
ng serve --configuration production
```

## 設定

### tsconfig.json

```json
{
  "compileOnSave": false,
  "compilerOptions": {
    "outDir": "./dist/out-tsc",
    "strict": true,
    "noImplicitOverride": true,
    "noPropertyAccessFromIndexSignature": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "skipLibCheck": true,
    "esModuleInterop": true,
    "sourceMap": true,
    "declaration": false,
    "experimentalDecorators": true,
    "moduleResolution": "bundler",
    "importHelpers": true,
    "target": "ES2022",
    "module": "ES2022",
    "useDefineForClassFields": false,
    "lib": ["ES2022", "dom"]
  },
  "angularCompilerOptions": {
    "enableI18nLegacyMessageIdFormat": false,
    "strictInjectionParameters": true,
    "strictInputAccessModifiers": true,
    "strictTemplates": true
  }
}
```

### angular.json

```json
{
  "$schema": "./node_modules/@angular/cli/lib/config/schema.json",
  "version": 1,
  "newProjectRoot": "projects",
  "projects": {
    "my-app": {
      "projectType": "application",
      "root": "",
      "sourceRoot": "src",
      "prefix": "app",
      "architect": {
        "build": {
          "builder": "@angular-devkit/build-angular:application",
          "options": {
            "outputPath": "dist/my-app",
            "index": "src/index.html",
            "browser": "src/main.ts",
            "polyfills": ["zone.js"],
            "tsconfig.app.json",
Config": "ts            "assets": ["src/favicon.ico", "src/assets"],
            "styles": ["src/styles.css"],
            "scripts": []
          }
        }
      }
    }
  }
}
```

## 依賴管理

### 安裝依賴

```bash
# 安裝執行時依賴
npm install @angular/animations @angular/common @angular/compiler @angular/core @angular/forms @angular/platform-browser @angular/platform-browser-dynamic @angular/router

# 安裝開發依賴
npm install --save-dev @angular-devkit/build-angular @angular/cli @angular/compiler-cli @types/jasmine @types/node typescript jasmine-core jasmine-spec-reporter karma karma-chrome-launcher karma-coverage karma-jasmine karma-jasmine-html-reporter zone.js
```

### 使用 yarn

```bash
# 使用 yarn 安裝
yarn install

# 新增依賴
yarn add @angular/core@17

# 新增開發依賴
yarn add --dev @angular/cli@17
```

## 常見問題

### Angular CLI 命令不工作？

確保已全域安裝 Angular CLI：

```bash
npm install -g @angular/cli
```

### Node.js 版本不符？

使用 nvm 管理 Node.js 版本：

```bash
# 安裝 nvm (Windows)
winget install CoreyButler.NVMforWindows

# 使用特定版本
nvm install 18
nvm use 18
```

### 建構失敗？

清理快取並重新安裝：

```bash
rm -rf node_modules dist
npm install
```

## 相關連結

- [Angular 官方文件](https://angular.io/)
- [Angular 中文文件](https://angular.cn/)
- [Angular CLI 文件](https://angular.io/cli)
- [Angular Material](https://material.angular.io/)
