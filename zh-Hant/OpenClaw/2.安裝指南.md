# OpenClaw 安裝指南

OpenClaw 支援多種安裝方式，無論你使用的是 macOS、Linux 還是 Windows，都能找到適合你的方案。本指南將詳細介紹每種安裝方法及其前置要求。

---

## 系統要求

在開始安裝之前，請確保你的系統滿足以下要求：

- **Node.js**：22.0.0 或更高版本
- **作業系統**：
  - macOS 10.15 (Catalina) 或更高版本
  - Linux（Ubuntu 20.04+、Debian 11+、Fedora 36+ 等）
  - Windows 10/11（推薦通過 WSL2 使用）
- **網絡**：能夠訪問 npm 倉庫和 OpenClaw 服務
- **儲存空間**：至少 500MB 可用空間

你可以通過以下命令檢查 Node.js 版本：

```bash
node --version
```

如果版本低於 22.0.0，請先升級 Node.js。建議使用 nvm（Node Version Manager）來管理多個 Node.js 版本。

---

## 安裝方式

### 方式一：官方安裝腳本（推薦）

這是最簡單快捷的安裝方式，官方安裝腳本會自動檢測你的作業系統並完成所有配置。

**macOS / Linux：**

```bash
curl -fsSL https://openclaw.ai/install.sh | bash
```

安裝腳本會完成以下操作：
1. 檢測系統環境
2. 安裝或升級 OpenClaw 全域包
3. 創建必要的配置目錄
4. 設置必要的權限

**Windows（PowerShell）：**

```powershell
iwr -useb https://openclaw.ai/install.ps1 | iex
```

### 方式二：npm 全域安裝

如果你已經安裝了 Node.js 和 npm，可以直接通過 npm 安裝：

```bash
npm install -g openclaw@latest
```

你也可以指定特定版本：

```bash
npm install -g openclaw@v2026.2.28
```

可用的版本標籤：
- `latest`：最新穩定版
- `beta`：測試版
- `dev`：開發版

### 方式三：pnpm 安裝

OpenClaw 推薦使用 pnpm，它能提供更好的依賴管理和更快的安裝速度：

```bash
pnpm add -g openclaw@latest
```

### 方式四：Bun 安裝

如果你使用 Bun 作為 JavaScript 運行時：

```bash
bun add -g openclaw@latest
```

### 方式五：從源碼構建

如果你想使用最新開發版或為項目貢獻代碼，可以從 GitHub 克隆源碼並構建：

```bash
# 克隆倉庫
git clone https://github.com/openclaw/openclaw.git
cd openclaw

# 安裝依賴
pnpm install

# 構建項目
pnpm ui:build
pnpm build

# 初始化並安裝服務
pnpm openclaw onboard --install-daemon

# 開發模式（自動重載）
pnpm gateway:watch
```

**注意**：從源碼運行需要先構建，`pnpm openclaw ...` 直接運行 TypeScript（通過 tsx），構建后可通過 `node dist/` 運行。

---

## 安裝後配置

### 初始化向導

安裝完成後，運行初始化向導來完成基本配置：

```bash
openclaw onboard --install-daemon
```

向導會引導你完成以下步驟：
1. 配置 API 密鑰（推薦 Anthropic）
2. 設置工作空間目錄
3. 配置渠道連接（WhatsApp、Telegram、Discord 等）
4. 安裝 Gateway 後台服務

### 手動配置

如果你只想進行手動配置，可以運行：

```bash
openclaw configure
```

這將啟動交互式配置向導，讓你逐步設置各個選項。

### 驗證安裝

安裝完成後，使用以下命令驗證安裝是否成功：

```bash
# 查看版本
openclaw --version

# 檢查 Gateway 狀態
openclaw gateway status

# 啟動控制界面
openclaw dashboard
```

如果一切正常，你應該能看到 Gateway 正在運行，並可以在瀏覽器中打開控制界面。

---

## 不同作業系統的注意事項

### macOS

- 推薦使用 Homebrew 安裝 Node.js：`brew install node`
- 安裝後可能需要重新加載 shell 環境
- 建議啟用鑰匙圈訪問以便安全存儲憑證

### Linux

- 大多數發行版可以通過包管理器安裝 Node.js 22+
- Ubuntu/Debian：使用 NodeSource 倉庫安裝最新版本
- 確保已安裝 build-essential（用於編譯原生模組）

### Windows

- **強烈推薦使用 WSL2**（Windows Subsystem for Linux）
- 直接在 Windows 上運行可能會有兼容性問題
- 使用 WSL2 可以獲得最佳體驗

---

## 常見安裝問題

### 問題一：npm 安裝權限錯誤

如果你遇到 `EACCES` 權限錯誤，不要使用 sudo 安裝 npm 包。建議使用 nvm 來管理 Node.js：

```bash
# 安裝 nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# 使用 nvm 安裝 Node.js
nvm install 22
nvm use 22

# 然後安裝 OpenClaw
npm install -g openclaw@latest
```

### 問題二：Gateway 無法啟動

檢查端口是否被佔用：

```bash
lsof -i :18789
```

如果端口被佔用，可以在配置中更改端口，或關閉佔用該端口的進程。

### 問題三：版本過舊

如果安裝的版本過舊，嘗試更新到最新版本：

```bash
npm update -g openclaw@latest
```

或重新安裝：

```bash
npm uninstall -g openclaw
npm install -g openclaw@latest
```

---

## Docker 安裝（可選）

如果你更喜歡使用 Docker，OpenClaw 也提供了官方 Docker 鏡像：

```bash
# 拉取鏡像
docker pull openclaw/openclaw:latest

# 運行容器
docker run -d \
  --name openclaw \
  -p 18789:18789 \
  -v ~/.openclaw:/root/.openclaw \
  openclaw/openclaw:latest
```

Docker 方式適合快速測試，但完整功能推薦直接安裝在主機上。

---

## 升級 OpenClaw

要升級到最新版本：

```bash
# 檢查當前版本
openclaw --version

# 升級
npm update -g openclaw@latest

# 或使用官方升級腳本
openclaw update
```

升級後建議運行診斷：

```bash
openclaw doctor
```

這將檢查配置兼容性和潛在問題。

---

## 卸載 OpenClaw

如果需要卸載 OpenClaw：

```bash
# 停止服務
openclaw gateway stop

# 卸載全域包
npm uninstall -g openclaw

# 刪除配置目錄（可選）
rm -rf ~/.openclaw
```

---

## 下一步

安裝完成後，建議閱讀以下內容：
- [OpenClaw 使用手冊](/3.使用手冊.md)：深入了解各項功能
- [常見問題解答](/4.常見問題.md)：解決使用中的常見疑問
- [官方文檔](https://docs.openclaw.ai)：獲取完整的配置參考
