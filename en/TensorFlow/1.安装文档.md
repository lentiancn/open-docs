# TensorFlow Installation Guide

This guide provides detailed instructions for installing TensorFlow on all major platforms.

---

## Table of Contents

- [Installation Methods](#installation-methods)
- [pip Installation](#pip-installation)
- [Conda Installation](#conda-installation)
- [Docker Installation](#docker-installation)
- [GPU Support](#gpu-support)
- [Verify Installation](#verify-installation)
- [System Requirements](#system-requirements)
- [Uninstall TensorFlow](#uninstall-tensorflow)

---

## Installation Methods

| Method | Description | Best For |
|--------|-------------|----------|
| **pip** | Python package manager | Most users |
| **Conda** | Anaconda package manager | Data science |
| **Docker** | Containerized runtime | Production, reproducibility |
| **Build from Source** | Compile manually | Custom optimizations |

---

## pip Installation

### Prerequisites

- Python 3.9 - 3.12
- pip >= 19.0

### Install TensorFlow

```bash
# Upgrade pip
pip install --upgrade pip

# Install TensorFlow (CPU only)
pip install tensorflow

# Or install specific version
pip install tensorflow==2.16.1
```

### Verify pip Installation

```python
import tensorflow as tf
print(tf.__version__)
```

---

## Conda Installation

### Install Anaconda/Miniconda

```bash
# Download Miniconda
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
bash Miniconda3-latest-Linux-x86_64.sh

# Or on macOS
brew install miniconda
```

### Create Environment

```bash
# Create new conda environment
conda create -n tf tensorflow
conda create -n tf tensorflow=2.16.1

# Activate environment
conda activate tf

# Install additional packages
conda install -c conda-forge tensorflow
```

### Verify Conda Installation

```bash
python -c "import tensorflow as tf; print(tf.__version__)"
```

---

## Docker Installation

### Prerequisites

- [Docker Desktop](https://www.docker.com/products/docker-desktop/)
- 4GB+ RAM available

### Pull TensorFlow Image

```bash
# Pull latest TensorFlow CPU image
docker pull tensorflow/tensorflow:latest

# Pull specific version
docker pull tensorflow/tensorflow:2.16.1

# Pull GPU image
docker pull tensorflow/tensorflow:latest-gpu
```

### Run TensorFlow Container

```bash
# Run CPU container
docker run -it --rm tensorflow/tensorflow:latest python

# Run with Jupyter
docker run -it -p 8888:8888 tensorflow/tensorflow:latest-jupyter

# Run GPU container (requires nvidia-docker)
docker run --gpus all -it --rm tensorflow/tensorflow:latest-gpu python
```

### Docker Compose Example

```yaml
# docker-compose.yml
version: '3.8'

services:
  tensorflow:
    image: tensorflow/tensorflow:latest-jupyter
    ports:
      - "8888:8888"
    volumes:
      - ./notebooks:/tf/notebooks
    environment:
      - JUPYTER_ENABLE_LAB=yes
```

---

## GPU Support

### NVIDIA GPU Requirements

| Component | Minimum | Recommended |
|-----------|---------|-------------|
| GPU | GTX 1050+ | RTX 3060+ |
| CUDA | 12.x | 12.x |
| cuDNN | 8.x | 8.x |
| RAM | 8GB | 16GB+ |

### Install NVIDIA Drivers

```bash
# Ubuntu
sudo apt update
sudo apt install nvidia-driver-535

# Verify
nvidia-smi
```

### Install CUDA and cuDNN

```bash
# Download CUDA 12.x from NVIDIA website
# Download cuDNN 8.x from NVIDIA website

# Or use conda
conda install -c nvidia cuda-toolkit=12.0
conda install -c nvidia cudnn=8.9.0
```

### Install TensorFlow with GPU Support

```bash
# pip (automatically detects GPU)
pip install tensorflow

# Verify GPU
python -c "import tensorflow as tf; print(tf.config.list_physical_devices('GPU'))"
```

---

## Verify Installation

### Basic Test

```python
import tensorflow as tf

# Check version
print(f"TensorFlow version: {tf.__version__}")

# Check available devices
print(f"Available devices: {tf.config.list_physical_devices()}")

# Simple computation
a = tf.constant([[1, 2], [3, 4]])
b = tf.constant([[5, 6], [7, 8]])
result = tf.matmul(a, b)
print(f"Matrix multiplication result:\n{result.numpy()}")
```

### GPU Test

```python
import tensorflow as tf

# Check GPU availability
gpus = tf.config.list_physical_devices('GPU')
print(f"Number of GPUs: {len(gpus)}")

if gpus:
    print(f"GPU: {gpus[0]}")
    # Enable memory growth
    for gpu in gpus:
        tf.config.experimental.set_memory_growth(gpu, True)
```

### Training Test

```python
import tensorflow as tf

# Simple neural network
model = tf.keras.Sequential([
    tf.keras.layers.Dense(10, activation='relu', input_shape=(5,)),
    tf.keras.layers.Dense(1)
])

model.compile(optimizer='adam', loss='mse')
model.fit(tf.random.normal((100, 5)), tf.random.normal((100, 1)), epochs=5)
print("Training completed!")
```

---

## System Requirements

### CPU Requirements

| Requirement | Minimum | Recommended |
|-------------|---------|-------------|
| CPU | Intel/AMD x86_64 | Modern multi-core |
| RAM | 4GB | 8GB+ |
| Storage | 10GB | 20GB+ SSD |

### GPU Requirements

| Component | Minimum | Recommended |
|-----------|---------|-------------|
| GPU | GTX 1050, 4GB VRAM | RTX 3060+, 8GB+ VRAM |
| CUDA | 12.x | 12.x |
| cuDNN | 8.x | 8.x |

### Python Version Support

| TensorFlow Version | Python Version |
|-------------------|----------------|
| 2.16.x | 3.9 - 3.12 |
| 2.15.x | 3.9 - 3.11 |
| 2.14.x | 3.9 - 3.11 |
| 2.13.x | 3.8 - 3.11 |

---

## Virtual Environments

### Using venv

```bash
# Create virtual environment
python -m venv tf-env

# Activate (Linux/macOS)
source tf-env/bin/activate

# Activate (Windows)
tf-env\Scripts\activate

# Install TensorFlow
pip install tensorflow

# Deactivate
deactivate
```

### Using Virtualenv

```bash
# Install virtualenv
pip install virtualenv

# Create environment
virtualenv tf-env

# Activate
source tf-env/bin/activate

# Install TensorFlow
pip install tensorflow
```

---

## Uninstall TensorFlow

### pip Uninstall

```bash
pip uninstall tensorflow
pip uninstall tensorflow-cpu  # if installed
pip uninstall tensorflow-gpu  # if installed

# Remove all TensorFlow packages
pip freeze | grep tensorflow | xargs pip uninstall -y
```

### Conda Uninstall

```bash
conda remove tensorflow
conda remove -n tf tensorflow

# Remove environment
conda env remove -n tf
```

### Docker Remove

```bash
docker rmi tensorflow/tensorflow
docker rmi tensorflow/tensorflow:latest-gpu
```

---

## Version Information

### Current Stable Version

- **TensorFlow 2.16.1** (Latest stable)
- Python 3.9 - 3.12 support
- CUDA 12.x support

### Version History

| Version | Release Date | Key Features |
|---------|-------------|--------------|
| 2.16.x | 2024 | Keras 3, improved GPU |
| 2.15.x | 2023 | TF Lite updates |
| 2.14.x | 2023 | Performance improvements |
| 2.13.x | 2023 | Keras integration |

---

## Next Steps

- [Usage Guide](./2.使用指南.md)
- [TensorFlow Official Documentation](https://www.tensorflow.org/learn)
- [TensorFlow Tutorials](https://www.tensorflow.org/tutorials)
