# OpenClaw Usage Guide

Comprehensive guide for using OpenClaw effectively.

---

## Basic Commands

### Gateway

```bash
# Start the gateway
openclaw gateway

# Start on specific port
openclaw gateway --port 18789

# Start with config file
openclaw gateway --config /path/to/config.json
```

### Channels

```bash
# Login to channels
openclaw channels login

# List available channels
openclaw channels list

# Add channel
openclaw channels add whatsapp

# Remove channel
openclaw channels remove whatsapp
```

### Sessions

```bash
# List active sessions
openclaw sessions list

# Kill a session
openclaw sessions kill <session-id>

# Clear all sessions
openclaw sessions clear
```

---

## Channel Setup

### WhatsApp

```bash
# Login to WhatsApp
openclaw channels login whatsapp

# Scan QR code with your phone
```

### Telegram

```bash
# Login to Telegram
openclaw channels login telegram

# Enter bot token
```

### Discord

```bash
# Login to Discord
openclaw channels login discord

# Enter bot token
```

---

## Web Control UI

### Access

- Local: http://127.0.0.1:18789/
- Remote: Configure remote access in settings

### Features

- Chat interface
- Configuration management
- Session monitoring
- Node management

---

## Configuration

### Basic Configuration

```json
{
  "channels": {
    "whatsapp": {
      "allowFrom": ["+15555550123"],
      "groups": {
        "*": {
          "requireMention": true
        }
      }
    },
    "telegram": {
      "allowFrom": ["user123"]
    }
  },
  "messages": {
    "groupChat": {
      "mentionPatterns": ["@openclaw"]
    }
  }
}
```

### Provider Configuration

```json
{
  "providers": {
    "anthropic": {
      "apiKey": "your-api-key",
      "model": "claude-3-5-sonnet-20241022"
    }
  }
}
```

---

## Multi-Agent Routing

### Workspace Isolation

```json
{
  "routing": {
    "workspaces": {
      "dev": {
        "agents": ["claude-dev"],
        "channels": ["#dev-channel"]
      },
      "general": {
        "agents": ["claude-general"],
        "channels": ["#general"]
      }
    }
  }
}
```

### Per-Sender Sessions

```bash
# Each sender gets isolated session
openclaw gateway --per-sender-sessions
```

---

## Media Support

### Sending Images

```bash
# Via Control UI
# Simply send an image in chat

# Via API
openclaw send --channel whatsapp --image /path/to/image.jpg
```

### Receiving Images

Images are automatically saved and displayed in the chat.

---

## Security

### Allowlist

```json
{
  "channels": {
    "whatsapp": {
      "allowFrom": ["+15555550123", "+15555550124"]
    }
  }
}
```

### Group Controls

```json
{
  "channels": {
    "whatsapp": {
      "groups": {
        "group-id": {
          "requireMention": true,
          "allowedUsers": ["user1", "user2"]
        }
      }
    }
  }
}
```

---

## Troubleshooting

### Check Status

```bash
# Gateway status
openclaw status

# Channel status
openclaw channels status
```

### Logs

```bash
# View logs
openclaw logs

# View specific channel logs
openclaw logs --channel whatsapp
```

### Restart

```bash
# Restart gateway
openclaw gateway restart

# Or manually
pkill openclaw
openclaw gateway
```

---

## Advanced Features

### Plugins

```bash
# Install plugin
openclaw plugins install mattermost

# List plugins
openclaw plugins list

# Remove plugin
openclaw plugins remove mattermost
```

### Nodes (Mobile)

```bash
# Pair mobile node
openclaw nodes pair

# List paired nodes
openclaw nodes list

# Remove node
openclaw nodes remove <node-id>
```

---

## Best Practices

1. **Secure your API key** - Use environment variables or secure config
2. **Configure allowlists** - Limit who can access your gateway
3. **Monitor sessions** - Regularly check active sessions
4. **Keep updated** - Update OpenClaw regularly for security
5. **Backup config** - Keep backup of your configuration

---

## Next Steps

- Explore [OpenClaw Documentation](https://docs.openclaw.ai)
- Configure [channels](https://docs.openclaw.ai/channels)
- Learn about [security](https://docs.openclaw.ai/gateway/security)
