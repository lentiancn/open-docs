# FantasyTalking - Guía de Instalación

Guía completa de instalación y configuración.

## Requisitos

### Hardware

- **GPU**: NVIDIA GPU, 8GB+ VRAM (16GB recomendado)
- **Almacenamiento**: 20GB+ espacio libre
- **RAM**: 16GB+

### Software

- **SO**: Linux (Ubuntu 20.04+), Windows 10/11, macOS
- **Python**: 3.8 - 3.10
- **CUDA**: 11.8+
- **cuDNN**: 8.0+

## Instalación

### Método 1: Desde código fuente (Recomendado)

```bash
# 1. Clonar repositorio
git clone https://github.com/FantasyTalking/FantasyTalking.git
cd FantasyTalking

# 2. Crear entorno virtual (recomendado)
python -m venv venv
source venv/bin/activate  # Linux/macOS
# o
venv\Scripts\activate  # Windows

# 3. Instalar dependencias
pip install -r requirements.txt

# 4. Descargar modelos preentrenados
python download_models.py
```

### Método 2: Docker (Recomendado)

```bash
# 1. Descargar imagen
docker pull fantasytalking/fantasytalking:latest

# 2. Ejecutar contenedor
docker run -it --gpus all -v /your/data:/data fantasytalking/fantasytalking:latest
```

### Método 3: pip

```bash
pip install fantasytalking
```

## Verificación

Después de la instalación, ejecute el siguiente comando:

```bash
python -c "import fantasytalking; print(fantasytalking.__version__)"
```

## Configuración

### Archivo de configuración

Crear `config.yaml` en el directorio raíz:

```yaml
model:
  checkpoint_path: "./models/checkpoint.pth"
  face_enhancer: "realusf"

output:
  resolution: "512x512"
  fps: 30

audio:
  sample_rate: 16000
```

### Variables de entorno

```bash
export FT_MODEL_PATH="./models"
export FT_OUTPUT_PATH="./output"
```

## Solución de problemas

### ¿CUDA no disponible?

1. Confirmar que el controlador NVIDIA está instalado: `nvidia-smi`
2. Verificar versión de CUDA
3. Instalar versión compatible de PyTorch

### ¿Memoria insuficiente?

1. Usar imágenes de entrada más pequeñas
2. Reducir resolución de salida
3. Usar modo por lotes

### ¿Descarga de modelo fallida?

```bash
# Usar proxy
export HTTP_PROXY=http://127.0.0.1:7890
export HTTPS_PROXY=http://127.0.0.1:7890

# Descarga manual
python download_models.py --mirror china
```

## Desinstalar

```bash
pip uninstall fantasytalking
rm -rf FantasyTalking
```

## Próximos pasos

- Ver Manual de Usuario: ./3.Manual-de-Usuario.md
- Más información: ./4.Preguntas-Frecuentes.md
