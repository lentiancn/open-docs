# OpenClaw User Manual

This manual provides a detailed guide to OpenClaw's features and usage, helping you make the most of this powerful AI assistant gateway. Whether you're new or experienced, you'll find valuable information here.

---

## Basic Concepts

Understanding these core concepts will help you get started more effectively:

### Gateway

The Gateway is the core component of OpenClaw. It runs on your local machine as the control plane for all channel connections, AI agents, and clients. A single Gateway process can handle multiple chat channels and multiple AI agents simultaneously.

### Channels

Channels refer to the chat platforms you use to interact with the AI assistant, including WhatsApp, Telegram, Discord, iMessage, and more. Each channel can be configured and managed independently.

### Agents

Agents are instances of the AI assistant. Each agent has its own workspace, sessions, and configuration. You can set up multiple agents for different purposes, such as personal use, work use, etc.

### Sessions

Sessions manage conversation context. OpenClaw supports multiple session modes:
- **main**: Shared session
- **per-peer**: Separate session for each contact
- **per-channel-peer**: Separate session for each channel-contact combination
- **per-account-channel-peer**: Most granular, separate session for each account-channel combination

---

## Daily Usage

### Starting and Stopping the Gateway

**Starting the Gateway:**

```bash
# Run in foreground (for debugging)
openclaw gateway --port 18789

# Run in background (requires service installation)
openclaw gateway start
```

**Stopping the Gateway:**

```bash
openclaw gateway stop
```

**Checking Status:**

```bash
openclaw gateway status
```

### Using the Control Interface

After starting the Gateway, visit http://127.0.0.1:18789/ in your browser to open the control interface.

The control interface provides:
- Send and receive messages
- View and manage sessions
- Configure channels and settings
- View usage statistics

### Using CLI Commands

**Sending Messages:**

```bash
openclaw message send --target +15555550123 --message "Hello, OpenClaw"
```

**Chatting with AI:**

```bash
openclaw agent --message "Help me write a Hello World program" --thinking high
```

---

## Channel Management

### Configuring WhatsApp

WhatsApp is one of the most commonly used channels. Configuration steps:

1. Run the login command:
   ```bash
   openclaw channels login
   ```

2. Select WhatsApp and scan the QR code following the prompts

3. Configure whitelist (optional but recommended):
   ```json5
   {
     channels: {
       whatsapp: {
         allowFrom: ["+15555550123"],
       },
     },
   }
   ```

### Configuring Telegram

1. Create a Telegram Bot:
   - Open @BotFather
   - Use /newbot command to create a new bot
   - Get the Bot Token

2. Add to configuration file:
   ```json5
   {
     channels: {
       telegram: {
         botToken: "yourBotToken",
       },
     },
   }
   ```

3. Start a conversation with your bot

### Configuring Discord

1. Create a Discord Application:
   - Visit https://discord.com/developers/applications
   - Create a new application, add a Bot user

2. Get Bot Token and configure:
   ```json5
   {
     channels: {
       discord: {
         token: "yourBotToken",
       },
     },
   }
   ```

3. Invite Bot to your server

---

## Advanced Features

### Multi-agent Routing

You can run multiple isolated agents in one Gateway:

```json5
{
  agents: {
    list: [
      { id: "home", default: true, workspace: "~/.openclaw/workspace-home" },
      { id: "work", workspace: "~/.openclaw/workspace-work" },
    ],
  },
  bindings: [
    { agentId: "home", match: { channel: "whatsapp", accountId: "personal" } },
    { agentId: "work", match: { channel: "whatsapp", accountId: "biz" } },
  ],
}
```

### Cron Jobs

Configure automated tasks:

```json5
{
  cron: {
    enabled: true,
    maxConcurrentRuns: 2,
    sessionRetention: "24h",
  },
}
```

Create scheduled tasks:

```bash
openclaw cron create --schedule "0 9 * * *" --agent main --message "Good morning"
```

### Webhooks

Configure Webhooks to respond to external events:

```json5
{
  hooks: {
    enabled: true,
    token: "shared-secret",
    path: "/hooks",
    mappings: [
      {
        match: { path: "gmail" },
        action: "agent",
        agentId: "main",
        deliver: true,
      },
    ],
  },
}
```

### Sandbox Mode

For security, you can run non-main sessions in isolated Docker containers:

```json5
{
  agents: {
    defaults: {
      sandbox: {
        mode: "non-main",
        scope: "agent",
      },
    },
  },
}
```

---

## Workspace Configuration

### Directory Structure

OpenClaw uses the following directory structure:

```
~/.openclaw/
├── openclaw.json      # Configuration file
├── credentials/       # Channel credentials
├── workspace/        # AI workspace
│   ├── AGENTS.md     # Agent configuration
│   ├── SOUL.md       # Identity configuration
│   ├── TOOLS.md      # Tools configuration
│   ├── USER.md       # User configuration
│   ├── MEMORY.md     # Long-term memory
│   └── skills/       # Skills directory
└── logs/             # Log files
```

### Custom Workspace

```json5
{
  agents: {
    defaults: {
      workspace: "~/my-workspace",
    },
  },
}
```

---

## Command Line Tools

### Common Commands

| Command | Description |
|---------|-------------|
| `openclaw --version` | View version |
| `openclaw status` | View status |
| `openclaw gateway start` | Start Gateway |
| `openclaw gateway stop` | Stop Gateway |
| `openclaw gateway status` | View Gateway status |
| `openclaw dashboard` | Open control interface |
| `openclaw channels login` | Login to channels |
| `openclaw channels status` | View channel status |
| `openclaw message send` | Send messages |
| `openclaw agent` | Chat with AI |
| `openclaw config get` | Get configuration |
| `openclaw config set` | Set configuration |
| `openclaw doctor` | Diagnose issues |

### Chat Commands

On supported channels, you can use these commands:

- `/status` - View session status
- `/new` or `/reset` - Reset session
- `/compact` - Compact session context
- `/think` - Set thinking level (off|minimal|low|medium|high|xhigh)
- `/verbose on|off` - Toggle verbose output
- `/usage off|tokens|full` - View usage statistics
- `/restart` - Restart Gateway (group admin only)

---

## Mobile Nodes

OpenClaw supports pairing iOS and Android devices as nodes to enable more local features.

### iOS Node

1. Download OpenClaw from App Store
2. Open the app and follow the pairing wizard to pair with your Gateway
3. Grant necessary permissions (camera, microphone, location, etc.)

Available features after pairing:
- Camera capture and recording
- Screen recording
- Canvas interaction
- Voice interaction (Talk Mode)

### Android Node

1. Download OpenClaw Android app
2. Pair with Gateway
3. Grant necessary permissions

Similar features as iOS.

### macOS Node Mode

The macOS app can run in node mode, exposing:
- system.run - Execute local commands
- system.notify - Send notifications
- canvas.* - Canvas interaction
- camera.* - Camera control
- screen.record - Screen recording

---

## Browser Control

OpenClaw has built-in browser control capabilities:

```json5
{
  browser: {
    enabled: true,
    color: "#FF4500",
  },
}
```

**Common Commands:**

```bash
# Start browser
openclaw browser start --browser-profile openclaw

# View available profiles
openclaw browser profiles
```

---

## Voice Features

### Voice Wake

Enable voice wake for AI, requires macOS/iOS/Android device:

```bash
openclaw voicewake enable
```

### Talk Mode

Continuous conversation mode where AI can hear and respond anytime:

```bash
openclaw talk start
```

Talk Mode requires configuring TTS (Text-to-Speech), ElevenLabs is recommended.

---

## Monitoring and Diagnostics

### Viewing Logs

```bash
# View recent logs
openclaw logs

# Follow logs in real-time
openclaw logs --follow
```

### Running Diagnostics

```bash
openclaw doctor
```

Diagnostics will check:
- Configuration correctness
- Service running status
- Channel connection status
- Potential security issues

### Health Checks

```bash
openclaw health
```

---

## Common Use Cases

### Use Case 1: Personal AI Assistant

Configure WhatsApp or Telegram as a personal assistant, message from anywhere for help.

### Use Case 2: Development Assistance

When encountering issues during development, ask AI for help directly via CLI or chat.

### Use Case 3: Automated Workflows

Set up Cron tasks to automatically execute recurring work:
- Daily summary reports
- Periodic system status checks
- Regular data backups

### Use Case 4: Multi-channel Customer Service

Configure multiple channels to provide unified AI service for users on different platforms.

---

## Performance Optimization

### Session Management

- Compact sessions regularly: `/compact`
- Set auto-reset:
  ```json5
  {
    session: {
      reset: {
        mode: "daily",
        atHour: 4,
        idleMinutes: 120,
      },
    },
  }
  ```

### Resource Usage

- Limit concurrent sessions
- Enable session cleanup
- Use model caching

---

## Backup and Recovery

### Backup Configuration

```bash
cp ~/.openclaw/openclaw.json ~/.openclaw/openclaw.json.backup
```

### Restore Configuration

```bash
cp ~/.openclaw/openclaw.json.backup ~/.openclaw/openclaw.json
```

### Full Backup

```bash
tar -czf openclaw-backup.tar.gz ~/.openclaw
```

---

## Next Steps

- [FAQ](/4.FAQ.md): Common questions answered
- [Official Documentation](https://docs.openclaw.ai): Complete configuration reference
- [GitHub](https://github.com/openclaw/openclaw): Contribute to open source
- [Discord Community](https://discord.gg/clawd): Connect with other users
