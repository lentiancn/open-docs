# Kubernetes 安装文档

在所有主流平台上安装 Kubernetes 的详细指南。

---

## 目录

- [安装方式](#安装方式)
- [本地学习环境](#本地学习环境)
  - [minikube](#minikube)
  - [kind](#kind)
  - [Docker Desktop](#docker-desktop)
- [生产环境](#生产环境)
  - [kubeadm](#kubeadm)
  - [云服务商](#云服务商)
- [安装 kubectl](#安装-kubectl)
- [验证安装](#验证安装)

---

## 安装方式

| 方式 | 描述 | 适用场景 |
|------|------|----------|
| **minikube** | 单节点本地集群 | 学习、开发 |
| **kind** | Docker 中运行 K8s | 测试、CI/CD |
| **kubeadm** | 生产级集群 | 生产环境 |
| **云服务商** | 托管 Kubernetes | 云部署 |

---

## 本地学习环境

### minikube（推荐新手）

```bash
# macOS
brew install minikube

# Linux
curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
sudo install minikube-linux-amd64 /usr/local/bin/minikube

# Windows
choco install minikube
```

**启动集群：**
```bash
minikube start

# 指定资源
minikube start --cpus 4 --memory 8192
```

### kind

```bash
# 安装
brew install kind  # macOS

# 创建集群
kind create cluster

# 删除集群
kind delete cluster
```

### Docker Desktop

1. 安装 Docker Desktop
2. 设置 -> Kubernetes -> 启用 Kubernetes

---

## 生产环境

### kubeadm

```bash
# 安装
sudo apt-get update
sudo apt-get install -y apt-transport-https ca-certificates curl
curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.28/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg
echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.28/deb/ /' | sudo tee /etc/apt/sources.list.d/kubernetes.list
sudo apt-get update
sudo apt-get install -y kubelet kubeadm kubectl

# 初始化主节点
sudo kubeadm init

# 安装网络插件
kubectl apply -f https://docs.projectcalico.org/manifests/calico.yaml
```

---

## 云服务商

### AWS EKS
```bash
brew install eksctl
eksctl create cluster --name my-cluster --region us-west-2
```

### Google GKE
```bash
gcloud container clusters create my-cluster --num-nodes=3
```

### Azure AKS
```bash
az aks create --resource-group my-group --name my-cluster --node-count 3
```

---

## 安装 kubectl

```bash
# macOS
brew install kubectl

# Linux
curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"

# Windows
choco install kubernetes-cli
```

---

## 验证安装

```bash
kubectl version
kubectl cluster-info
kubectl get nodes
```

---

## 下一步

- [Kubernetes 使用指南](./2.使用指南.md)
- [官方文档](https://kubernetes.io/docs/)
