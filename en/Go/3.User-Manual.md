# Go User Manual

> Go core syntax and common features

---

## Basic Syntax

### Hello World

```go
package main

import "fmt"

func main() {
    fmt.Println("Hello, World!")
}
```

### Variables

```go
// Explicit
var name string = "Tom"

// Type inference
var age = 18

// Short declaration
city := "Beijing"

// Constant
const Pi = 3.14159
```

### Data Types

| Type | Description |
|------|-------------|
| int, int8-64 | Integer |
| uint, uint8-64 | Unsigned integer |
| float32, float64 | Floating point |
| string | String |
| bool | Boolean |
| byte | Alias for uint8 |
| rune | Alias for int32 |

---

## Control Flow

### Conditionals

```go
if age >= 18 {
    fmt.Println("Adult")
} else {
    fmt.Println("Minor")
}

// Switch
switch day {
case 1:
    fmt.Println("Monday")
default:
    fmt.Println("Other")
}
```

### Loops

```go
// Infinite
for { }

// Condition
for i := 0; i < 10; i++ {
    fmt.Println(i)
}

// Range
nums := []int{1, 2, 3}
for i, v := range nums {
    fmt.Println(i, v)
}
```

---

## Functions

```go
func add(a, b int) int {
    return a + b
}

// Multiple return values
func divide(a, b int) (int, error) {
    if b == 0 {
        return 0, errors.New("cannot divide by zero")
    }
    return a / b, nil
}
```

---

## Data Structures

### Arrays and Slices

```go
// Array (fixed)
arr := [5]int{1, 2, 3, 4, 5}

// Slice (dynamic)
slice := []int{1, 2, 3}
slice = append(slice, 4)
```

### Map

```go
m := make(map[string]int)
m["age"] = 18
delete(m, "age")
```

### Struct

```go
type Person struct {
    Name string
    Age  int
}

p := Person{Name: "Tom", Age: 18}
```

---

## Concurrency

### Goroutine

```go
func say(s string) {
    for i := 0; i < 3; i++ {
        fmt.Println(s)
    }
}

func main() {
    go say("Hello")
    say("World")
    time.Sleep(time.Second)
}
```

### Channel

```go
ch := make(chan string)
go func() { ch <- "message" }()
msg := <-ch
```

---

## Error Handling

```go
func divide(a, b int) (int, error) {
    if b == 0 {
        return 0, errors.New("cannot divide by zero")
    }
    return a / b, nil
}

result, err := divide(10, 0)
if err != nil {
    fmt.Println("Error:", err)
}
```

---

## Package Management

```bash
go mod init module_name
go mod tidy
go build
go test ./...
```

---

## Common Standard Library

| Package | Description |
|---------|-------------|
| fmt | Formatted I/O |
| os | OS functions |
| net/http | HTTP client/server |
| encoding/json | JSON encoding |
| time | Time handling |
| strings | String operations |

---

## Resources

- Standard Library: https://pkg.go.dev/
- Go by Example: https://gobyexample.com/
