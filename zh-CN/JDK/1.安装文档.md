# JDK 安装指南

本指南介绍如何在 Windows、macOS 和 Linux 上安装 JDK（Java 开发工具包）。

## 版本概览

| 版本 | 类型 | 发布日期 | 支持截止 |
|---------|------|--------------|---------------|
| JDK 25 | 最新版 | 2026 | 6个月 |
| JDK 21 | LTS | 2023年9月 | 2029年9月 |
| JDK 17 | LTS | 2021年9月 | 2029年9月 |
| JDK 11 | LTS | 2018年9月 | 2031年9月 |
| JDK 8 | 传统版 | 2014年3月 | 2030年12月 |

**推荐：** 生产环境使用 JDK 21 (LTS) 或 JDK 17 (LTS)。JDK 25 用于最新特性。

## 下载 JDK

### 官方来源

- **Oracle JDK**：https://www.oracle.com/java/technologies/downloads/
- **OpenJDK (Eclipse Temurin)**：https://adoptium.net/
- **Amazon Corretto**：https://aws.amazon.com/corretto/
- **Azul Zulu**：https://www.azul.com/downloads/zulu-community/

### 推荐下载

| 平台 | JDK 21 (LTS) | JDK 17 (LTS) |
|----------|--------------|---------------|
| Windows x64 | .exe / .zip | .exe / .zip |
| macOS x64 | .dmg | .dmg |
| macOS ARM64 (Apple Silicon) | .dmg | .dmg |
| Linux x64 | .tar.gz / .rpm / .deb | .tar.gz / .rpm / .deb |
| Linux ARM64 | .tar.gz / .rpm | .tar.gz / .rpm |

## 在 Windows 上安装

### 选项 1：安装程序 (.exe)

1. 从 Oracle 或 Adoptium 下载 JDK
2. 运行安装程序
3. 点击"下一步"完成向导
4. 记录安装路径（默认：`C:\Program Files\Java\jdk-21`）

### 选项 2：ZIP 压缩包

1. 从 Oracle 或 Adoptium 下载 ZIP
2. 解压到目标位置（例如：`C:\Java\jdk-21`）
3. 无需安装

### 设置环境变量

```cmd
# 打开系统属性 → 高级 → 环境变量

# 系统变量 → 新建
JAVA_HOME = C:\Program Files\Java\jdk-21

# 编辑 Path 变量，添加：
%JAVA_HOME%\bin
```

### 验证安装

```cmd
java -version
javac -version
```

## 在 macOS 上安装

### 选项 1：DMG 安装程序

1. 从 Oracle 或 Adoptium 下载 DMG
2. 打开 DMG 文件
3. 双击包安装程序
4. 按照向导操作

### 选项 2：Homebrew

```bash
# 如果未安装 Homebrew，先安装
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# 安装 JDK 21
brew install openjdk@21

# 链接到系统 Java
sudo ln -sfn $(brew --prefix)/opt/openjdk@21/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-21.jdk

# 添加到 PATH
echo 'export JAVA_HOME=$(/usr/libexec/java_home -v 21)' >> ~/.zshrc
source ~/.zshrc
```

### 选项 3：SDKMAN

```bash
# 安装 SDKMAN
curl -s "https://get.sdkman.io" | bash
source ~/.sdkman/bin/sdkman-init.sh

# 安装 JDK 21
sdk install java 21.0.5-tem
```

### 验证安装

```bash
java -version
javac -version
```

## 在 Linux 上安装

### Ubuntu/Debian

```bash
# 更新软件包列表
sudo apt update

# 安装 OpenJDK 21
sudo apt install openjdk-21-jdk

# 设置 JAVA_HOME
echo 'export JAVA_HOME=/usr/lib/jvm/java-21-openjdk-amd64' >> ~/.bashrc
source ~/.bashrc
```

### RHEL/CentOS/Fedora

```bash
# 安装 JDK 21
sudo dnf install java-21-openjdk-devel

# 设置 JAVA_HOME
echo 'export JAVA_HOME=/usr/lib/jvm/java-21-openjdk' >> ~/.bashrc
source ~/.bashrc
```

### 手动安装（所有 Linux）

```bash
# 下载 JDK
wget https://download.oracle.com/java/21/latest/jdk-21_linux-x64_bin.tar.gz

# 解压
sudo tar -xzf jdk-21_linux-x64_bin.tar.gz -C /usr/local/

# 设置 JAVA_HOME
echo 'export JAVA_HOME=/usr/local/jdk-21' >> ~/.bashrc
source ~/.bashrc
```

### 验证安装

```bash
java -version
javac -version
```

## 多个 JDK 版本

### 在 macOS 上切换 JDK

```bash
# 列出已安装的 JDK
/usr/libexec/java_home -V

# 切换到指定版本
export JAVA_HOME=$(/usr/libexec/java_home -v 17)
```

### 在 Linux 上切换 JDK

```bash
# 使用 update-alternatives（Ubuntu/Debian）
sudo update-alternatives --config java

# 手动切换
export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64
export PATH=$JAVA_HOME/bin:$PATH
```

## IDE 配置

### IntelliJ IDEA

1. File → Project Structure → Project
2. 选择 SDK：Add JDK → 选择已安装的 JDK
3. Apply → OK

### VS Code

1. 安装"Extension Pack for Java"
2. Ctrl+Shift+P → Java: Configure Java Runtime
3. 选择已安装的 JDK

### Eclipse

1. Window → Preferences → Java → Installed JREs
2. Add → Standard VM
3. 浏览到 JDK 安装文件夹
4. 设为默认

## 常见问题

### "java" 命令无法识别

- 验证 JAVA_HOME 是否正确设置
- 检查 PATH 是否包含 `%JAVA_HOME%\bin`
- 重启终端/命令提示符

### 端口 8080 被占用

```bash
# Windows
netstat -ano | findstr :8080

# Linux/macOS
lsof -i :8080
```

### JAVA_HOME 指向 JRE 而非 JDK

- 确保 JAVA_HOME 指向 JDK（包含 `bin/javac`）
- 而不是 JRE（只包含 `bin/java`）

## 相关链接

- [Oracle JDK 下载](https://www.oracle.com/java/technologies/downloads/)
- [Eclipse Temurin](https://adoptium.net/)
- [Amazon Corretto](https://aws.amazon.com/corretto/)
- [SDKMAN](https://sdkman.io/)
- [Java 官方文档](https://docs.oracle.com/en/java/javase/)
