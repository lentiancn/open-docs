# MySQL ä½¿ç”¨æŒ‡å—

é«˜æ•ˆä½¿ç”¨ MySQL çš„å®Œæ•´æŒ‡å—ã€?
---

## ç›®éŒ„

- [åŸºæœ¬æ¦‚å¿µ](#åŸºæœ¬æ¦‚å¿µ)
- [è³‡æ–™åº«æ“ä½œ](#è³‡æ–™åº«æ“ä½?
- [è¡¨æ ¼æ“ä½œ](#è¡¨æ ¼æ“ä½œ)
- [å¢åˆªæ”¹æŸ¥](#å¢åˆªæ”¹æŸ¥)
- [ä½¿ç”¨è€…å’Œæ¬Šé™](#ä½¿ç”¨è€…å’Œæ¬Šé™)
- [å‚™ä»½å’Œæ¢å¾©](#å‚™ä»½å’Œæ¢å¾?
- [å„ªåŒ–](#å„ªåŒ–)
- [å¸¸ç”¨ç¯„ä¾‹](#å¸¸ç”¨ç¯„ä¾‹)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

---

## åŸºæœ¬æ¦‚å¿µ

### ä»€éº¼æ˜¯ MySQLï¼?
MySQL æ˜¯ä¸€å€‹åŸºæ–?SQL çš„é–‹æºé—œè¯å¼è³‡æ–™åº«ç®¡ç†ç³»çµ±ã€?
### é—œéµè¡“èª

| è¡“èª | èªªæ˜ |
|------|------|
| è³‡æ–™åº?| çµæ§‹åŒ–çš„è³‡æ–™é›†åˆ |
| è¡¨æ ¼ | åˆ—å’Œæ¬„çš„é›†åˆ |
| åˆ?| å–®ç­†è¨˜éŒ„ |
| æ¬?| å±¬æ€?æ¬„ä½ |
| ä¸»éµ | å”¯ä¸€è­˜åˆ¥ç¢?|
| ç´¢å¼• | åŠ é€ŸæŸ¥è©?|

### é€£ç·š MySQL

```bash
# ä½¿ç”¨ä½¿ç”¨è€…åç¨±é€£ç·š
mysql -u username -p

# é€£ç·šæŒ‡å®šè³‡æ–™åº?mysql -u username -p database_name

# é€£ç·šé ç«¯ MySQL
mysql -h hostname -u username -p database_name
```

---

## è³‡æ–™åº«æ“ä½?
### å»ºç«‹è³‡æ–™åº?
```sql
-- åŸºç¤å»ºç«‹
CREATE DATABASE myapp_db;

-- æŒ‡å®šå­—å…ƒé›?CREATE DATABASE myapp_db 
  CHARACTER SET utf8mb4 
  COLLATE utf8mb4_unicode_ci;

-- æª¢æŸ¥æ˜¯å¦å­˜åœ¨
CREATE DATABASE IF NOT EXISTS myapp_db;
```

### åˆ—å‡ºè³‡æ–™åº?
```sql
SHOW DATABASES;
```

### ä½¿ç”¨è³‡æ–™åº?
```sql
USE myapp_db;
```

### åˆªé™¤è³‡æ–™åº?
```sql
DROP DATABASE myapp_db;
DROP DATABASE IF EXISTS myapp_db;
```

---

## è¡¨æ ¼æ“ä½œ

### å»ºç«‹è¡¨æ ¼

```sql
CREATE TABLE users (
  id INT AUTO_INCREMENT PRIMARY KEY,
  username VARCHAR(50) NOT NULL UNIQUE,
  email VARCHAR(100) NOT NULL UNIQUE,
  password VARCHAR(255) NOT NULL,
  status VARCHAR(20) DEFAULT 'active',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### å¸¸è¦‹è³‡æ–™é¡å‹

| é¡åˆ¥ | é¡å‹ |
|------|------|
| æ•¸å€?| INT, BIGINT, FLOAT, DOUBLE |
| å­—ä¸² | CHAR, VARCHAR, TEXT |
| æ—¥æœŸ | DATE, DATETIME, TIMESTAMP |

### åˆ—å‡ºè¡¨æ ¼

```sql
SHOW TABLES;
DESCRIBE users;
```

### ä¿®æ”¹è¡¨æ ¼

```sql
-- æ–°å¢æ¬?ALTER TABLE users ADD COLUMN phone VARCHAR(20);

-- åˆªé™¤æ¬?ALTER TABLE users DROP COLUMN phone;

-- æ–°å¢ç´¢å¼•
ALTER TABLE users ADD INDEX idx_email(email);
```

### åˆªé™¤è¡¨æ ¼

```sql
DROP TABLE users;
DROP TABLE IF EXISTS users;
```

---

## å¢åˆªæ”¹æŸ¥

### INSERT - æ’å…¥

```sql
-- æ’å…¥å–®ç­†
INSERT INTO users (username, email, password) 
VALUES ('john', 'john@example.com', 'hashed_password');

-- æ’å…¥å¤šç­†
INSERT INTO users (username, email, password) VALUES 
  ('john', 'john@example.com', 'pass1'),
  ('jane', 'jane@example.com', 'pass2');
```

### SELECT - æŸ¥è©¢

```sql
-- æŸ¥è©¢æ‰€æœ?SELECT * FROM users;

-- æŸ¥è©¢æŒ‡å®šæ¬?SELECT username, email FROM users;

-- æ¢ä»¶æŸ¥è©¢
SELECT * FROM users WHERE status = 'active';

-- æ’åº
SELECT * FROM users ORDER BY created_at DESC;

-- åˆ†é 
SELECT * FROM users LIMIT 10 OFFSET 0;
```

### UPDATE - æ›´æ–°

```sql
UPDATE users 
SET email = 'new@example.com' 
WHERE id = 1;
```

### DELETE - åˆªé™¤

```sql
DELETE FROM users WHERE id = 1;
DELETE FROM users WHERE status = 'inactive';
```

---

## ä½¿ç”¨è€…å’Œæ¬Šé™

### å»ºç«‹ä½¿ç”¨è€?
```sql
CREATE USER 'app_user'@'localhost' IDENTIFIED BY 'password';
```

### æˆäºˆæ¬Šé™

```sql
-- æˆäºˆæ‰€æœ‰æ¬Šé™?GRANT ALL PRIVILEGES ON myapp_db.* TO 'app_user'@'localhost';

-- æˆäºˆç‰¹å®šæ¬Šé™
GRANT SELECT, INSERT, UPDATE, DELETE ON myapp_db.* TO 'app_user'@'localhost';
```

### å¸¸è¦‹æ¬Šé™

| æ¬Šé™ | èªªæ˜ |
|------|------|
| ALL PRIVILEGES | æ‰€æœ‰æ¬Šé™?|
| SELECT | è®€å?|
| INSERT | æ’å…¥ |
| UPDATE | æ›´æ–° |
| DELETE | åˆªé™¤ |

### æ’¤éŠ·æ¬Šé™

```sql
REVOKE DELETE ON myapp_db.* FROM 'app_user'@'localhost';
```

### åˆªé™¤ä½¿ç”¨è€?
```sql
DROP USER 'app_user'@'localhost';
```

---

## å‚™ä»½å’Œæ¢å¾?
### å‚™ä»½è³‡æ–™åº?
```bash
# å‚™ä»½å–®å€‹è³‡æ–™åº«
mysqldump -u root -p myapp_db > backup.sql

# å‚™ä»½æ‰€æœ‰è³‡æ–™åº«
mysqldump -u root -p --all-databases > full_backup.sql

# å£“ç¸®å‚™ä»½
mysqldump -u root -p myapp_db | gzip > backup.sql.gz
```

### æ¢å¾©è³‡æ–™åº?
```bash
# å¾å‚™ä»½æ¢å¾?mysql -u root -p myapp_db < backup.sql

# å¾å£“ç¸®å‚™ä»½æ¢å¾?gunzip < backup.sql.gz | mysql -u root -p
```

---

## å„ªåŒ–

### ç´¢å¼•å„ªåŒ–

```sql
-- å»ºç«‹ç´¢å¼•
CREATE INDEX idx_email ON users(email);

-- æŸ¥çœ‹ç´¢å¼•
SHOW INDEX FROM users;

-- åˆªé™¤ç´¢å¼•
DROP INDEX idx_email ON users;
```

### æŸ¥è©¢å„ªåŒ–

```sql
-- åˆ†ææŸ¥è©¢
EXPLAIN SELECT * FROM users WHERE email = 'john@example.com';
```

---

## å¸¸ç”¨ç¯„ä¾‹

### åˆ†é æŸ¥è©¢

```sql
SELECT * FROM users 
ORDER BY created_at DESC 
LIMIT 10 OFFSET 0;
```

### çµ±è¨ˆæ•¸é‡

```sql
SELECT COUNT(*) FROM users;
SELECT COUNT(*) FROM users WHERE status = 'active';
```

---

## æ•…éšœæ’é™¤

### é€£ç·šå•é¡Œ

```bash
# æª¢æŸ¥ MySQL ç‹€æ…?sudo systemctl status mysql

# æª¢æŸ¥é€£æ¥åŸ?netstat -tulpn | grep 3306
```

### æ—¥èªŒæª”æ¡ˆ

```bash
# éŒ¯èª¤æ—¥èªŒ
tail -f /var/log/mysql/error.log
```

---

## ä¸‹ä¸€æ­?
- æ¢ç´¢ [MySQL Workbench](https://www.mysql.com/products/workbench/) åœ–å½¢ä»‹é¢å·¥å…·
- å­¸ç¿’ MySQL å¢é›†è¤‡è£½
- é–±è®€ MySQL æ•ˆèƒ½å„ªåŒ–æ–‡æª”

