# frp - 简介

frp（Fast Reverse Proxy）是一款高性能的开源内网穿透工具，使用 Go 语言开发，能够将本地服务通过公网服务器暴露到公网，让外部用户可以访问内网资源。

## 什么是内网穿透？

在日常工作和生活中，我们经常遇到这样的情况：
- 公司内网部署了 Web 应用，需要在家访问
- 开发了本地服务想让朋友测试，但服务部署在家里
- 需要远程控制不在同一网络的电脑
- 将内网数据库暴露给外部访问

这些场景的共同点是：**服务在内网，无法直接从公网访问**。frp 就是为了解决这个痛点而生的。

## 核心工作原理

frp 采用典型的「客户端-服务端」架构：

```
[内网服务] <---> [frpc 客户端] <---> [frps 服务端] <---> [公网用户]
   本地端口      连接到服务端      监听公网端口      访问服务
```

1. **frps（frp Server）**：部署在有公网 IP 的服务器上，监听端口等待客户端连接
2. **frpc（frp Client）**：部署在内网的机器上，将本地服务映射到服务端

## 支持的协议

frp 支持多种协议，能够满足各种内网穿透需求：

| 协议类型 | 说明 | 典型应用场景 |
|---------|------|-------------|
| TCP | 通用 TCP 协议 | SSH、远程桌面、数据库 |
| UDP | 用户数据报协议 | DNS、视频流 |
| HTTP | 超文本传输协议 | Web 网站 |
| HTTPS | 安全 HTTP 协议 | 安全的 Web 服务 |
| STCP | Secret TCP，需要预共享密钥 | 安全要求高的内部服务 |
| XTCP | P2P 模式，直连不经过服务器 | 大流量传输 |

## 主要特性

### 1. 高性能
- 支持 TCP 流复用，减少连接开销
- 支持 KCP 协议，降低延迟 30%-40%
- 支持 QUIC 协议，新一代 UDP 多路复用

### 2. 高可用
- 支持连接池，预建连接减少延迟
- 支持健康检查，自动剔除故障节点
- 支持负载均衡，多个客户端分担流量

### 3. 安全可靠
- 支持 Token 认证
- 支持 OIDC 开放式身份认证
- 支持 TLS 加密传输
- 支持 HTTP Basic Auth 密码保护

### 4. 功能丰富
- 支持热更新配置，无需重启
- 提供 Web 控制面板
- 支持 Prometheus 监控
- 支持插件扩展

### 5. 简单易用
- 配置简洁，学习成本低
- 支持 TOML、YAML、JSON 多种配置格式
- 跨平台支持（Linux、Windows、macOS、ARM）

## 典型应用场景

### 远程办公
- 远程 SSH 登录公司内网服务器
- 远程桌面控制内网电脑
- 访问公司内部 Web 系统

### 开发测试
- 本地 Web 项目让同事或客户预览
- 微信公众号开发回调验证
- API 接口让外部服务调用

### 物联网
- 远程管理部署在异地的设备
- 实时查看监控视频流
- 远程控制智能家居设备

### 数据服务
- 临时暴露内网数据库给外部使用
- 远程运维数据库
- 搭建私有云存储

## 与同类工具对比

| 特性 | frp | ngrok |_nat123 |
|------|-----|-------|---------|
| 开源免费 | ✅ | ❌ 付费版 | 部分免费 |
| 自建服务 | ✅ | 可自建 | ❌ |
| 多协议支持 | ✅ | ✅ | ✅ |
| 性能 | 高 | 高 | 中 |
| 配置复杂度 | 低 | 中 | 中 |

## 版本说明

frp 目前有两个主要版本：
- **v0.x**：稳定版本，广泛使用
- **v2.x**：开发中，不兼容 v1，暂未正式发布

当前推荐使用 v0.x 最新版本（v0.52.0+），新版本已默认启用 TLS 加密。

## 相关资源

- 官方网站：https://gofrp.org
- GitHub 仓库：https://github.com/fatedier/frp
- 最新版本：https://github.com/fatedier/frp/releases
- 问题反馈：https://github.com/fatedier/frp/issues
