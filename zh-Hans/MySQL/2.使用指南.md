# MySQL ä½¿ç”¨æŒ‡å—

é«˜æ•ˆä½¿ç”¨ MySQL çš„å®Œæ•´æŒ‡å—ã€?
---

## ç›®å½•

- [åŸºæœ¬æ¦‚å¿µ](#åŸºæœ¬æ¦‚å¿µ)
- [æ•°æ®åº“æ“ä½œ](#æ•°æ®åº“æ“ä½?
- [è¡¨æ“ä½œ](#è¡¨æ“ä½?
- [å¢åˆ æ”¹æŸ¥](#å¢åˆ æ”¹æŸ¥)
- [ç”¨æˆ·å’Œæƒé™](#ç”¨æˆ·å’Œæƒé™?
- [å¤‡ä»½å’Œæ¢å¤](#å¤‡ä»½å’Œæ¢å¤?
- [ä¼˜åŒ–](#ä¼˜åŒ–)
- [å¸¸ç”¨ç¤ºä¾‹](#å¸¸ç”¨ç¤ºä¾‹)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

---

## åŸºæœ¬æ¦‚å¿µ

### ä»€ä¹ˆæ˜¯ MySQLï¼?
MySQL æ˜¯ä¸€ä¸ªåŸºäº?SQL çš„å¼€æºå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿã€?
### å…³é”®æœ¯è¯­

| æœ¯è¯­ | è¯´æ˜ |
|------|------|
| æ•°æ®åº?| ç»“æ„åŒ–çš„æ•°æ®é›†åˆ |
| è¡?| è¡Œå’Œåˆ—çš„é›†åˆ |
| è¡?| å•æ¡è®°å½• |
| åˆ?| å±æ€?å­—æ®µ |
| ä¸»é”® | å”¯ä¸€æ ‡è¯†ç¬?|
| ç´¢å¼• | åŠ é€ŸæŸ¥è¯?|

### è¿æ¥ MySQL

```bash
# ä½¿ç”¨ç”¨æˆ·åè¿æ?mysql -u username -p

# è¿æ¥æŒ‡å®šæ•°æ®åº?mysql -u username -p database_name

# è¿æ¥è¿œç¨‹ MySQL
mysql -h hostname -u username -p database_name
```

---

## æ•°æ®åº“æ“ä½?
### åˆ›å»ºæ•°æ®åº?
```sql
-- åŸºç¡€åˆ›å»º
CREATE DATABASE myapp_db;

-- æŒ‡å®šå­—ç¬¦é›?CREATE DATABASE myapp_db 
  CHARACTER SET utf8mb4 
  COLLATE utf8mb4_unicode_ci;

-- æ£€æŸ¥æ˜¯å¦å­˜åœ?CREATE DATABASE IF NOT EXISTS myapp_db;
```

### åˆ—å‡ºæ•°æ®åº?
```sql
SHOW DATABASES;
```

### ä½¿ç”¨æ•°æ®åº?
```sql
USE myapp_db;
```

### åˆ é™¤æ•°æ®åº?
```sql
DROP DATABASE myapp_db;
DROP DATABASE IF EXISTS myapp_db;
```

---

## è¡¨æ“ä½?
### åˆ›å»ºè¡?
```sql
CREATE TABLE users (
  id INT AUTO_INCREMENT PRIMARY KEY,
  username VARCHAR(50) NOT NULL UNIQUE,
  email VARCHAR(100) NOT NULL UNIQUE,
  password VARCHAR(255) NOT NULL,
  status VARCHAR(20) DEFAULT 'active',
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### å¸¸è§æ•°æ®ç±»å‹

| ç±»åˆ« | ç±»å‹ |
|------|------|
| æ•°å€?| INT, BIGINT, FLOAT, DOUBLE |
| å­—ç¬¦ä¸?| CHAR, VARCHAR, TEXT |
| æ—¥æœŸ | DATE, DATETIME, TIMESTAMP |

### åˆ—å‡ºè¡?
```sql
SHOW TABLES;
DESCRIBE users;
```

### ä¿®æ”¹è¡?
```sql
-- æ·»åŠ åˆ?ALTER TABLE users ADD COLUMN phone VARCHAR(20);

-- åˆ é™¤åˆ?ALTER TABLE users DROP COLUMN phone;

-- æ·»åŠ ç´¢å¼•
ALTER TABLE users ADD INDEX idx_email(email);
```

### åˆ é™¤è¡?
```sql
DROP TABLE users;
DROP TABLE IF EXISTS users;
```

---

## å¢åˆ æ”¹æŸ¥

### INSERT - æ’å…¥

```sql
-- æ’å…¥å•æ¡
INSERT INTO users (username, email, password) 
VALUES ('john', 'john@example.com', 'hashed_password');

-- æ’å…¥å¤šæ¡
INSERT INTO users (username, email, password) VALUES 
  ('john', 'john@example.com', 'pass1'),
  ('jane', 'jane@example.com', 'pass2');
```

### SELECT - æŸ¥è¯¢

```sql
-- æŸ¥è¯¢æ‰€æœ?SELECT * FROM users;

-- æŸ¥è¯¢æŒ‡å®šåˆ?SELECT username, email FROM users;

-- æ¡ä»¶æŸ¥è¯¢
SELECT * FROM users WHERE status = 'active';

-- æ’åº
SELECT * FROM users ORDER BY created_at DESC;

-- åˆ†é¡µ
SELECT * FROM users LIMIT 10 OFFSET 0;
```

### UPDATE - æ›´æ–°

```sql
UPDATE users 
SET email = 'new@example.com' 
WHERE id = 1;
```

### DELETE - åˆ é™¤

```sql
DELETE FROM users WHERE id = 1;
DELETE FROM users WHERE status = 'inactive';
```

---

## ç”¨æˆ·å’Œæƒé™?
### åˆ›å»ºç”¨æˆ·

```sql
CREATE USER 'app_user'@'localhost' IDENTIFIED BY 'password';
```

### æˆäºˆæƒé™

```sql
-- æˆäºˆæ‰€æœ‰æƒé™?GRANT ALL PRIVILEGES ON myapp_db.* TO 'app_user'@'localhost';

-- æˆäºˆç‰¹å®šæƒé™
GRANT SELECT, INSERT, UPDATE, DELETE ON myapp_db.* TO 'app_user'@'localhost';
```

### å¸¸è§æƒé™

| æƒé™ | è¯´æ˜ |
|------|------|
| ALL PRIVILEGES | æ‰€æœ‰æƒé™?|
| SELECT | è¯»å– |
| INSERT | æ’å…¥ |
| UPDATE | æ›´æ–° |
| DELETE | åˆ é™¤ |

### æ’¤é”€æƒé™

```sql
REVOKE DELETE ON myapp_db.* FROM 'app_user'@'localhost';
```

### åˆ é™¤ç”¨æˆ·

```sql
DROP USER 'app_user'@'localhost';
```

---

## å¤‡ä»½å’Œæ¢å¤?
### å¤‡ä»½æ•°æ®åº?
```bash
# å¤‡ä»½å•ä¸ªæ•°æ®åº?mysqldump -u root -p myapp_db > backup.sql

# å¤‡ä»½æ‰€æœ‰æ•°æ®åº“
mysqldump -u root -p --all-databases > full_backup.sql

# å‹ç¼©å¤‡ä»½
mysqldump -u root -p myapp_db | gzip > backup.sql.gz
```

### æ¢å¤æ•°æ®åº?
```bash
# ä»å¤‡ä»½æ¢å¤?mysql -u root -p myapp_db < backup.sql

# ä»å‹ç¼©å¤‡ä»½æ¢å¤?gunzip < backup.sql.gz | mysql -u root -p
```

---

## ä¼˜åŒ–

### ç´¢å¼•ä¼˜åŒ–

```sql
-- åˆ›å»ºç´¢å¼•
CREATE INDEX idx_email ON users(email);

-- æŸ¥çœ‹ç´¢å¼•
SHOW INDEX FROM users;

-- åˆ é™¤ç´¢å¼•
DROP INDEX idx_email ON users;
```

### æŸ¥è¯¢ä¼˜åŒ–

```sql
-- åˆ†ææŸ¥è¯¢
EXPLAIN SELECT * FROM users WHERE email = 'john@example.com';
```

---

## å¸¸ç”¨ç¤ºä¾‹

### åˆ†é¡µæŸ¥è¯¢

```sql
SELECT * FROM users 
ORDER BY created_at DESC 
LIMIT 10 OFFSET 0;
```

### ç»Ÿè®¡æ•°é‡

```sql
SELECT COUNT(*) FROM users;
SELECT COUNT(*) FROM users WHERE status = 'active';
```

---

## æ•…éšœæ’é™¤

### è¿æ¥é—®é¢˜

```bash
# æ£€æŸ?MySQL çŠ¶æ€?sudo systemctl status mysql

# æ£€æŸ¥ç«¯å?netstat -tulpn | grep 3306
```

### æ—¥å¿—æ–‡ä»¶

```bash
# é”™è¯¯æ—¥å¿—
tail -f /var/log/mysql/error.log
```

---

## ä¸‹ä¸€æ­?
- æ¢ç´¢ [MySQL Workbench](https://www.mysql.com/products/workbench/) å›¾å½¢ç•Œé¢å·¥å…·
- å­¦ä¹  MySQL é›†ç¾¤å¤åˆ¶
- é˜…è¯» MySQL æ€§èƒ½ä¼˜åŒ–æ–‡æ¡£

