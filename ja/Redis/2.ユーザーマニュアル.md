# Redis ユーザーマニュアル

このガイドでは、Redisの詳細な使用方法について説明します。

## 基本的な操作

### 文字列

```bash
# 設定と取得
SET name "John"
GET name

# 数値の操作
INCR counter
DECR counter
SET number 10
INCRBY number 5
```

### リスト

```bash
# リストに追加
LPUSH mylist "first"
RPUSH mylist "last"

# 要素を取得
LRANGE mylist 0 -1

# ポップ
LPOP mylist
RPOP mylist
```

### セット

```bash
# セットに追加
SADD myset "member1"
SADD myset "member2"

# メンバー取得
SMEMBERS myset

# セット演算
SINTER set1 set2
SUNION set1 set2
SDIFF set1 set2
```

### ハッシュ

```bash
# ハッシュに設定
HSET user:1 name "John"
HSET user:1 age "30"
HSET user:1 city "Tokyo"

# ハッシュから取得
HGET user:1 name
HGETALL user:1
```

### ソート済みセット

```bash
# スコア付きで追加
ZADD leaderboard 100 "player1"
ZADD leaderboard 200 "player2"
ZADD leaderboard 150 "player3"

# ランキング取得
ZRANGE leaderboard 0 -1 WITHSCORES
```

## 高度な機能

### トランザクション

```bash
MULTI
SET key1 "value1"
SET key2 "value2"
EXEC
```

### パブリッシュ/サブスクライブ

```bash
# チャンネルにサブスクライブ
SUBSCRIBE news

# チャンネルにパブリッシュ
PUBLISH news "Hello subscribers"
```

### Luaスクリプト

```bash
EVAL "return redis.call('get', KEYS[1])" 1 mykey
```

## パフォーマンス最適化

### パイプライン処理

```bash
# 複数のコマンドを一度に送信
PIPELINE
SET key1 "value1"
GET key1
SET key2 "value2"
GET key2
EXEC
```

### メモリ最適化

- 適切なデータ構造を使用
- キーを短くする
- データを圧縮

## セキュリティ

### パスワード認証

```bash
redis-cli
AUTH yourpassword
```

### SSL/TLS

設定ファイルでTLSを有効にします。

## バックアップとリストア

### RDBスナップショット

```bash
# 手動で保存
BGSAVE

# リストア
redis-server --dir /path/to/dump.rdb
```

## 監視とデバッグ

### INFOコマンド

```bash
INFO
INFO memory
INFO stats
```

### 遅いクエリログ

```bash
SLOWLOG GET 10
```

## 次のステップ

- 公式ドキュメントで詳細な情報を確認
- クラスタリングの設定を学ぶ
- Redis Stackの追加機能を探索
