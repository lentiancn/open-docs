# Guide d'utilisation du JDK

Ce guide explique comment utiliser le JDK pour le développement Java.

## Démarrage rapide

### Compiler et exécuter

```bash
# Compiler
javac HelloWorld.java

# Exécuter
java HelloWorld
```

### Exécution d'un fichier unique (JDK 11+)

```bash
# Exécuter directement
java HelloWorld.java
```

## Commandes de base

### javac - Compilateur Java

```bash
# Compiler un fichier
javac MyClass.java

# Compiler plusieurs fichiers
javac *.java

# Compiler avec un encodage spécifique
javac -encoding UTF-8 MyClass.java

# Compiler vers un répertoire spécifique
javac -d bin MyClass.java

# Afficher tous les avertissements
javac -Xlint MyClass.java
```

### java - Lanceur Java

```bash
# Exécuter une classe
java MyClass

# Exécuter avec des arguments
java MyClass arg1 arg2

# Définir le classpath
java -classpath "lib/*:." MyClass

# Définir la mémoire
java -Xmx2g -Xms512m MyClass
```

### jar - Archive Java

```bash
# Créer un JAR
jar cf myapp.jar -C bin .

# Créer un JAR avec un manifeste
jar cfm myapp.jar manifest.txt -C bin .

# Extraire un JAR
jar xf myapp.jar

# Lister le contenu d'un JAR
jar tf myapp.jar
```

### javadoc - Générateur de documentation

```bash
# Générer la documentation
javadoc -d docs -sourcepath src *.java

# Générer avec un titre personnalisé
javadoc -d docs -header "My App" *.java
```

### jdb - Débogueur Java

```bash
# Démarrer le débogueur
jdb MyClass

# Définir des points d'arrêt
stop at MyClass:10

# Exécuter
run

# Avancer pas à pas
next
step
```

## Options JVM

### Options mémoire

```bash
# Taille du tas
-Xmx2g        # Tas maximum
-Xms512m      # Tas initial
-Xss256k      # Taille de la pile

# Ramasse-miettes
-XX:+UseG1GC  # Collecteur G1
-XX:+UseParallelGC # GC parallèle
```

### Options de performance

```bash
# Compilateur JIT
-XX:+TieredCompilation

# Partage des données de classe
-Xshare:on

# Déduplication des chaînes
-XX:+UseStringDeduplication
```

## Intégration IDE

### IntelliJ IDEA

1. File → Project Structure → SDKs
2. Ajouter le chemin d'installation du JDK
3. Définir Project SDK

### VS Code

1. Installer "Extension Pack for Java"
2. Configurer JAVA_HOME dans les paramètres

### Eclipse

1. Window → Preferences → Java → Installed JREs
2. Ajouter Standard VM
3. Définir par défaut

## Outils de build

### Maven

```xml
<properties>
    <maven.compiler.source>21</maven.compiler.source>
    <maven.compiler.target>21</maven.compiler.target>
</properties>
```

### Gradle

```groovy
sourceCompatibility = '21'
targetCompatibility = '21'
```

## Modules (Java 9+)

### Lister les modules

```bash
java --list-modules
```

### Options de module

```bash
# Exporter un package
--export-module java.base/java.lang

# Ouvrir un module
--open-module java.base
```

## Sécurité

### Keytool

```bash
# Générer une paire de clés
keytool -genkeypair -alias mykey -keyalg RSA -keystore keystore.jks

# Lister les certificats
keytool -list -keystore keystore.jks

# Exporter un certificat
keytool -export -alias mykey -file cert.crt -keystore keystore.jks
```

## Profilage

### jcmd

```bash
# Lister les processus Java en cours
jcmd

# Obtenir les infos du processus
jcmd <pid> VM.flags

# Déclencher le GC
jcmd <pid> GC.run
```

### jvisualvm

```bash
# Lancer VM visuelle
jvisualvm
```

## Bonnes pratiques

### 1. Utiliser LTS pour la production

```bash
# Recommandé: JDK 17 ou 21 pour la production
```

### 2. Définir une mémoire appropriée

```bash
# Pour applications web
java -Xmx4g -Xms2g -XX:+UseG1GC MyApp
```

### 3. Activer les logs GC

```bash
# Activer le logging GC
-Xlog:gc*:file=gc.log:time,uptime,level,tags
```

## Ressources complémentaires

- [Documentation Oracle Java](https://docs.oracle.com/en/java/)
- [Documentation API JDK](https://docs.oracle.com/en/java/javase/21/docs/api/)
