# Guía de Instalación de FantasyTalking

FantasyTalking es una herramienta de generación de talking head impulsada por IA que crea videos realistas de talking head a partir de una sola imagen y audio.

## Información de Versión

| Versión | Estado | Descripción |
|---------|--------|-------------|
| FantasyTalking v1.0 | ✅ Actual | Lanzamiento inicial |

## Requisitos del Sistema

### Requisitos de Hardware

| Requisito | Mínimo | Recomendado |
|-------------|---------|-------------|
| GPU | NVIDIA 4GB VRAM | NVIDIA 8GB+ VRAM |
| RAM | 8GB | 16GB+ |
| Almacenamiento | 10GB | 20GB+ SSD |

### Requisitos de Software

| Software | Versión |
|----------|---------|
| Python | 3.8+ |
| CUDA | 11.0+ |
| cuDNN | 8.0+ |

## Métodos de Instalación

### Método 1: Desde el Código Fuente

#### 1. Clonar el Repositorio

```bash
git clone https://github.com/FantasyTalking/FantasyTalking.git
cd FantasyTalking
```

#### 2. Crear Entorno Virtual

```bash
python -m venv venv
source venv/bin/activate  # Linux/macOS
# o
venv\Scripts\activate  # Windows
```

#### 3. Instalar Dependencias

```bash
pip install torch torchvision
pip install -r requirements.txt
```

#### 4. Descargar Modelos

```bash
# Descargar modelos preentrenados
bash scripts/download_models.sh
```

### Método 2: Docker

```bash
# Extraer imagen
docker pull fantasytalking/fantasytalking:latest

# Ejecutar
docker run --gpus all -v /path/to/data:/data fantasytalking/fantasytalking:latest
```

## Configuración

### Variables de Entorno

```bash
export CUDA_VISIBLE_DEVICES=0
export PYTHONPATH=/path/to/FantasyTalking:$PYTHONPATH
```

### Rutas de Modelos

Editar `config.yaml` para establecer las rutas de los modelos:

```yaml
model:
  checkpoint_path: "checkpoints/fantasytalking.pth"
  face_parser: "models/face_parser.pth"
```

## Inicio Rápido

### Generar Talking Head

```bash
python inference.py \
  --source_image path/to/image.jpg \
  --audio path/to/audio.wav \
  --output output.mp4
```

### Parámetros

```bash
--source_image    # Imagen de rostro de origen
--audio          # Archivo de audio de entrada
--output         # Ruta del video de salida
--face enhancer  # Habilitar mejora de rostro
--fps            # FPS de salida (predeterminado: 25)
```

## Problemas Comunes

### ¿GPU No Disponible?

Verificar instalación de CUDA:

```bash
nvidia-smi
python -c "import torch; print(torch.cuda.is_available())"
```

### ¿Memoria Agotada?

Reducir tamaño de lote o usar menor resolución.

## Enlaces Relacionados

- [FantasyTalking GitHub](https://github.com/FantasyTalking/FantasyTalking)
- [Artículo](https://arxiv.org/abs/)
