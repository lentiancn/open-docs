# OpenClaw 常见问题

## 基础问题

### 1. 什么是 OpenClaw？

OpenClaw 是一个自托管的网关软件，它将 WhatsApp、Telegram、Discord、iMessage 等聊天应用连接到 AI 编程助手（如 Pi、Claude）。你可以理解为：它是你的聊天软件和 AI 助手之间的"桥梁"。

### 2. OpenClaw 和其他 AI 聊天工具有什么区别？

- **自托管**：数据保存在你自己的电脑上，不上传到云端
- **多平台**：一个软件同时支持多个聊天平台
- **开源免费**：MIT 许可证，完全免费使用
- **可定制**：高度可配置，支持插件和自定义代理

### 3. OpenClaw 安全吗？

OpenClaw 非常注重安全性：

- 所有数据存储在本地
- 支持白名单限制访问
- 群聊支持 @提及规则
- API 密钥不会泄露
- 开源透明，可自行审计代码

### 4. 使用 OpenClaw 需要多少钱？

OpenClaw 本身是免费的，但你需要：

- 一台电脑或服务器运行 Gateway
- AI 服务的 API 密钥（如 Anthropic、OpenAI）
- 如果使用 WhatsApp Business API 可能需要付费

### 5. OpenClaw 支持哪些平台？

- **操作系统**：macOS、Linux、Windows
- **聊天软件**：WhatsApp、Telegram、Discord、iMessage、Mattermost（插件）
- **移动端**：iOS、Android（通过配对节点）

## 安装问题

### 6. 安装失败怎么办？

常见原因和解决方法：

1. **Node 版本过低**
   ```bash
   node --version  # 确认是 22 或更高
   # 如果过低，使用 nvm 升级
   nvm install 22
   nvm use 22
   ```

2. **权限问题**
   ```bash
   # Linux/macOS 可能需要 sudo
   sudo npm install -g openclaw@latest
   ```

3. **网络问题**
   - 检查是否能访问 npm 仓库
   - 尝试使用国内镜像

### 7. 端口被占用怎么办？

18789 端口被其他程序占用：

```bash
# 查看占用进程
lsof -i :18789

# 使用其他端口
openclaw gateway --port 18889
```

### 8. 如何升级 OpenClaw？

```bash
npm install -g openclaw@latest
```

### 9. 如何卸载 OpenClaw？

```bash
# 卸载 npm 包
npm uninstall -g openclaw

# 删除配置（可选）
rm -rf ~/.openclaw
```

## 配置问题

### 10. 如何配置 API 密钥？

```bash
# 设置 Anthropic (Claude) API 密钥
openclaw config set providers.anthropic.key <你的密钥>

# 设置 OpenAI API 密钥
openclaw config set providers.openai.key <你的密钥>
```

### 11. 配置文件在哪里？

默认位置：`~/.openclaw/openclaw.json`

### 12. 如何限制只有特定用户能使用？

配置白名单：

```bash
openclaw security allow +15555550123
```

或者编辑配置文件：

```json
{
  "channels": {
    "whatsapp": {
      "allowFrom": ["+15555550123"]
    }
  }
}
```

### 13. 群聊中如何只响应 @提及？

```json
{
  "channels": {
    "whatsapp": {
      "groups": {
        "群组ID": {
          "requireMention": true
        }
      }
    }
  }
}
```

## 使用问题

### 14. Gateway 无法启动怎么办？

1. 检查状态：
   ```bash
   openclaw status
   ```

2. 查看日志：
   ```bash
   openclaw logs
   ```

3. 常见错误：
   - API 密钥未配置
   - 端口被占用
   - 配置文件格式错误

### 15. WhatsApp 登录失败怎么办？

1. 重新运行登录：
   ```bash
   openclaw channels login
   ```

2. 检查网络连接

3. 确认 WhatsApp 版本

### 16. 消息发不出去怎么办？

1. 检查通道状态：
   ```bash
   openclaw channels status
   ```

2. 确认目标用户是否在白名单

3. 查看错误日志

### 17. 如何查看聊天记录？

```bash
# 列出会话
openclaw sessions list

# 查看消息历史
openclaw sessions history --session-id <会话ID>
```

### 18. 如何创建多个会话？

OpenClaw 默认会为每个发送者创建独立会话。如果需要手动创建：

```bash
openclaw sessions create --user <用户ID>
```

## 功能问题

### 19. 如何使用多个 AI 代理？

在配置文件中设置：

```json
{
  "agents": {
    "coding": {
      "provider": "anthropic",
      "model": "claude-3-opus"
    },
    "general": {
      "provider": "openai",
      "model": "gpt-4"
    }
  }
}
```

### 20. 如何实现代理路由？

根据关键词自动选择代理：

```bash
openclaw routing add --pattern "编程" --agent coding
openclaw routing add --pattern "写诗" --agent poet
```

### 21. 支持语音消息吗？

是的，OpenClaw 支持：

- 接收语音消息（自动转录）
- 发送语音消息

### 22. 支持图片吗？

是的，支持：

- 接收图片
- 发送图片
- 图片对话（GPT-4V 等）

## 移动端问题

### 23. 如何配对手机？

```bash
# 生成配对码
openclaw nodes pair

# 在手机上安装 OpenClaw 应用
# 输入配对码完成配对
```

### 24. 移动节点有什么用？

配对后，手机可以：

- 发送消息到 Gateway
- 接收 AI 响应
- 使用 Canvas 功能

### 25. 手机无法配对怎么办？

1. 确保手机和 Gateway 在同一网络
2. 检查防火墙设置
3. 确认配对码正确
4. 尝试重新生成配对码

## 性能问题

### 26. 响应速度慢怎么办？

1. 检查网络连接
2. 使用更快的 API 服务
3. 减少会话历史长度
4. 检查系统资源

### 27. 如何优化性能？

- 使用本地模型（如果支持）
- 减少并发会话数
- 启用缓存
- 使用更快的 API 密钥

## 开发者问题

### 28. 如何开发插件？

参考官方插件开发文档：

```bash
# 克隆源码
git clone https://github.com/openclaw/openclaw.git

# 查看插件示例
ls plugins/
```

### 29. API 接口有哪些？

OpenClaw 提供 REST API：

- `GET /api/health` - 健康检查
- `GET /api/channels` - 通道列表
- `GET /api/sessions` - 会话列表
- `POST /api/message` - 发送消息

### 30. 如何贡献代码？

1. Fork 官方仓库
2. 创建功能分支
3. 提交 Pull Request
4. 等待代码审查

## 更多帮助

如果遇到本文未涵盖的问题，可以参考以下资源：

- 官方文档：https://docs.openclaw.ai
- GitHub：https://github.com/openclaw/openclaw
- Discord 社区：https://discord.com/invite/clawd
- 问题反馈：https://github.com/openclaw/openclaw/issues
