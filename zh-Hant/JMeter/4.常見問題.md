# JMeter 常見問題

## 一般問題

### 什麼是 Apache JMeter？
Apache JMeter 是一款專為負載測試和效能測量而設計的開源軟體。它是一個 100% 純 Java 應用程式，可以測試功能行為和測量效能。

### JMeter 支援哪些通訊協定？
JMeter 支援多種通訊協定：
- HTTP/HTTPS
- SOAP/REST Web 服務
- FTP
- JDBC（資料庫）
- LDAP
- JMS（訊息導向中介軟體）
- SMTP/POP3/IMAP（郵件）
- TCP
- Java 物件

### JMeter 是瀏覽器嗎？
不是，JMeter 不是瀏覽器。它在通訊協定層級運作，不會執行 HTML 頁面中的 JavaScript，也不會像真正的瀏覽器一樣呈現 HTML 頁面。

## 安裝問題

### 系統需求是什麼？
- Java 8 或更高版本
- 建議至少 4GB RAM
- 相容作業系統：Windows、Linux、macOS

### 如何安裝 JMeter？
1. 從 https://jmeter.apache.org/ 下載
2. 解壓縮存檔
3. 執行 jmeter.sh（Linux/Mac）或 jmeter.bat（Windows）

### 為什麼 JMeter 啟動不了？
- 檢查 Java 是否已安裝：`java -version`
- 檢查 JAVA_HOME 是否已設定
- 檢查連接埠是否有衝突

### 如何增加 JMeter 的記憶體？
編輯 jmeter 啟動指令碼並修改 HEAP 變數：
```bash
HEAP="-Xms1g -Xmx4g"
```

## 使用問題

### 如何建立基本的測試計劃？
1. 新增執行緒群組
2. 新增 HTTP 請求取樣器
3. 新增監聽器（結果樹狀圖、摘要報告）
4. 執行測試

### 什麼是執行緒群組？
執行緒群組定義了一組將執行相同測試的虛擬使用者。它控制：
- 執行緒數量（使用者）
- 加速時間
- 循環次數

### 如何從回應中擷取資料？
使用擷取器：
- JSON 擷取器用於 JSON 回應
- XPath 擷取器用於 XML/HTML
- 正規表示式擷取器用於任何文字

### 如何參數化測試？
使用變數和函數：
- `${variable}` 用於變數參照
- `${__Random(1,100)}` 用於隨機值
- `${__time()}`

### JMeter 可以處理驗證嗎？
可以，JMeter 支援：
- 基本驗證
- NTLM 驗證
- Cookie 管理員
- 授權管理員

## 效能問題

### JMeter 可以模擬多少使用者？
數量取決於您的硬體。經過適當調校：
- GUI 模式：100-300 位使用者
- CLI 模式：1000+ 位使用者
- 分散式測試：10,000+ 位使用者

### 什麼是分散式測試？
分散式測試使用多台機器來產生更多負載。一個主伺服器協調多個從屬伺服器。

### 如何以無頭模式執行 JMeter？
```bash
jmeter -n -t testplan.jmx -l results.jtl
```

## 疑難排解

### 測試期間發生 OutOfMemoryError
- 增加堆積大小
- 減少執行緒數量
- 使用 CLI 模式而非 GUI 模式
- 停用不必要的監聽器

### 結果未顯示
- 檢查測試是否正在執行
- 檢查監聽器是否已附加到正確的項目
- 檢查日誌檔案中是否有錯誤

### 回應時間過高
- 檢查您的網路
- 驗證伺服器效能
- 如果伺服器不堪負荷，請減少負載

### 如何對我的測試計劃進行除錯？
1. 使用結果樹狀圖監聽器
2. 啟用除錯日誌記錄
3. 從單一執行緒開始
4. 檢查斷言

## 最佳實踐

1. 始終使用 CLI 模式進行負載測試
2. 從低負載開始並逐漸增加
3. 使用斷言來驗證回應
4. 測試後進行清理（tearDown）
5. 將測試計劃存放在版本控制中
6. 監控系統資源

## 資源

- 官方文件：https://jmeter.apache.org/usermanual/
- JMeter Wiki：https://cwiki.apache.org/confluence/display/JMETER/Home
- Stack Overflow：搜尋「apache-jmeter」
