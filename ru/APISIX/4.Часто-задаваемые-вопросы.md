# Часто задаваемые вопросы об Apache APISIX

## Основы

### 1. Что такое APISIX?

APISIX — это облачный API-шлюз с динамическим управлением трафиком.

### 2. APISIX vs Nginx

APISIX построен на Nginx с поддержкой горячего обновления без перезагрузки.

### 3. Зависимости

- etcd: хранение конфигурации
- Lua: логика плагинов
- Nginx: обработка HTTP

### 4. Производительность

18 000 QPS на ядро, задержка <0.2мс

## Установка

### 5. Ошибка Quickstart

- Проверить Docker
- Проверить порты
- Проверить сеть

### 6. Изменение портов

Изменить в docker-compose.yml или config.yaml

### 7. Обновление

```bash
docker pull apache/apisix:new-version
```

## Конфигурация

### 8. Admin-ключ

Изменить в config.yaml

### 9. HTTPS

Использовать плагин acme или ручные сертификаты

### 10. Несколько доменов

Использовать поле "hosts"

## Функции

### 11. Canary Release

Плагин traffic-split с весами

### 12. Circuit Breaker

Пассивные health checks

### 13. CORS

Плагин cors

### 14. Ограничение частоты

Плагины limit-count, limit-req, limit-conn

### 15. Аутентификация

Создать consumer + активировать плагин

## Мониторинг

### 16. Prometheus

Активировать плагин prometheus

### 17. Логи

Плагины http-logger, kafka-logger

## Безопасность

### 18. Рекомендации

- Сменить ключи по умолчанию
- Ограничить доступ к admin
- Использовать HTTPS
- Регулярно обновлять

## Устранение проблем

### 19. Ошибка 404

- Маршрут существует?
- URI совпадает?
- Backend доступен?

### 20. Ошибка 503

- Backend работает?
- Сеть OK?
- Health checks слишком строгие?

### 21. Просмотр логов

```bash
docker logs apisix
```

## Помощь

- Документация: https://apisix.apache.org/docs/
- GitHub: https://github.com/apache/apisix
- Slack: https://apisix.apache.org/slack
