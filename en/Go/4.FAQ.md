# Go FAQ

> Frequently Asked Questions

---

## Installation

### Windows: go command not found?

**Solution**: Add `C:\Go\bin` to your PATH environment variable.

### macOS: brew install fails?

**Solution**:
1. Ensure Homebrew is installed
2. Run `brew update`
3. Try: `brew install go --cask`

### Linux: go not found after install?

**Solution**:
1. Verify installation path (`/usr/local/go`)
2. Check environment variables
3. Run: `source ~/.bashrc`

---

## Environment

### Go Modules proxy?

**China (recommended)**:

```bash
go env -w GOPROXY=https://goproxy.cn,direct
```

### What is GOPATH?

GOPATH is Go's workspace directory. Default:
- Linux/macOS: `$HOME/go`
- Windows: `C:\Users\username\go`

---

## Development

### "cannot find package" error?

**Solution**:
1. Ensure project uses Go Modules
2. Run `go mod init`
3. Run `go mod tidy`

### := vs var?

- `var`: Explicit declaration, can be used outside functions
- `:=`: Short declaration, only inside functions, compiler infers type

### What is nil?

nil is Go's zero value for pointers, slices, maps, channels, functions, and interfaces.

```go
var p *int  // nil
var s []int // nil
```

---

## Concurrency

### Goroutine leak?

Ensure goroutines exit:

```go
func worker(ctx context.Context) {
    for {
        select {
        case <-ctx.Done():
            return
        default:
            // work
        }
    }
}
```

### Read from closed channel?

Yes, reads return zero values.

```go
ch := make(chan int, 3)
ch <- 1
ch <- 2
close(ch)

for v := range ch {
    fmt.Println(v)
}
```

---

## Performance

### Optimize Go program?

1. `go build -ldflags="-s -w"` - Reduce binary size
2. Avoid unnecessary allocations
3. Use sync.Pool
4. Use pprof

### Using pprof?

```bash
go tool pprof http://localhost:6060/debug/pprof/heap
go test -cpuprofile=cpu.out ./...
go tool pprof cpu.out
```

---

## Tools

### GoLand vs VS Code?

- **GoLand**: Full-featured, intelligent, paid
- **VS Code**: Free, lightweight

### Format code?

```bash
go fmt ./...
```

### Run tests?

```bash
go test ./...
go test -v ./...
go test -cover ./...
```

---

## Resources

- Official docs: https://go.dev/doc/
- Go by Example: https://gobyexample.com/
