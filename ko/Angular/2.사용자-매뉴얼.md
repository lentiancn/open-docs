# Angular 사용자 매뉴얼

이 매뉴얼은 Angular 개발의 모든 측면을 다룹니다.

---

## 목차

1. [소개](#소개)
2. [프로젝트 구조](#프로젝트-구조)
3. [컴포넌트](#컴포넌트)
4. [템플릿](#템플릿)
5. [서비스](#서비스)
6. [라우팅](#라우팅)
7. [폼](#폼)
8. [HTTP 클라이언트](#http-클라이언트)
9. [상태 관리](#상태-관리)
10. [테스트](#테스트)
11. [빌드 및 배포](#빌드-및-배포)
12. [모범 사례](#모범-사례)

---

## 소개

Angular는 Google에서 개발한 최신 SPA(싱글 페이지 애플리케이션)를 만들기 위한 TypeScript 기반 오픈소스 웹 프레임워크입니다.

### 주요 기능

- 컴포넌트 기반 아키텍처
- 양방향 데이터 바인딩
- 의존성 주입
- 라우팅
- 유효성 검사가 있는 폼
- HTTP 클라이언트
- 내장된 테스트
- 크로스 플랫폼

---

## 프로젝트 구조

```
my-app/
├── src/
│   ├── app/
│   │   ├── components/
│   │   ├── services/
│   │   ├── models/
│   │   ├── app.component.ts
│   │   ├── app.config.ts
│   │   └── app.routes.ts
│   ├── assets/
│   └── styles.css
├── angular.json
├── package.json
└── tsconfig.json
```

---

## 컴포넌트

### 생성

```bash
ng generate component components/user-list
# 또는
ng g c components/user-list
```

### 예제

```typescript
import { Component, Input, Output, EventEmitter } from '@angular/core';

@Component({
  selector: 'app-user-card',
  templateUrl: './user-card.component.html'
})
export class UserCardComponent {
  @Input() user: User | null = null;
  @Output() delete = new EventEmitter<number>();

  onDelete() {
    if (this.user) {
      this.delete.emit(this.user.id);
    }
  }
}
```

###生命周期 후크

```typescript
ngOnInit() { }
ngOnDestroy() { }
ngAfterViewInit() { }
```

### 독립 컴포넌트 (Angular 14+)

```typescript
@Component({
  selector: 'app-standalone',
  standalone: true,
  imports: [CommonModule],
  template: `<h1>{{ title }}</h1>`
})
export class StandaloneComponent {
  title = '독립';
}
```

---

## 템플릿

### 문법

```html
<!-- 보간 -->
<h1>안녕하세요, {{ name }}님!</h1>

<!-- 속성 바인딩 -->
<img [src]="imageUrl">

<!-- 이벤트 바인딩 -->
<button (click)="onClick()">클릭</button>

<!-- 양방향 바인딩 -->
<input [(ngModel)]="username">
```

### 구조 디렉티브

```html
<div *ngIf="isLoggedIn">환영합니다!</div>

<li *ngFor="let user of users">{{ user.name }}</li>
```

### 파이프

```html
<p>{{ today | date:'fullDate' }}</p>
<p>{{ price | currency:'KRW' }}</p>
```

---

## 서비스

### 생성

```bash
ng generate service services/user
```

### 예제

```typescript
import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable } from 'rxjs';

@Injectable({ providedIn: 'root' })
export class UserService {
  constructor(private http: HttpClient) {}

  getUsers(): Observable<User[]> {
    return this.http.get<User[]>('https://api.example.com/users');
  }
}
```

---

## 라우팅

### 라우트 정의

```typescript
import { Routes } from '@angular/router';

export const routes: Routes = [
  { path: '', redirectTo: '/home', pathMatch: 'full' },
  { path: 'home', loadComponent: () => import('./home/home.component').then(m => m.HomeComponent) },
  { path: '**', loadComponent: () => import('./not-found/not-found.component').then(m => m.NotFoundComponent) }
];
```

### 라우트 파라미터

```typescript
constructor(private route: ActivatedRoute) {}

ngOnInit() {
  this.route.paramMap.subscribe(params => {
    const id = params.get('id');
  });
}
```

### 가드

```typescript
@Injectable({ providedIn: 'root' })
export class AuthGuard implements CanActivate {
  canActivate(): boolean {
    return true;
  }
}
```

---

## 폼

### 템플릿 기반 폼

```typescript
@Component({
  selector: 'app-login',
  template: `
    <form #form="ngForm" (ngSubmit)="onSubmit(form)">
      <input [(ngModel)]="user.email" name="email" required>
      <button type="submit" [disabled]="form.invalid">로그인</button>
    </form>
  `
})
export class LoginComponent {
  user = { email: '' };
}
```

### 반응형 폼

```typescript
this.form = this.fb.group({
  username: ['', Validators.required],
  email: ['', [Validators.required, Validators.email]],
  password: ['', [Validators.required, Validators.minLength(8)]]
});
```

---

## HTTP 클라이언트

### 설정

```typescript
import { provideHttpClient } from '@angular/common/http';

export const appConfig: ApplicationConfig = {
  providers: [provideHttpClient()]
};
```

### 메서드

```typescript
this.http.get<User[]>(url).subscribe();
this.http.post<User>(url, data).subscribe();
this.http.put<User>(`${url}/${id}`, data).subscribe();
this.http.delete(`${url}/${id}`).subscribe();
```

---

## 상태 관리

### BehaviorSubject

```typescript
@Injectable({ providedIn: 'root' })
export class CartService {
  private items$ = new BehaviorSubject<CartItem[]>([]);
  
  getItems() { return this.items$.asObservable(); }
  addItem(item: CartItem) {
    this.items$.next([...this.items$.value, item]);
  }
}
```

### Signals (Angular 16+)

```typescript
count = signal(0);
doubled = computed(() => this.count() * 2);
increment() { this.count.update(c => c + 1); }
```

---

## 테스트

### 단위 테스트

```typescript
import { ComponentFixture, TestBed } from '@angular/core/testing';

describe('UserListComponent', () => {
  let component: UserListComponent;
  let fixture: ComponentFixture<UserListComponent>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      declarations: [UserListComponent]
    }).compileComponents();

    fixture = TestBed.createComponent(UserListComponent);
    component = fixture.componentInstance;
  });

  it('생성되어야 함', () => {
    expect(component).toBeTruthy();
  });
});
```

---

## 빌드 및 배포

### 개발
```bash
ng build
ng serve
```

### 프로덕션
```bash
ng build --configuration production
```

### 배포

**Netlify:**
```bash
npm install -g netlify-cli
netlify deploy --prod --dir=dist/your-app
```

**Docker:**
```dockerfile
FROM node:18-alpine as build
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build -- --configuration production

FROM nginx:alpine
COPY --from=build /app/dist/your-app/browser /usr/share/nginx/html
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

---

## 모범 사례

1. OnPush 변경 감지 사용
2. *ngFor에서 trackBy 구현
3. 라우트_lazy 로딩 사용
4. 상태에 signals 사용
5. observable에 async pipe 사용

---

## 리소스

- 웹사이트: https://angular.io/
- 문서: https://angular.io/docs
- CLI: https://angular.io/cli
- GitHub: https://github.com/angular/angular

---

*최종 업데이트: 2024*
