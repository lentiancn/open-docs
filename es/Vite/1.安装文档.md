# Guía de Instalación de Vite

Vite es la nueva generación de herramientas de construcción de front-end. Esta guía cubre los métodos de instalación en todos los entornos.

## Información de versión

| Versión | Estado | Descripción |
|---------|--------|--------------|
| Vite 5.x | ✅ Actual | Última versión estable |
| Vite 4.x | ✅ Soportado | Versión estable |
| Vite 3.x | ⚠️ Mantenimiento | Actualizaciones de seguridad |
| Vite 2.x | ❌ Obsoleto | No recomendado para nuevos proyectos |

> **Importante**: Esta guía está orientada principalmente a **Vite 5.x**. Se recomienda usar la última versión para nuevos proyectos.

## Requisitos previos

### Requisitos del sistema

| Requisito | Versión |
|-----------|---------|
| Node.js | 18.0.0+ |
| npm | 8.0.0+ |

### Navegadores soportados

| Navegador | Versión |
|-----------|---------|
| Chrome | 80+ |
| Firefox | 80+ |
| Safari | 14+ |
| Edge | 80+ |

## Métodos de instalación

### Método 1: Usar npm para crear un proyecto (Recomendado)

```bash
# Crear proyecto Vue
npm create vite@latest my-vue-app -- --template vue

# Crear proyecto React
npm create vite@latest my-react-app -- --template react

# Crear proyecto Vanilla JS
npm create vite@latest my-vanilla-app -- --template vanilla

# Crear proyecto Svelte
npm create vite@latest my-svelte-app -- --template svelte

# Crear proyecto Preact
npm create vite@latest my-preact-app -- --template preact
```

### Método 2: Instalación global

```bash
# Instalar Vite
npm install -g create-vite

# Crear proyecto
create-vite my-app --template vue
```

### Método 3: Usar yarn

```bash
# Crear proyecto Vue
yarn create vite my-vue-app --template vue

# Crear proyecto React
yarn create vite my-react-app --template react
```

### Método 4: Usar pnpm

```bash
# Crear proyecto Vue
pnpm create vite my-vue-app --template vue
```

### Método 5: Creación manual

```bash
# Crear directorio del proyecto
mkdir my-vite-project
cd my-vite-project

# Inicializar npm
npm init -y

# Instalar Vite
npm install vite --save-dev

# Instalar Vue
npm install vue
```

## Estructura del proyecto

```
my-vite-project/
├── public/
│   └── favicon.ico
├── src/
│   ├── main.js
│   ├── App.vue
│   └── style.css
├── index.html
├── package.json
└── vite.config.js
```

## Archivos de configuración

### vite.config.js

```javascript
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()],
  server: {
    port: 3000,
    open: true,
  },
  build: {
    outDir: 'dist',
    sourcemap: true,
  },
})
```

### Variables de entorno

```
# .env
VITE_APP_TITLE=My App
VITE_API_URL=https://api.example.com
```

### Configuración de producción

```javascript
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()],
  build: {
    outDir: 'dist',
    sourcemap: false,
    minify: 'terser',
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['vue', 'vue-router'],
        },
      },
    },
  },
})
```

## Comandos de desarrollo

### Comandos comunes

```bash
# Iniciar servidor de desarrollo
npm run dev

# Construir versión de producción
npm run build

# Previsualizar versión de producción
npm run preview

# Ejecutar pruebas
npm run test

# Verificación de tipos
npm run typecheck
```

### Scripts de package.json

```json
{
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "test": "vitest",
    "typecheck": "vue-tsc --noEmit"
  }
}
```

## Configuración de plugins

### Plugin de Vue

```bash
npm install @vitejs/plugin-vue
```

```javascript
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()],
})
```

### Plugin de React

```bash
npm install @vitejs/plugin-react
```

```javascript
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
})
```

### Procesamiento de imágenes

```bash
npm install -D vite-plugin-imagemin
```

```javascript
import viteImagemin from 'vite-plugin-imagemin'

export default defineConfig({
  plugins: [
    viteImagemin({
      pngquant: [10],
      jpegoptim: true,
    }),
  ],
})
```

## Configuración de estilos

### CSS

```javascript
export default defineConfig({
  css: {
    preprocessorOptions: {
      css: {
        charset: false,
      },
    },
  },
})
```

### Sass

```bash
npm install -D sass
```

```javascript
export default defineConfig({
  css: {
    preprocessorOptions: {
      scss: {
        additionalData: `@import "@/styles/variables.scss";`,
      },
    },
  },
})
```

### PostCSS

```bash
npm install -D autoprefixer postcss
```

```javascript
// postcss.config.js
export default {
  plugins: {
    autoprefixer: {},
  },
}
```

## Configuración de proxy

```javascript
export default defineConfig({
  server: {
    proxy: {
      '/api': {
        target: 'http://localhost:8080',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, ''),
      },
    },
  },
})
```

## Optimización de rendimiento

### División de código

```javascript
export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          'vendor': ['vue', 'vue-router', 'pinia'],
        },
      },
    },
  },
})
```

### Minificación

```bash
npm install -D terser
```

```javascript
export default defineConfig({
  build: {
    minify: 'terser',
    terserOptions: {
      compress: {
        drop_console: true,
      },
    },
  },
})
```

### Inline de recursos

```javascript
export default defineConfig({
  build: {
    assetsInlineLimit: 4096,
  },
})
```

## Preguntas frecuentes

### ¿La construcción falla?

Asegúrate de que todas las dependencias estén instaladas:

```bash
npm install
```

### ¿El hot reload no funciona?

Verifica la configuración de devServer:

```javascript
export default defineConfig({
  server: {
    hmr: true,
  },
})
```

### ¿Necesitas alias de ruta?

Configura resolve.alias:

```javascript
import path from 'path'

export default defineConfig({
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
})
```

## Enlaces relacionados

- [Documentación oficial de Vite](https://vitejs.dev/)
- [Documentación de Vite en español](https://es.vitejs.dev/)
- [Awesome Vite](https://github.com/vitejs/awesome-vite)
