# Nginx 使用指南

高效使用 Nginx 的完整指南。

---

## 基本概念

### 什麼是 Nginx？

Nginx 是一個高性能的 HTTP 伺服器和反向代理伺服器。

### 關鍵術語

| 術語 | 說明 |
|------|------|
| Worker Process | 處理請求的工作進程 |
| Server Block | 虛擬主機配置 |
| Location | URL 路徑匹配 |
| Upstream | 後端伺服器組 |

---

## 伺服器塊

### 基礎伺服器塊

```nginx
server {
    listen 80;
    server_name example.com;

    root /var/www/example.com;
    index index.html;

    location / {
        try_files $uri $uri/ =404;
    }
}
```

---

## 反向代理

### 基礎代理

```nginx
server {
    listen 80;
    server_name api.example.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

---

## 負載均衡

```nginx
upstream backend {
    server backend1.example.com;
    server backend2.example.com;
}

server {
    location / {
        proxy_pass http://backend;
    }
}
```

---

## SSL/TLS

### SSL 配置

```nginx
server {
    listen 443 ssl;
    server_name example.com;

    ssl_certificate /etc/nginx/ssl/cert.pem;
    ssl_certificate_key /etc/nginx/ssl/key.pem;

    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers HIGH:!aNULL:!MD5;
}
```

---

## 性能優化

### Gzip 壓縮

```nginx
http {
    gzip on;
    gzip_types text/plain text/css application/json application/javascript;
}
```

---

## 故障排除

### 查看日誌

```bash
# 錯誤日誌
tail -f /var/log/nginx/error.log

# 訪問日誌
tail -f /var/log/nginx/access.log
```

### 測試配置

```bash
nginx -t
```

---

## 下一步

- 探索 [Nginx 模組](https://nginx.org/en/docs/)
