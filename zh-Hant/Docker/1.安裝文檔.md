# Docker 安裝文檔

本文檔詳細介紹在所有主流平台上安裝 Docker 的方法。

---

## 目錄

- [Docker Desktop（推薦）](#docker-desktop推薦)
- [Linux 系統](#linux-系統)
- [macOS](#macos)
- [Windows](#windows)
- [驗證安裝](#驗證安裝)
- [安裝後配置](#安裝後配置)
- [卸載 Docker](#卸載-docker)

---

## Docker Desktop（推薦）

Docker Desktop 是最簡單的方式，適合 macOS、Windows 和 Linux。

### 系統要求

**macOS:**
- Apple Silicon: macOS 11.0+，至少 4GB RAM
- Intel 晶片: macOS 10.15+，至少 4GB RAM

**Windows:**
- Windows 10/11 64 位元
- WSL2（推薦）或 Hyper-V

**Linux:**
- 主流發行版：Ubuntu、Debian、Fedora、Arch Linux
- 至少 4GB RAM

### 下載地址

- **macOS Apple Silicon**: [Docker Desktop for Mac (ARM64)](https://desktop.docker.com/mac/main/arm64/Docker.dmg)
- **macOS Intel**: [Docker Desktop for Mac (x86_64)](https://desktop.docker.com/mac/main/amd64/Docker.dmg)
- **Windows**: [Docker Desktop for Windows](https://desktop.docker.com/win/main/amd64/Docker%20Desktop%20Installer.exe)

---

## Linux 系統

### Ubuntu

```bash
# 1. 更新軟體包索引
sudo apt update

# 2. 安裝依賴
sudo apt install -y ca-certificates curl gnupg lsb-release

# 3. 新增 Docker 官方 GPG 金鑰
sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
sudo chmod a+r /etc/apt/keyrings/docker.gpg

# 4. 新增 Docker 倉庫
echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# 5. 安裝 Docker
sudo apt update
sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

# 6. 啟動並啟用 Docker
sudo systemctl start docker
sudo systemctl enable docker

# 7. 將目前使用者添加到 docker 組
sudo usermod -aG docker $USER
```

### CentOS/RHEL

```bash
sudo yum install -y yum-utils
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
sudo yum install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
sudo systemctl start docker
sudo systemctl enable docker
```

### Fedora

```bash
sudo dnf -y install dnf-plugins-core
sudo dnf config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo
sudo dnf install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
sudo systemctl start docker
sudo systemctl enable docker
```

---

## macOS

```bash
brew install --cask docker
```

或從下載連結安裝 [Docker Desktop for Mac](https://desktop.docker.com/mac/main/amd64/Docker.dmg)

---

## Windows

### WSL2（推薦）

```powershell
wsl --install
# 重新啟動電腦
sudo apt update
sudo apt install -y docker.io
sudo service docker start
```

### Docker Desktop

1. 下載 [Docker Desktop for Windows](https://desktop.docker.com/win/main/amd64/Docker%20Desktop%20Installer.exe)
2. 執行安裝程式
3. 勾選 "Use WSL2"（推薦）
4. 啟動 Docker Desktop

---

## 驗證安裝

```bash
docker --version
docker compose version
docker run hello-world
```

---

## 安裝後配置

### 配置國內鏡像加速

建立或編輯 `/etc/docker/daemon.json`：

```json
{
  "registry-mirrors": [
    "https://docker.mirrors.ustc.edu.cn",
    "https://hub-mirror.c.163.com"
  ]
}
```

重啟 Docker：
```bash
sudo systemctl daemon-reload
sudo systemctl restart docker
```

---

## 卸載 Docker

### Ubuntu/Debian

```bash
sudo apt purge -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
sudo rm -rf /var/lib/docker
```

### CentOS/RHEL

```bash
sudo yum remove -y docker-ce docker-ce-cli containerd.io
sudo rm -rf /var/lib/docker
```

### macOS

```bash
brew uninstall --cask docker
```

---

## 下一步

- [Docker 使用指南](./2.使用指南.md)
- 訪問 [Docker 官方文檔](https://docs.docker.com/)
