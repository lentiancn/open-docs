# PlantUML 使用ガイド

このガイドでは、PlantUMLを使用してさまざまなUML図を作成方法について説明します。

## クイックスタート

### 基本的な構文

```plantuml
@startuml
Alice -> Bob: Hello
@enduml
```

## シーケンス図

```plantuml
@startuml
actor ユーザー
participant "フロントエンド" as Front
participant "バックエンド" as Back
database "データベース" as DB

ユーザー -> Front: リクエスト送信
Front -> Back: API 呼び出し
Back -> DB: データ照会
DB --> Back: 結果返回
Back --> Front: レスポンス
Front --> ユーザー: 結果表示
@enduml
```

## クラス図

```plantuml
@startuml
class User {
  +id: int
  +username: string
  +email: string
  +login()
  +logout()
}

class Admin extends User {
  +manageUsers()
  +viewReports()
}

class Order {
  +id: int
  +total: decimal
  +createOrder()
  +cancelOrder()
}

User "1" -- "*" Order: places
@enduml
```

## ユースケース図

```plantuml
@startuml
left to right direction
actor ユーザー
rectangle システム {
  ユーザー -> (ログイン)
  ユーザー -> (商品閲覧)
  ユーザー -> (カートに追加)
  ユーザー -> (注文)
  (ログイン) .> (商品閲覧): extends
}
@enduml
```

## 状態図

```plantuml
@startuml
[*] --> 未払い
未払い --> 支払い済み: 支払い成功
支払い済み --> 発送済み: 発送
発送済み --> 配達完了: 配達
配達完了 --> [*]
未払い --> キャンセル: ユーザーキャンセル
キャンセル --> [*]
@enduml
```

## アクティビティ図

```plantuml
@startuml
start
:ショッピング開始;
:商品閲覧;
if (商品が見つかりましたか？) then (はい)
  :カートに追加;
else (いいえ)
  :商品検索;
endif
: checkout;
if (支払い成功？) then (はい)
  :注文成功;
else (いいえ)
  :支払い失敗;
endif
stop
@enduml
```

## コンポーネント図

```plantuml
@startuml
package "フロントエンド" {
  [Web App] as WA
  [Mobile App] as MA
}
package "バックエンド" {
  [API Gateway] as API
  [Auth Service] as Auth
  [Order Service] as Order
}
package "データ" {
  database "MySQL" as DB
  database "Redis" as Cache
}

WA --> API
MA --> API
API --> Auth
API --> Order
Order --> DB
Order --> Cache
@enduml
```

## デプロイメント図

```plantuml
@startuml
node "ユーザー端末" as Client {
  [ブラウザ]
}
node "ロードバランサー" as LB {
  [Nginx]
}
node "アプリケーションサーバー" as App {
  [Tomcat 1]
  [Tomcat 2]
}
node "データベースサーバー" as DB {
  [MySQL]
  [Redis]
}

Client --> LB
LB --> App
App --> DB
@enduml
```

## タイミング図

```plantuml
@startuml
clock "クロック" as C with period 1000
binary "同期" as SY
binary "データ" as DT

C is idle
SY is low
DT is low

@1000
SY is high
@1500
SY is low
@2000
DT is high
@3000
DT is low
@enduml
```

## ガンチャート

```plantuml
@startuml
[設計] lasts 5 days
[開発] lasts 10 days
[テスト] lasts 5 days
[リリース] lasts 3 days

[設計] starts at 2024-01-01
[開発] starts at 2024-01-06
[テスト] starts at 2024-01-16
[リリース] starts at 2024-01-21
@enduml
```

## マインドマップ

```plantuml
@startmindmap
* プロジェクト計画
** 需求分析
*** ユーザーインタビュー
*** 競合分析
** 設計フェーズ
*** UIデザイン
*** アーキテクチャ設計
** 開発フェーズ
*** フロントエンド開発
*** バックエンド開発
** テストフェーズ
*** ユニットテスト
*** 統合テスト
** リリースフェーズ
*** デプロイ
*** 監視
@endmindmap
```

## 一般的なコマンド

### 要素を非表示

```plantuml
@startuml
hide footbox
actor A
participant B
A -> B: メッセージ
@enduml
```

### スタイル設定

```plantuml
@startuml
skinparam backgroundColor #EEEBDC
skinparam handwritten true
skinparam actorStyle awesome

actor User
User -> (ログイン)
@enduml
```

## 関連リソース

- [PlantUML 公式サイト](https://plantuml.com/)
- [PlantUML 構文リファレンス](https://plantuml.com/sitemap-language-specification)
