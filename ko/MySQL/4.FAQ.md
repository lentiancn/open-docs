# MySQL FAQ

이 페이지에서는 MySQL에 대한 자주 묻는 질문에 답변합니다.

---

## 설치

### 어떤 버전의 MySQL을 사용해야 하나요?

프로덕션 환경에서는 MySQL 8.0.x 또는 8.4.x를 권장합니다.

### Windows에 MySQL을 설치하려면?

1. https://dev.mysql.com/downloads/installer/ 에서 MySQL Installer 다운로드
2. 인스톨러 실행
3. "Full" 또는 "Custom" 설치 선택
4. 마법사 따르기

### Docker로 MySQL을 설치하려면?

```bash
docker run -d --name mysql \
  -e MYSQL_ROOT_PASSWORD=비밀번호 \
  -v mysql-data:/var/lib/mysql \
  -p 3306:3306 \
  mysql:8
```

---

## 연결

### 명령줄에서 MySQL에 연결하려면?

```bash
mysql -u root -p
```

### MySQL root 비밀번호를 잊어버렸습니다

**Linux:**
1. MySQL 중지: `sudo systemctl stop mysql`
2. 안전 모드로 시작: `sudo mysqld_safe --skip-grant-tables`
3. 연결: `mysql -u root`
4. 비밀번호 재설정:
```sql
FLUSH PRIVILEGES;
ALTER USER 'root'@'localhost' IDENTIFIED BY '새비밀번호';
```
5. MySQL 재시작

---

## 데이터베이스와 테이블

### 데이터베이스를 생성하려면?

```sql
CREATE DATABASE myapp;
```

### 테이블을 생성하려면?

```sql
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE
);
```

### 모든 테이블을 보려면?

```sql
SHOW TABLES;
```

---

## 데이터 연산

### 데이터를 삽입하려면?

```sql
INSERT INTO users (username, email) VALUES ('kim', 'kim@example.kr');
```

### 데이터를 업데이트하려면?

```sql
UPDATE users SET email = 'new@example.kr' WHERE id = 1;
```

### 데이터를 삭제하려면?

```sql
DELETE FROM users WHERE id = 1;
```

---

## 쿼리

### 테이블을 조인하려면?

```sql
SELECT * FROM orders 
INNER JOIN users ON orders.user_id = users.id;
```

### LIMIT과 OFFSET을 사용하려면?

```sql
SELECT * FROM users LIMIT 10 OFFSET 20;
```

### 행을 카운트하려면?

```sql
SELECT COUNT(*) FROM users;
```

---

## 인덱스

### 인덱스를 생성하려면?

```sql
CREATE INDEX idx_email ON users(email);
```

### 인덱스는 언제 사용해야 하나요?

- WHERE 절의 열
- JOIN 조건의 열
- ORDER BY의 열
- 높은 카디널리티를 가진 열

---

## 성능

### MySQL이 느립니다

1.低速 쿼리 확인: `SHOW FULL PROCESSLIST;`
2. 쿼리 분석: `EXPLAIN SELECT ...`
3. 자주 查询되는 열에 인덱스 추가
4. 구성 최적화

###低速 쿼리 로그를 활성화하려면?

my.cnf에서:
```ini
slow_query_log = 1
slow_query_log_file = /var/log/mysql/slow.log
long_query_time = 2
```

---

## 백업 및 복원

### 데이터베이스를 백업하려면?

```bash
mysqldump -u root -p myapp > backup.sql
```

### 데이터베이스를 복원하려면?

```bash
mysql -u root -p myapp < backup.sql
```

---

## 사용자 관리

### 새 사용자를 생성하려면?

```sql
CREATE USER 'username'@'localhost' IDENTIFIED BY 'password';
```

### 권한을 부여하려면?

```sql
GRANT SELECT, INSERT, UPDATE ON myapp.* TO 'username'@'localhost';
```

---

## 오류 및 문제 해결

### "Too many connections"

my.cnf에서 max_connections 증가:
```ini
max_connections = 300
```

### "Table is full"

- 디스크 공간 확인
- InnoDB tablespace 크기 증가

### "Out of memory"

- 버퍼 풀 크기 증가
- 쿼리 최적화
- RAM 추가

---

## 자료

- 공식 문서: https://dev.mysql.com/doc/
- MySQL 포럼: https://forums.mysql.com/
