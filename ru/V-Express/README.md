# V-Express

V-Express — это метод генерации портретных видео, разработанный Tencent AI Lab. Он создаёт видео говорящих голов под управлением референсного изображения, аудио и последовательностей V-Kps.

## Обзор

V-Express создаёт высококачественные видео говорящих голов с помощью:
- Управления референсным изображением
- Синхронизации губ на основе аудио
- Управления позой через последовательность V-Kps
- Прогрессивного отсева для балансировки управляющих сигналов

## Документация

- [Руководство по установке](./1.安装文档.md) - Настройка на всех платформах
- [Руководство по использованию](./2.使用指南.md) - Как использовать V-Express

## Быстрый старт

### Установка

```bash
git clone https://github.com/tencent-ailab/V-Express.git
cd V-Express

# Создание виртуальной среды
python -m venv venv
source venv/bin/activate

# Установка зависимостей
pip install -r requirements.txt

# Загрузка моделей
git lfs install
git clone https://huggingface.co/tk93/V-Express
mv V-Express/model_ckpts model_ckpts
```

### Генерация видео

```bash
python inference.py \
  --reference_image_path "./test_samples/ref.jpg" \
  --audio_path "./test_samples/audio.mp3" \
  --output_path "./output/result.mp4" \
  --retarget_strategy "no_retarget" \
  --num_inference_steps 25
```

## Функции

- **Аудио-управляемая анимация** - Генерация говорящей головы из аудио
- **Управление референсным изображением** - Сохранение идентичности референсного лица
- **Управление V-Kps** - Точное управление позой
- **Несколько стратегий** - Различные варианты ретаргетинга
- **Оптимизация памяти** - Поддержка более длинных видео
- **Настраиваемые веса** - Тонкая настройка баланса референс/аудио

## Системные требования

### Аппаратное обеспечение

| Компонент | Минимум | Рекомендуется |
|-----------|---------|---------------|
| GPU | 16GB VRAM | 24GB+ VRAM |
| RAM | 16GB | 32GB+ |
| Накопитель | 50GB | 100GB+ |

### Программное обеспечение

- Python 3.8-3.10
- CUDA 11.8+
- ffmpeg

## Поддерживаемые платформы

- Ubuntu 18.04/20.04/22.04
- Windows 10/11
- macOS 12+

## Требования к вводу

### Референсное изображение
- Формат: JPG, PNG
- Разрешение: 512x512 или выше
- Лицо: Анфас, чёткое

### Аудио
- Формат: MP3, WAV
- Длительность: 1-60 секунд

## Стратегии ретаргетинга

| Стратегия | Вариант использования |
|-----------|----------------------|
| no_retarget | Изображение + видео одного человека |
| fix_face | Любое изображение + аудио |
| offset_retarget | Разные люди с движением |
| naive_retarget | Разные люди полный ретаргетинг |

## Вывод

- Формат: MP4 (H.264)
- Разрешение: 512x512
- Частота кадров: 24-30

## Лицензия

Только для исследовательских целей. Подробности см. на GitHub.

## Ссылки

- [GitHub](https://github.com/tencent-ailab/V-Express)
- [HuggingFace](https://huggingface.co/tk93/V-Express)
- [Статья](https://arxiv.org/abs/2406.02511)
- [Страница проекта](https://tenvence.github.io/p/v-express/)
