# Guide d'installation de Node.js

Node.js est un environnement d'exécution JavaScript basé sur le moteur Chrome V8. Ce guide couvre les méthodes d'installation dans tous les environnements.

## Informations sur les versions

| Version | Statut | Description |
|------|------|------|
| Node.js 22.x | ✅ Actuelle | Dernière version LTS |
| Node.js 20.x | ✅ LTS | Version supportée à long terme |
| Node.js 18.x | ✅ LTS | Version supportée à long terme |
| Node.js 16.x | ⚠️ Maintenance | Mises à jour de sécurité uniquement |
| Node.js 14.x | ❌ Obsolète | Support terminé |

> **Important** : Ce guide est principalement destiné à **Node.js 20.x LTS**. Il est recommandé d'utiliser la version LTS pour les nouveaux projets.

## Méthodes d'installation

### Méthode 1 : Installation sur Windows

#### 1. Utiliser l'installateur (recommandé)

1. Téléchargez l'installateur Node.js : https://nodejs.org/
2. Exécutez l'installateur .msi
3. Suivez l'assistant d'installation

#### 2. Utiliser Chocolatey

```powershell
# Installer Node.js
choco install nodejs

# Installer une version spécifique
choco install nodejs --version=20.10.0
```

#### 3. Utiliser winget

```powershell
# Installer Node.js LTS
winget install OpenJS.NodeJS.LTS

# Installer une version spécifique
winget install OpenJS.NodeJS --version=20.10.0
```

### Méthode 2 : Installation sur macOS

#### 1. Utiliser Homebrew (recommandé)

```bash
# Installer Node.js LTS
brew install node@20

# Démarrer le service
brew services start node@20
```

#### 2. Utiliser nvm

```bash
# Installer nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# Installer Node.js
nvm install 20
nvm use 20
nvm alias default 20
```

#### 3. Utiliser l'installateur

Téléchargez l'installateur macOS : https://nodejs.org/

### Méthode 3 : Installation sur Linux

#### 1. Utiliser le gestionnaire de paquets

**Ubuntu/Debian :**

```bash
# Ajouter le dépôt Node.js
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -

# Installer Node.js
sudo apt-get install -y nodejs
```

**CentOS/RHEL :**

```bash
# Ajouter le dépôt Node.js
curl -fsSL https://rpm.nodesource.com/setup_20.x | sudo bash -

# Installer Node.js
sudo yum install -y nodejs
```

**Fedora :**

```bash
# Ajouter le dépôt Node.js
curl -fsSL https://rpm.nodesource.com/setup_20.x | sudo bash -

# Installer Node.js
sudo dnf install -y nodejs
```

#### 2. Utiliser nvm (recommandé)

```bash
# Installer nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# Installer Node.js
nvm install 20
nvm use 20
```

### Méthode 4 : Utiliser fnm (gestionnaire de versions rapide)

```bash
# Installer fnm
curl -fsSL https://fnm.vercel.app/install | bash

# Installer Node.js
fnm install 20
fnm use 20
fnm default 20
```

### Méthode 5 : Docker

```bash
# Utiliser l'image officielle Node.js
docker pull node:20

# Exécuter le conteneur
docker run -it node:20 node --version
```

#### Exemple de Dockerfile

```dockerfile
FROM node:20-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .

EXPOSE 3000
CMD ["node", "server.js"]
```

## Vérifier l'installation

### Vérifier les versions

```bash
# Vérifier la version de Node.js
node --version

# Vérifier la version de npm
npm --version
```

### Mettre à jour npm

```bash
# Mettre à jour npm vers la dernière version
npm install -g npm
```

## Gestion des paquets

### Commandes npm courantes

```bash
# Initialiser le projet
npm init

# Installer les dépendances
npm install

# Installer les dépendances de production
npm install <paquet>

# Installer les dépendances de développement
npm install <paquet> --save-dev

# Installer globalement
npm install -g <paquet>

# Mettre à jour les dépendances
npm update

# Supprimer les dépendances
npm uninstall <paquet>
```

### Utiliser yarn

```bash
# Installer yarn
npm install -g yarn

# Installer les dépendances
yarn install

# Ajouter une dépendance
yarn add <paquet>

# Installer globalement
yarn global add <paquet>
```

### Utiliser pnpm

```bash
# Installer pnpm
npm install -g pnpm

# Installer les dépendances
pnpm install

# Ajouter une dépendance
pnpm add <paquet>
```

## Configuration de l'environnement

### Utiliser nvm pour gérer plusieurs versions

```bash
# Lister les versions installées
nvm list

# Installer une nouvelle version
nvm install 21

# Changer de version
nvm use 21

# Définir la version par défaut
nvm alias default 20
```

### Configurer les miroirs

```bash
# Configurer le miroir npm
npm config set registry https://registry.npmmirror.com

# Configurer le miroir yarn
yarn config set registry https://registry.npmmirror.com
```

## Problèmes courants

### Les versions de Node.js et npm ne correspondent pas ?

Utilisez nvm pour gérer les versions de manière unifiée :

```bash
nvm use 20
```

### Échec de l'installation (problèmes de permissions) ?

```bash
# Linux/macOS utilisent sudo
sudo npm install -g <paquet>

# Ou réparer les permissions npm
mkdir ~/.npm-global
npm config set prefix '~/.npm-global'
echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.bashrc
source ~/.bashrc
```

### Échec de la compilation ?

Vider le cache :

```bash
npm cache clean --force
```

## Liens utiles

- [Site officiel de Node.js](https://nodejs.org/)
- [Node.js en français](https://nodejs.org/fr/)
- [Documentation officielle npm](https://docs.npmjs.com/)
- [nvm sur GitHub](https://github.com/nvm-sh/nvm)
