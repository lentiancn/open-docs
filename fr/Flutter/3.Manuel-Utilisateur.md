# Flutter - Manuel Utilisateur

Concepts fondamentaux de Flutter et exemples de développement courants.

## Création de Projet

### Créer un nouveau projet

```bash
# Créer un nouveau projet
flutter create mon_app
cd mon_app

# Exécuter le projet
flutter run
```

### Structure du projet

```
mon_app/
├── lib/
│   └── main.dart        # Point d'entrée
├── test/                 # Fichiers de test
├── pubspec.yaml         # Fichier de configuration
├── android/            # Configuration Android
├── ios/                 # Configuration iOS
├── web/                 # Configuration Web
└── README.md
```

## Widgets de Base

### Composant Texte

```dart
import 'package:flutter/material.dart';

Text(
  'Bonjour Flutter',
  style: TextStyle(
    fontSize: 24,
    color: Colors.blue,
  ),
)
```

### Boutons

```dart
// Bouton normal
ElevatedButton(
  onPressed: () {},
  child: Text('Cliquer'),
)

// Bouton icône
IconButton(
  icon: Icon(Icons.add),
  onPressed: () {},
)

// Bouton texte
TextButton(
  onPressed: () {},
  child: Texte('Bouton texte'),
)
```

### Images

```dart
// Image locale
Image.asset('assets/image.png')

// Image réseau
Image.network('https://exemple.com/image.png')

// Icône
Icon(Icons.home, size: 48)
```

## Composants de Layout

### Layout Linéaire

```dart
// Layout horizontal
Row(
  children: [
    Text('A'),
    Text('B'),
    Text('C'),
  ],
)

// Layout vertical
Column(
  children: [
    Text('A'),
    Text('B'),
    Text('C'),
  ],
)
```

### Layout Flexible

```dart
// Allocation d'espace flexible
Row(
  children: [
    Expanded(
      flex: 1,
      child: Container(color: Colors.red),
    ),
    Expanded(
      flex: 2,
      child: Container(color: Colors.blue),
    ),
  ],
)
```

### Layout Stack

```dart
Stack(
  children: [
    Container(color: Colors.red),
    Positioned(
      left: 10,
      top: 10,
      child: Text('Superposé'),
    ),
  ],
)
```

## Gestion d'État

### StatefulWidget

```dart
class Compteur extends StatefulWidget {
  @override
  _CompteurState createState() => _CompteurState();
}

class _CompteurState extends State<Compteur> {
  int _compte = 0;

  void _incrementer() {
    setState(() {
      _compte++;
    });
  }

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        Text('Compteur: $_compte'),
        ElevatedButton(
          onPressed: _incrementer,
          child: Text('Incrémenter'),
        ),
      ],
    );
  }
}
```

### Gestion d'État avec Provider

```dart
// Créer Provider
class Compteur extends ChangeNotifier {
  int _compte = 0;
  int get compte => _compte;

  void incrementer() {
    _compte++;
    notifyListeners();
  }
}

// Utiliser Provider
Consumer<Compteur>(
  builder: (context, compteur, child) {
    return Text('${compteur.compte}');
  },
)
```

## Navigation

### Navigation de Base

```dart
// Naviguer vers une nouvelle page
Navigator.push(
  context,
  MaterialPageRoute(builder: (context) => DeuxiemeEcran()),
);

// Retour
Navigator.pop(context);
```

### Configuration des Routes

```dart
// Définir les routes
MaterialApp(
  routes: {
    '/': (context) => PagePrincipale(),
    '/detail': (context) => PageDetail(),
  },
)

// Naviguer
Navigator.pushNamed(context, '/detail');
```

## Requêtes Réseau

### Requête HTTP

```dart
import 'package:http/http.dart' as http;

Future<void> recupererDonnees() async {
  final reponse = await http.get(Uri.parse('https://api.exemple.com/donnees'));
  if (reponse.statusCode == 200) {
    print(reponse.body);
  }
}
```

### Requête Dio

```dart
import 'package:dio/dio.dart';

final dio = Dio();
Reponse reponse = await dio.get('https://api.exemple.com/donnees');
```

## Stockage Local

### SharedPreferences

```dart
import 'package:shared_preferences/shared_preferences.dart';

// Sauvegarder
Future<void> sauvegarderDonnees() async {
  final prefs = await SharedPreferences.getInstance();
  await prefs.setString('nom', 'Flutter');
}

// Charger
Future<void> chargerDonnees() async {
  final prefs = await SharedPreferences.getInstance();
  String nom = prefs.getString('nom') ?? '';
}
```

## Widgets Courants

### Liste

```dart
ListView.builder(
  itemCount: elements.length,
  itemBuilder: (context, index) {
    return ListTile(
      title: Text(elements[index].titre),
    );
  },
)
```

### Formulaire

```dart
TextFormField(
  decoration: InputDecoration(
    labelText: 'Nom utilisateur',
    hintText: 'Entrez le nom',
  ),
  validator: (value) {
    if (value.isEmpty) {
      return 'Veuillez entrer le nom';
    }
    return null;
  },
)
```

### Dialogue

```dart
showDialog(
  context: context,
  builder: (context) => AlertDialog(
    title: Text('Confirmer'),
    content: Text('Voulez-vous vraiment supprimer?'),
    actions: [
      TextButton(
        onPressed: () => Navigator.pop(context),
        child: Text('Annuler'),
      ),
      TextButton(
        onPressed: () => Navigator.pop(context),
        child: Text('Confirmer'),
      ),
    ],
  ),
);
```

## Build et Publication

### APK Android

```bash
# Version debug
flutter build apk --debug

# Version release
flutter build apk --release
```

### iOS

```bash
# Simulateur
flutter build ios --simulator --no-codesign

# Appareil
flutter build ios --release
```

### Web

```bash
flutter build web
```

## Bonnes Pratiques

1. **Utiliser const**: Réduire les reconstructions inutiles
2. **Extraire les Widgets**: Réutiliser le code UI
3. **Layouts appropriés**: Utiliser les composants de layout adaptés
4. **Gestion d'état**: Choisir la solution de gestion d'état appropriée
5. **Gestion des erreurs**: Faire une gestion appropriée des exceptions

## Prochaines Étapes

- FAQ : Voir 4.FAQ.md
