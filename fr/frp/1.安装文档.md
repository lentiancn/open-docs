# frp Guide d'installation

frp est un outil proxy inverse haute performance utilisé pour穿透内网 (percée NAT). Ce guide couvre les méthodes d'installation dans divers environnements.

## Informations de version

| Version | Statut | Description |
|---------|--------|-------------|
| frp 0.51.x | ✅ Actuelle | Dernière version stable |

## Configuration requise

### Configuration matérielle

| Exigence | Configuration |
|----------|---------------|
| CPU | 1+ cœur |
| Mémoire | 64+ Mo |
| Disque | 10+ Mo |

### Configuration logicielle

| Logiciel | Version |
|----------|---------|
| Go | 1.18+ (compilation depuis le source) |

## Méthodes d'installation

### Méthode 1 : Linux/macOS

#### 1. Téléchargement

```bash
# Télécharger la dernière version
wget https://github.com/fatedier/frp/releases/download/v0.51.0/frp_0.51.0_linux_amd64.tar.gz

# Extraire
tar -xzf frp_0.51.0_linux_amd64.tar.gz
cd frp_0.51.0_linux_amd64
```

#### 2. Structure des répertoires

```
frp_0.51.0_linux_amd64/
├── frpc          # Client
├── frpc.ini      # Configuration du client
├── frps          # Serveur
├── frps.ini      # Configuration du serveur
└── systemd/      # Fichiers de service systemd
```

### Méthode 2 : Windows

#### 1. Téléchargement

1. Visitez https://github.com/fatedier/frp/releases
2. Téléchargez la version Windows
3. Extrayez dans le répertoire souhaité

#### 2. Exécution

```powershell
# Serveur
.\frps.exe -c frps.ini

# Client
.\frpc.exe -c frpc.ini
```

### Méthode 3 : Docker

```bash
# Serveur
docker run --network host -d -v ./frps.ini:/etc/frp/frps.ini --name frps fatedier/frps:v0.51.0

# Client
docker run -d -v ./frpc.ini:/etc/frp/frpc.ini --name frpc fatedier/frpc:v0.51.0
```

### Méthode 4 : Compilation depuis le source

```bash
# Cloner le dépôt
git clone https://github.com/fatedier/frp.git

# Compiler
cd frp
make

# Sortie dans le répertoire bin/
```

## Configuration du serveur

### Configuration de base (frps.ini)

```ini
[common]
bind_port = 7000
dashboard_port = 7500
token = your_token_here
dashboard_user = admin
dashboard_pwd = admin

# Journalisation
log_file = ./frps.log
log_level = info
```

### Configuration avancée

```ini
[common]
# Ports
bind_port = 7000
vhost_http_port = 80
vhost_https_port = 443

# Authentification
token = your_token_here

# Pool de connexions
max_pool_count = 5
max_ports_per_client = 0

# Heartbeat
heartbeat_timeout = 90

# Ports client autorisés
allow_ports = 2000-3000,3001,3003,4000-50000
```

### Service systemd

```ini
# /etc/systemd/system/frps.service
[Unit]
Description=frp server
After=network.target

[Service]
Type=simple
User=root
ExecStart=/path/to/frps -c /path/to/frps.ini

[Install]
WantedBy=multi-user.target
```

```bash
# Démarrer le service
sudo systemctl start frps
sudo systemctl enable frps
```

## Configuration du client

### Configuration de base (frpc.ini)

```ini
[common]
server_addr = your_server_ip
server_port = 7000
token = your_token_here

[ssh]
type = tcp
local_ip = 127.0.0.1
local_port = 22
remote_port = 6000
```

### Service HTTP

```ini
[common]
server_addr = your_server_ip
server_port = 7000

[web]
type = http
local_port = 8080
custom_domains = yourdomain.com
```

### Mappage de ports TCP

```ini
[common]
server_addr = your_server_ip
server_port = 7000

[mysql]
type = tcp
local_ip = 127.0.0.1
local_port = 3306
remote_port = 13306
```

### STCP (TCP sécurisé)

```ini
[common]
server_addr = your_server_ip
server_port = 7000

[secret_ssh]
type = stcp
sk = your_secret_key
local_ip = 127.0.0.1
local_port = 22
```

## Foire aux questions

### Échec de connexion ?

1. Vérifiez que le serveur est en cours d'exécution
2. Vérifiez les ports du pare-feu
3. Validez que le token correspond

### Port occupé ?

Modifiez remote_port ou utilisez des ports de plage.

### Problèmes de performance ?

Ajustez la taille du pool de connexions et les paramètres de timeout.

## Liens associés

- [frp GitHub](https://github.com/fatedier/frp)
- [Documentation frp](https://gofrp.org/docs/)
