# Guía de Usuario de JMeter

Esta guía describe cómo usar JMeter para pruebas de rendimiento.

## Inicio Rápido

### Crear un Plan de Prueba

1. Abra JMeter
2. Cree un plan de prueba
3. Agregue un grupo de subprocesos
4. Agregue un sampler
5. Agregue un listener
6. Ejecute la prueba

## Grupos de Subprocesos

### Configurar Grupo de Subprocesos

```
Número de subprocesos：10
 Tiempo de Ramp-Up：5 segundos
 Número de bucles：1
```

### Propiedades de Subprocesos

- Número de subprocesos: Usuarios concurrentes
- Tiempo de Ramp-Up: Tiempo de arranque
- Número de bucles: Ejecuciones por usuario

## Samplers

### Solicitud HTTP

```
Protocolo：http
Nombre del servidor：www.example.com
Ruta：/api/users
Método：GET
```

### Parámetros

- Parámetros de consulta
- Parámetros POST/GET
- Carga de archivos

## Listeners

### Ver Árbol de Resultados

```markdown
- Ver solicitudes y respuestas
- Depurar scripts de prueba
```

### Informe Agregado

```markdown
- Tiempo de respuesta promedio
- Mediana
- Percentil 90%
- Rendimiento
```

### Resultados Gráficos

```markdown
- Visualización del tiempo de respuesta
- Monitoreo en tiempo real
```

## Controladores

### Controladores Lógicos

- Controlador If
- Controlador de Bucle
- Controlador Aleatorio
- Controlador de Transacción

### Uso de Controladores

```bash
# Bucle 5 veces
Loop Controller: 5

# Selección aleatoria
Random Controller
```

## Aserciones

### Aserción de Respuesta

```bash
# Verificar contenido de respuesta
Response Assertion
Pattern: "success"

# Verificar código de respuesta
Response Code: 200
```

### Aserción JSON

```bash
# Verificar valor JSON
JSON Path: $.status
Expected Value: success
```

## Parametrización

### Archivo de Datos CSV

```bash
# Crear archivo CSV
username,password
user1,pass1
user2,pass2
```

### Configuración

```
CSV Data Set Config
Filename: users.csv
Variable Names: username,password
```

### Funciones

- __Random
- __time
- __counter

## Correlación

### Extracción de Expresión Regular

```
Expresión regular：token="(.+?)"
Plantilla：$1$
Número de coincidencia：1
```

### Extracción JSON

```
JSON Path: $.data.token
```

## Pruebas Distribuidas

### Configuración Maestro/Esclavo

```bash
# Configuración de esclavo
remote_hosts=192.168.1.2,192.168.1.3

# Iniciar
jmeter -R 192.168.1.2
```

### Ejecución

```bash
# Ejecución distribuida
jmeter -n -t test.jmx -R server1,server2
```

## Ejecución desde Línea de Comandos

### Comandos Básicos

```bash
# Ejecutar prueba
jmeter -n -t test.jmx -l result.jtl

# Generar informe
jmeter -g result.jtl -o report
```

### Parámetros

```bash
-n Modo no-GUI
-t Archivo de plan de prueba
-l Archivo de resultados
-r Ejecución distribuida
```

## Optimización del Rendimiento

### 1. Usar Aserciones

```bash
# Agregar solo aserciones necesarias
Response Assertion
```

### 2. Optimización de Listeners

```bash
# Reducir listeners en producción
# Usar Simple Data Writer
```

### 3. Calentamiento

```bash
# Calentar antes de pruebas formales
```

## Generación de Informes

### Informe HTML

```bash
jmeter -g result.jtl -o /path/to/report
```

### Dashboard

```bash
# Informe completo
jmeter -n -t test.jmx -l result.jtl -e -o report
```

## Mejores Prácticas

### 1. Diseño de Pruebas

```bash
# Simular comportamiento real del usuario
# Parametrizar datos de prueba
```

### 2. Análisis de Resultados

```bash
# Enfocarse en tiempo de respuesta
# Analizar tasa de errores
```

## Recursos Relacionados

- [Documentación oficial de JMeter](https://jmeter.apache.org/usermanual/)
- [Plugins de JMeter](https://jmeter-plugins.org/)
