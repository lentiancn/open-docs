# Nginx Installation Guide

Comprehensive guide for installing Nginx on all major platforms.

---

## Table of Contents

- [Linux](#linux)
  - [Ubuntu/Debian](#ubuntu--debian)
  - [CentOS/RHEL](#centos--rhel)
  - [Fedora](#fedora)
  - [Arch Linux](#arch-linux)
- [macOS](#macos)
  - [Homebrew](#homebrew)
  - [Source Compile](#source-compile)
- [Windows](#windows)
  - [Binary Package](#binary-package)
  - [Docker](#docker)
- [FreeBSD](#freebsd)
- [Verification](#verification)
- [Configuration](#configuration)
- [Uninstall](#uninstall)

---

## Linux

### Ubuntu / Debian

#### Method 1: APT (Recommended)

```bash
# Update package index
sudo apt update

# Install Nginx
sudo apt install nginx

# Start Nginx
sudo systemctl start nginx

# Enable on boot
sudo systemctl enable nginx
```

#### Method 2: From Source

```bash
# Install dependencies
sudo apt install build-essential libpcre3 libpcre3-dev zlib1g-dev libssl-dev

# Download Nginx
cd /tmp
wget http://nginx.org/download/nginx-1.24.0.tar.gz
tar -zxvf nginx-1.24.0.tar.gz
cd nginx-1.24.0

# Configure and install
./configure --prefix=/usr/local/nginx --with-http_ssl_module
make
sudo make install
```

### CentOS / RHEL

#### Using YUM

```bash
# Install EPEL repository
sudo yum install epel-release

# Install Nginx
sudo yum install nginx

# Start Nginx
sudo systemctl start nginx

# Enable on boot
sudo systemctl enable nginx
```

#### Using DNF

```bash
sudo dnf install nginx
sudo systemctl start nginx
sudo systemctl enable nginx
```

### Fedora

```bash
# Install Nginx
sudo dnf install nginx

# Start Nginx
sudo systemctl start nginx
sudo systemctl enable nginx
```

### Arch Linux

```bash
# Install Nginx
sudo pacman -S nginx

# Start Nginx
sudo systemctl start nginx
sudo systemctl enable nginx
```

### openSUSE

```bash
sudo zypper install nginx
sudo systemctl start nginx
sudo systemctl enable nginx
```

---

## macOS

### Homebrew (Recommended)

```bash
# Install Homebrew (if needed)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Install Nginx
brew install nginx

# Start Nginx
brew services start nginx

# Or run manually
nginx
```

### MacPorts

```bash
sudo port install nginx
sudo port load nginx
```

### From Source

```bash
# Install dependencies
brew install pcre openssl

# Download and compile
cd /tmp
curl -O http://nginx.org/download/nginx-1.24.0.tar.gz
tar -zxvf nginx-1.24.0.tar.gz
cd nginx-1.24.0

./configure --prefix=/usr/local/nginx --with-http_ssl_module
make
sudo make install
```

---

## Windows

### Binary Package

1. Download from [nginx.org](http://nginx.org/en/download.html)
2. Choose `nginx-x.x.x.zip`
3. Extract to `C:\nginx`

#### Commands

```powershell
# Start Nginx
cd C:\nginx
start nginx

# Stop Nginx
nginx -s stop

# Reload config
nginx -s reload

# View version
nginx -v
```

### Docker

```bash
# Run Nginx container
docker run -d -p 80:80 --name nginx nginx:latest

# With custom config
docker run -d -p 80:80 -v /path/to/nginx.conf:/etc/nginx/nginx.conf --name nginx nginx:latest

# With HTML files
docker run -d -p 80:80 -v /path/to/html:/usr/share/nginx/html --name nginx nginx:latest
```

---

## FreeBSD

```bash
# Install via pkg
sudo pkg install nginx

# Or via ports
cd /usr/ports/www/nginx
sudo make install

# Start Nginx
sudo sysrc nginx_enable=yes
sudo service nginx start
```

---

## Verification

```bash
# Check Nginx version
nginx -v

# Check configuration syntax
nginx -t

# Check Nginx status
sudo systemctl status nginx

# Test with curl
curl http://localhost

# Check listening ports
sudo netstat -tulpn | grep nginx
```

---

## Configuration

### Main Config File Locations

| OS | Path |
|----|------|
| Ubuntu/Debian | `/etc/nginx/nginx.conf` |
| CentOS/RHEL | `/etc/nginx/nginx.conf` |
| Fedora | `/etc/nginx/nginx.conf` |
| Arch Linux | `/etc/nginx/nginx.conf` |
| macOS (Homebrew) | `/usr/local/etc/nginx/nginx.conf` |
| Windows | `C:\nginx\conf\nginx.conf` |

### Key Directories

| Directory | Purpose |
|-----------|---------|
| `/etc/nginx/sites-available/` | Available server blocks |
| `/etc/nginx/sites-enabled/` | Enabled server blocks |
| `/var/log/nginx/` | Log files |
| `/var/www/html/` | Default document root |
| `/usr/share/nginx/html/` | Default HTML files |

### Basic Configuration Example

```nginx
worker_processes 1;

events {
    worker_connections 1024;
}

http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    sendfile        on;
    keepalive_timeout  65;

    server {
        listen 80;
        server_name example.com www.example.com;

        root /var/www/example.com;
        index index.html index.htm;

        location / {
            try_files $uri $uri/ =404;
        }

        location /api {
            proxy_pass http://localhost:3000;
        }

        error_page 404 /404.html;
    }
}
```

### Common Commands

```bash
# Test configuration
nginx -t

# Reload configuration
sudo systemctl reload nginx

# Restart Nginx
sudo systemctl restart nginx

# Stop Nginx
sudo systemctl stop nginx

# Start Nginx
sudo systemctl start nginx
```

---

## Uninstall

### Ubuntu/Debian

```bash
sudo apt remove nginx nginx-common nginx-core
sudo apt autoremove
```

### CentOS/RHEL

```bash
sudo yum remove nginx
```

### Fedora

```bash
sudo dnf remove nginx
```

### Arch Linux

```bash
sudo pacman -R nginx
```

### macOS (Homebrew)

```bash
brew uninstall nginx
```

### Windows

```powershell
# Stop Nginx first
nginx -s stop

# Delete the nginx folder
Remove-Item -Recurse C:\nginx
```

---

## Next Steps

- [Usage Guide](./2.Usage-Guide.md)
- Read the [official Nginx documentation](https://nginx.org/en/docs/)
