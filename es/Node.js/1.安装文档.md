# Guía de Instalación de Node.js

Node.js es un entorno de ejecución de JavaScript basado en el motor Chrome V8. Esta guía cubre los métodos de instalación en todos los entornos.

## Información de Versiones

| Versión | Estado | Descripción |
|------|------|------|
| Node.js 22.x | ✅ Actual | Última versión LTS |
| Node.js 20.x | ✅ LTS | Versión de soporte a largo plazo |
| Node.js 18.x | ✅ LTS | Versión de soporte a largo plazo |
| Node.js 16.x | ⚠️ Mantenimiento | Solo actualizaciones de seguridad |
| Node.js 14.x | ❌ Obsoleto | Soporte terminado |

> **Importante**: Esta guía está orientada principalmente a **Node.js 20.x LTS**. Se recomienda usar la versión LTS para nuevos proyectos.

## Métodos de Instalación

### Método 1: Instalación en Windows

#### 1. Usar el Instalador (Recomendado)

1. Descarga el instalador de Node.js: https://nodejs.org/
2. Ejecuta el instalador .msi
3. Sigue el asistente de instalación para completar la instalación

#### 2. Usar Chocolatey

```powershell
# Instalar Node.js
choco install nodejs

# Instalar una versión específica
choco install nodejs --version=20.10.0
```

#### 3. Usar winget

```powershell
# Instalar Node.js LTS
winget install OpenJS.NodeJS.LTS

# Instalar una versión específica
winget install OpenJS.NodeJS --version=20.10.0
```

### Método 2: Instalación en macOS

#### 1. Usar Homebrew (Recomendado)

```bash
# Instalar Node.js LTS
brew install node@20

# Iniciar el servicio
brew services start node@20
```

#### 2. Usar nvm

```bash
# Instalar nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# Instalar Node.js
nvm install 20
nvm use 20
nvm alias default 20
```

#### 3. Usar el Instalador

Descarga el instalador para macOS: https://nodejs.org/

### Método 3: Instalación en Linux

#### 1. Usar el Gestor de Paquetes

**Ubuntu/Debian:**

```bash
# Añadir el repositorio de Node.js
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -

# Instalar Node.js
sudo apt-get install -y nodejs
```

**CentOS/RHEL:**

```bash
# Añadir el repositorio de Node.js
curl -fsSL https://rpm.nodesource.com/setup_20.x | sudo bash -

# Instalar Node.js
sudo yum install -y nodejs
```

**Fedora:**

```bash
# Añadir el repositorio de Node.js
curl -fsSL https://rpm.nodesource.com/setup_20.x | sudo bash -

# Instalar Node.js
sudo dnf install -y nodejs
```

#### 2. Usar nvm (Recomendado)

```bash
# Instalar nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# Instalar Node.js
nvm install 20
nvm use 20
```

### Método 4: Usar fnm (Gestor Rápido de Versiones de Node)

```bash
# Instalar fnm
curl -fsSL https://fnm.vercel.app/install | bash

# Instalar Node.js
fnm install 20
fnm use 20
fnm default 20
```

### Método 5: Docker

```bash
# Usar la imagen oficial de Node.js
docker pull node:20

# Ejecutar el contenedor
docker run -it node:20 node --version
```

#### Ejemplo de Dockerfile

```dockerfile
FROM node:20-alpine

WORKDIR /app

COPY package*.json ./
RUN npm ci --only=production

COPY . .

EXPOSE 3000
CMD ["node", "server.js"]
```

## Verificar la Instalación

### Verificar Versiones

```bash
# Verificar versión de Node.js
node --version

# Verificar versión de npm
npm --version
```

### Actualizar npm

```bash
# Actualizar npm a la última versión
npm install -g npm
```

## Gestión de Paquetes

### Comandos Comunes de npm

```bash
# Inicializar proyecto
npm init

# Instalar dependencias
npm install

# Instalar dependencias de producción
npm install <paquete>

# Instalar dependencias de desarrollo
npm install <paquete> --save-dev

# Instalar globalmente
npm install -g <paquete>

# Actualizar dependencias
npm update

# Eliminar dependencias
npm uninstall <paquete>
```

### Usar yarn

```bash
# Instalar yarn
npm install -g yarn

# Instalar dependencias
yarn install

# Añadir dependencia
yarn add <paquete>

# Instalar globalmente
yarn global add <paquete>
```

### Usar pnpm

```bash
# Instalar pnpm
npm install -g pnpm

# Instalar dependencias
pnpm install

# Añadir dependencia
pnpm add <paquete>
```

## Configuración del Entorno

### Usar nvm para Gestionar Múltiples Versiones

```bash
# Ver versiones instaladas
nvm list

# Instalar nueva versión
nvm install 21

# Cambiar versión
nvm use 21

# Establecer versión predeterminada
nvm alias default 20
```

### Configurar Mirrors

```bash
# Configurar mirror para npm
npm config set registry https://registry.npmmirror.com

# Configurar mirror para yarn
yarn config set registry https://registry.npmmirror.com
```

## Problemas Comunes

### ¿Las versiones de Node.js y npm no coinciden?

Usa nvm para gestionar las versiones de forma unificada:

```bash
nvm use 20
```

### Error de Instalación (Problemas de Permisos)

```bash
# Linux/macOS usa sudo
sudo npm install -g <paquete>

# O corrige los permisos de npm
mkdir ~/.npm-global
npm config set prefix '~/.npm-global'
echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.bashrc
source ~/.bashrc
```

### Error de Compilación

Limpia la caché:

```bash
npm cache clean --force
```

## Enlaces Relacionados

- [Sitio Oficial de Node.js](https://nodejs.org/)
- [Documentación de Node.js en Español](https://nodejs.org/es/)
- [Documentación Oficial de npm](https://docs.npmjs.com/)
- [nvm en GitHub](https://github.com/nvm-sh/nvm)
