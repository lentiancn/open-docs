# JMeter 사용 가이드

이 가이드에서는 JMeter를 사용하여 성능 테스트를 수행하는 방법을 설명합니다.

## 빠른 시작

### 테스트 계획 만들기

1. JMeter 열기
2. 테스트 계획 만들기
3. 스레드 그룹 추가
4. 샘플러 추가
5. 리스너 추가
6. 테스트 실행

## 스레드 그룹

### 스레드 그룹 구성

```
스레드 수：10
 Ramp-Up 시간：5초
 루프 횟수：1
```

### 스레드 속성

- 스레드 수: 동시 사용자 수
- Ramp-Up 시간: 시작 시간
- 루프 횟수: 사용자당 실행 횟수

## 샘플러

### HTTP 요청

```
프로토콜：http
서버 이름：www.example.com
路径：/api/users
메서드：GET
```

### 매개변수

- 쿼리 매개변수
- POST/GET 매개변수
- 파일 업로드

## 리스너

### 결과 트리 보기

```markdown
- 요청 및 응답 보기
- 테스트 스크립트 디버그
```

### 집계 보고서

```markdown
- 평균 응답 시간
- 중앙값
- 90번째 백분위수
- 처리량
```

### 그래픽 결과

```markdown
- 응답 시간 시각화
- 실시간 모니터링
```

## 컨트롤러

### 로직 컨트롤러

- If 컨트롤러
- 루프 컨트롤러
- 랜덤 컨트롤러
- 트랜잭션 컨트롤러

### 컨트롤러 사용

```bash
# 5회 루프
Loop Controller: 5

# 랜덤 선택
Random Controller
```

## 어설션

### 응답 어설션

```bash
# 응답 내용 확인
Response Assertion
Pattern: "success"

# 응답 코드 확인
Response Code: 200
```

### JSON 어설션

```bash
# JSON 값 확인
JSON Path: $.status
Expected Value: success
```

## 매개변수화

### CSV 데이터 파일

```bash
# CSV 파일 만들기
username,password
user1,pass1
user2,pass2
```

### 구성

```
CSV Data Set Config
Filename: users.csv
Variable Names: username,password
```

### 함수

- __Random
- __time
- __counter

## 상관관계

### 정규식 추출

```
정규식：token="(.+?)"
템플릿：$1$
일치 번호：1
```

### JSON 추출

```
JSON Path: $.data.token
```

## 분산 테스트

### 마스터/슬레이브 구성

```bash
# 슬레이브 구성
remote_hosts=192.168.1.2,192.168.1.3

# 시작
jmeter -R 192.168.1.2
```

### 실행

```bash
# 분산 실행
jmeter -n -t test.jmx -R server1,server2
```

## 명령줄 실행

### 기본 명령

```bash
# 테스트 실행
jmeter -n -t test.jmx -l result.jtl

# 보고서 생성
jmeter -g result.jtl -o report
```

### 매개변수

```bash
-n 비 GUI 모드
-t 테스트 계획 파일
-l 결과 파일
-r 분산 실행
```

## 성능 최적화

### 1. 어설션 사용

```bash
# 필요한 어설션만 추가
Response Assertion
```

### 2. 리스너 최적화

```bash
# 프로덕션에서 리스너 줄이기
# Simple Data Writer 사용
```

### 3. 워밍업

```bash
# 본 테스트 전에 워밍업
```

## 보고서 생성

### HTML 보고서

```bash
jmeter -g result.jtl -o /path/to/report
```

### 대시보드

```bash
# 전체 보고서
jmeter -n -t test.jmx -l result.jtl -e -o report
```

## 모범 사례

### 1. 테스트 설계

```bash
# 실제 사용자 행동 시뮬레이션
# 테스트 데이터 매개변수화
```

### 2. 결과 분석

```bash
# 응답 시간에 집중
# 오류율 분석
```

## 관련 자료

- [JMeter 공식 문서](https://jmeter.apache.org/usermanual/)
- [JMeter 플러그인](https://jmeter-plugins.org/)
