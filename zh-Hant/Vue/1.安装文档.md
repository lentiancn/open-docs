# Vue 安裝指南

Vue 是一個用於構建用戶界面的漸進式 JavaScript 框架。

## 版本概述

Vue 有兩個主要版本仍在使用中：

| 版本 | 發布日期 | 狀態 | Vue.js |
|---------|-------------|--------|--------|
| Vue 3 | 2020 年 9 月 | 當前版本 - 推薦使用 | 3.x |
| Vue 2 | 2016 年 10 月 | 舊版（已於 2023 年停用） | 2.x |

**建議：** 所有新項目都使用 Vue 3。Vue 2 已於 2023 年停用。

### 主要差異：Vue 2 與 Vue 3

| 功能 | Vue 2 | Vue 3 |
|---------|-------|-------|
| 架構 | Options API | Composition API + Options API |
| 響應式系統 | Object.defineProperty | Proxy |
| TypeScript | 部分支援 | 完整 TypeScript 支援 |
| 效能 | 良好 | 顯著提升 |
| 套件大小 | 約 20KB 壓縮後 | 約 10KB 壓縮後 |
|生命週期 | created, mounted | setup + onMounted |
| Teleport | 否 | 是 |
| Fragments | 否 | 是 |
| 多根元素 | 否 | 是 |

## 環境要求

### 系統需求

| 需求 | Vue 2 | Vue 3 |
|-------------|-------|-------|
| Node.js | 8.9+ | 16+（建議 18+）|
| npm | 5.6+ | 8+ |
| 瀏覽器支援 | IE9+ | 不支援 IE11 |

### 必要軟體

- **Node.js** - JavaScript 執行環境
- **npm** - 套件管理工具（隨 Node.js 附帶）
- **Git** - 版本控制（可選但建議安裝）

## 安裝方式

### 方法一：使用 npm（推薦）

#### Vue 3（推薦）

```bash
# 建立新的 Vue 專案
npm create vue@latest

# 或使用 Vue CLI（為了 Vue 2 相容性）
npm install -g @vue/cli

# 建立專案
vue create my-vue-app
```

#### Vue 2（旧版）

```bash
# 安裝 Vue CLI
npm install -g @vue/cli

# 建立 Vue 2 專案
vue create my-vue2-app --default

# 或指定 Vue 2 模板
vue init webpack my-vue2-app
```

### 方法二：使用 Vite（Vue 3 推薦）

Vite 是一個現代化的建置工具，提供極快的開發伺服器。

```bash
# 使用 Vite 建立 Vue 3 專案
npm create vite@latest my-vue-app -- --template vue

# 進入專案目錄
cd my-vue-app

# 安裝相依套件
npm install

# 啟動開發伺服器
npm run dev
```

### 方法三：使用 CDN

#### Vue 3 CDN

```html
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>Vue 3 CDN 範例</title>
</head>
<body>
  <div id="app">
    <h1>{{ message }}</h1>
    <button @click="reverseMessage">反轉</button>
  </div>

  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script>
    const { createApp, ref } = Vue
    
    createApp({
      setup() {
        const message = ref('Hello Vue 3!')
        
        const reverseMessage = () => {
          message.value = message.value.split('').reverse().join('')
        }
        
        return { message, reverseMessage }
      }
    }).mount('#app')
  </script>
</body>
</html>
```

#### Vue 2 CDN

```html
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>Vue 2 CDN 範例</title>
</head>
<body>
  <div id="app">
    <h1>{{ message }}</h1>
    <button @click="reverseMessage">反轉</button>
  </div>

  <script src="https://unpkg.com/vue@2/dist/vue.js"></script>
  <script>
    new Vue({
      el: '#app',
      data: {
        message: 'Hello Vue 2!'
      },
      methods: {
        reverseMessage() {
          this.message = this.message.split('').reverse().join('')
        }
      }
    })
  </script>
</body>
</html>
```

### 方法四：使用 Vue CLI

#### 安裝

```bash
# 全域安裝 Vue CLI
npm install -g @vue/cli

# 驗證安裝
vue --version
```

#### 建立專案

```bash
# 互動式專案建立
vue create my-project

# 或使用 GUI
vue ui
```

#### 專案選項

```
? 請選擇一個預設配置：
  > Default ([Vue 3] babel, eslint)
  > Default ([Vue 2] babel, eslint)
  > Manually select features
```

### 方法五：使用 Nuxt.js

Nuxt 是一個用於建立結構更好的 Vue 應用程式的框架。

```bash
# 安裝 npx
npm install -g nuxi

# 建立 Nuxt 3 專案
npx nuxi@latest init my-nuxt-app

# 進入專案目錄
cd my-nuxt-app

# 安裝相依套件
npm install

# 啟動開發伺服器
npm run dev
```

## 環境設定

### 安裝 Node.js

#### Windows

1. 從 https://nodejs.org 下載 Node.js
2. 執行安裝程式（建議使用 LTS 版本）
3. 驗證：`node --version`

#### macOS

```bash
# 使用 Homebrew
brew install node

# 或從 nodejs.org 下載
```

#### Linux（Ubuntu/Debian）

```bash
# 使用 NodeSource
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# 或使用 nvm
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
nvm install 18
```

### 設定 npm

```bash
# 檢查 npm 版本
npm --version

# 設定 npm 鏡像（可選中國地區）
npm config set registry https://registry.npmmirror.com

# 查看設定
npm config list
```

## 專案結構

### Vue 3 + Vite 專案

```
my-vue-app/
├── public/
│   └── favicon.ico
├── src/
│   ├── assets/
│   │   └── logo.png
│   ├── components/
│   │   └── HelloWorld.vue
│   ├── App.vue
│   └── main.js
├── index.html
├── package.json
├── vite.config.js
└── README.md
```

### Vue 3 + Vue CLI 專案

```
my-vue-app/
├── public/
│   ├── index.html
│   └── favicon.ico
├── src/
│   ├── assets/
│   │   └── logo.png
│   ├── components/
│   │   └── HelloWorld.vue
│   ├── views/
│   │   └── HomeView.vue
│   ├── router/
│   │   └── index.js
│   ├── store/
│   │   └── index.js
│   ├── App.vue
│   └── main.js
├── babel.config.js
├── package.json
└── README.md
```

## 相依套件

### 核心相依套件

```json
{
  "dependencies": {
    "vue": "^3.4.0",
    "vue-router": "^4.2.0",
    "pinia": "^2.1.0",
    "axios": "^1.6.0"
  }
}
```

### 安裝相依套件

```bash
# 安裝所有相依套件
npm install

# 安裝特定套件
npm install vue-router

# 安裝並儲存到 package.json
npm install axios --save

# 安裝為開發相依套件
npm install eslint --save-dev
```

## Vue Router 設定

### 安裝

```bash
npm install vue-router@4
```

### 基本設定（Vue 3）

```javascript
// src/router/index.js
import { createRouter, createWebHistory } from 'vue-router'
import Home from '../views/Home.vue'
import About from '../views/About.vue'

const routes = [
  { path: '/', component: Home },
  { path: '/about', component: About }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})

export default router
```

```javascript
// src/main.js
import { createApp } from 'vue'
import App from './App.vue'
import router from './router'

createApp(App)
  .use(router)
  .mount('#app')
```

## Pinia（狀態管理）

### 安裝

```bash
npm install pinia
```

### 基本設定（Vue 3）

```javascript
// src/stores/counter.js
import { defineStore } from 'pinia'

export const useCounterStore = defineStore('counter', {
  state: () => ({
    count: 0
  }),
  getters: {
    doubleCount: (state) => state.count * 2
  },
  actions: {
    increment() {
      this.count++
    }
  }
})
```

```javascript
// src/main.js
import { createApp } from 'vue'
import { createPinia } from 'pinia'
import App from './App.vue'

const app = createApp(App)
app.use(createPinia())
app.mount('#app')
```

## Vue 2 Options API（旧版）

```javascript
new Vue({
  el: '#app',
  data() {
    return {
      message: 'Hello Vue 2!',
      items: []
    }
  },
  computed: {
    reversedMessage() {
      return this.message.split('').reverse().join('')
    }
  },
  methods: {
    handleClick() {
      console.log('Clicked!')
    }
  },
  created() {
    console.log('Component created')
  },
  mounted() {
    console.log('Component mounted')
  }
})
```

## Vue 3 Composition API

```javascript
import { ref, computed, onMounted } from 'vue'

export default {
  setup() {
    // 響應式狀態
    const message = ref('Hello Vue 3!')
    const count = ref(0)
    
    // 計算屬性
    const reversedMessage = computed(() => {
      return message.value.split('').reverse().join('')
    })
    
    // 方法
    const increment = () => {
      count.value++
    }
    
    // 生命週期
    onMounted(() => {
      console.log('Component mounted')
    })
    
    return {
      message,
      count,
      reversedMessage,
      increment
    }
  }
}
```

## 開發伺服器

### 啟動開發伺服器

```bash
# Vue CLI
npm run serve

# Vite
npm run dev
```

### 建置生產版本

```bash
# Vue CLI
npm run build

# Vite
npm run build
```

### 預覽生產版本

```bash
# Vue CLI
npm run preview

# Vite
npm run preview
```

## 疑難排解

### 常見問題

#### npm install 失敗

```bash
# 清除 npm 快取
npm cache clean --force

# 刪除 node_modules 並重新安裝
rm -rf node_modules
npm install
```

#### 連接埠已被佔用

```bash
# 使用不同連接埠
npm run dev -- --port 3000

# 或終止佔用連接埠的程序
fkill -k 8080
```

#### Node 版本問題

```bash
# 檢查 Node 版本
node --version

# 使用 nvm 切換版本
nvm use 18

# 或安裝特定版本
nvm install 18
```

#### 建置時記憶體不足

```bash
# 增加 Node 記憶體
NODE_OPTIONS=--max_old_space_size=4096 npm run build
```

## 最佳實踐

1. **使用 Vue 3** - 除非有特定的 Vue 2 需求
2. **使用 Vite** - 更快的開發和建置體驗
3. **使用 Composition API** - 更好的 TypeScript 支援和程式碼組織
4. **使用 TypeScript** - 更好的開發者體驗
5. **使用 Pinia** - 用於狀態管理（新專案不要使用 Vuex）
6. **使用 Vue Router** - 用於導航

## 版本相容性

| Vue 版本 | Vue Router | Vuex | Pinia |
|-------------|-------------|------|-------|
| 3.x | 4.x | 4.x | 2.x+ |
| 2.x | 3.x | 3.x/4.x | 不支援 |

## 相關連結

- [官方網站](https://vuejs.org)
- [Vue 3 文件](https://vuejs.org/guide/)
- [Vue 2 文件](https://v2.vuejs.org/)（舊版）
- [Vue Router](https://router.vuejs.org/)
- [Pinia](https://pinia.vuejs.org/)
- [Vite](https://vitejs.dev/)
- [Vue CLI](https://cli.vuejs.org/)
