# SadTalker Guía de Uso

Esta guía proporciona instrucciones detalladas sobre cómo usar SadTalker para generar videos de caras parlantes.

## Uso Básico

### Generar un Video Parlante

```bash
python inference.py \
    --source_image path/to/portrait.jpg \
    --audio path/to/audio.wav \
    --result_dir ./results
```

### Parámetros Principales

| Parámetro | Descripción | Valor por Defecto |
|-----------|-------------|-------------------|
| `--source_image` | Imagen de retrato de entrada | Requerido |
| `--audio` | Archivo de audio de entrada | Requerido |
| `--result_dir` | Directorio de salida | ./results |
| `--style` | Estilo de animación | reference |
| `--preprocess` | Preprocesamiento de imagen | crop |
| `--face_enhancement` | Mejora de cara | None |
| `--pose_style` | Estilo de pose | 0 |

## Ejemplos de Uso

### Ejemplo Básico

```bash
python inference.py \
    --source_image examples/face.png \
    --audio examples/audio.wav \
    --result_dir ./output
```

### Con Video de Referencia

```bash
python inference.py \
    --source_image examples/face.png \
    --audio examples/audio.wav \
    --reference_video examples/reference.mp4 \
    --result_dir ./output
```

### Con Mejora de Cara

```bash
python inference.py \
    --source_image examples/face.png \
    --audio examples/audio.wav \
    --face_enhancement GFPGAN \
    --result_dir ./output
```

## Preprocesamiento de Imagen

### Opciones de Preprocesamiento

- **crop**: Recorta la cara
- **resize**: Redimensiona la imagen
- **full**: Usa la imagen completa
- **extract**: Extrae solo la cara

### Mejores Prácticas

1. Usa imágenes de alta resolución (512x512 o más)
2. Asegura3. La buena iluminación
 cara debe estar orientada hacia adelante
4. Evita filtros pesados o ediciones de foto

## Entrada de Audio

### Formatos Soportados
- WAV (recomendado)
- MP3
- FLAC
- Otros formatos soportados por FFmpeg

### Mejores Prácticas
1. Usa audio limpio sin ruido de fondo
2. La voz debe ser clara y audible
3. Duración recomendada: 1-30 segundos

## Configuración Avanzada

### Múltiples Videos

```bash
# Procesar múltiples audios con la misma imagen
for audio in audios/*.wav; do
    python inference.py \
        --source_image examples/face.png \
        --audio "$audio" \
        --result_dir ./output
done
```

### Personalización de Estilo

```bash
# Diferentes estilos de pose
python inference.py \
    --source_image examples/face.png \
    --audio examples/audio.wav \
    --pose_style 1
```

## Resolución de Problemas

### Mala Sincronización de Labios
- Usar audio de alta calidad
- Asegurar audio sin ruido de fondo
- Ajustar parámetros de extracción de audio

### Distorsión de Identidad
- Usar imagen de alta resolución
- Evitar fotos muy editadas
- Asegurar buena iluminación

### Artefactos en la Salida
- Reducir resolución de salida
- Verificar instalación correcta de modelos
- Actualizar controladores GPU

### Errores de Memoria
- Reducir tamaño de batch
- Bajar resolución de salida
- Usar model swapping
- Cerrar otras aplicaciones GPU
