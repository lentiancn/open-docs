# MySQL FAQ

Dies Seite beantwortet häufig gestellte Fragen zu MySQL.

---

## Installation

### Welche Version von MySQL sollte ich verwenden?

Für Produktionsumgebungen wird MySQL 8.0.x oder 8.4.x empfohlen.

### Wie installiere ich MySQL unter Windows?

1. MySQL Installer von https://dev.mysql.com/downloads/installer/ herunterladen
2. Den Installer ausführen
3. "Full" oder "Custom" Installation wählen
4. Den Anweisungen folgen

### Wie installiere ich MySQL mit Docker?

```bash
docker run -d --name mysql \
  -e MYSQL_ROOT_PASSWORD=dein_passwort \
  -v mysql-data:/var/lib/mysql \
  -p 3306:3306 \
  mysql:8
```

---

## Verbindung

### Wie verbinde ich mich mit MySQL über die Befehlszeile?

```bash
mysql -u root -p
```

### MySQL-Root-Passwort vergessen

**Linux:**
1. MySQL stoppen: `sudo systemctl stop mysql`
2. Im abgesicherten Modus starten: `sudo mysqld_safe --skip-grant-tables`
3. Verbinden: `mysql -u root`
4. Passwort zurücksetzen:
```sql
FLUSH PRIVILEGES;
ALTER USER 'root'@'localhost' IDENTIFIED BY 'neues_passwort';
```
5. MySQL neu starten

---

## Datenbanken und Tabellen

### Wie erstelle ich eine Datenbank?

```sql
CREATE DATABASE meineapp;
```

### Wie erstelle ich eine Tabelle?

```sql
CREATE TABLE benutzer (
    id INT AUTO_INCREMENT PRIMARY KEY,
    benutzername VARCHAR(50) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE
);
```

### Wie zeige ich alle Tabellen an?

```sql
SHOW TABLES;
```

---

## Datenoperationen

### Wie füge ich Daten ein?

```sql
INSERT INTO benutzer (benutzername, email) VALUES ('max', 'max@beispiel.de');
```

### Wie aktualisiere ich Daten?

```sql
UPDATE benutzer SET email = 'neu@beispiel.de' WHERE id = 1;
```

### Wie lösche ich Daten?

```sql
DELETE FROM benutzer WHERE id = 1;
```

---

## Abfragen

### Wie verbinde ich Tabellen?

```sql
SELECT * FROM bestellungen 
INNER JOIN benutzer ON bestellungen.benutzer_id = benutzer.id;
```

### Wie verwende ich LIMIT und OFFSET?

```sql
SELECT * FROM benutzer LIMIT 10 OFFSET 20;
```

### Wie zähle ich Zeilen?

```sql
SELECT COUNT(*) FROM benutzer;
```

---

## Indizes

### Wie erstelle ich einen Index?

```sql
CREATE INDEX idx_email ON benutzer(email);
```

### Wann sollte ich Indizes verwenden?

- Spalten in WHERE-Klauseln
- Spalten in JOIN-Bedingungen
- Spalten in ORDER BY
- Spalten mit hoher Kardinalität

---

## Leistung

### MySQL läuft langsam

1. Langsame Abfragen prüfen: `SHOW FULL PROCESSLIST;`
2. Abfragen analysieren: `EXPLAIN SELECT ...`
3. Indizes zu häufig abgefragten Spalten hinzufügen
4. Konfiguration optimieren

### Wie aktiviere ich das Langsam-Abfragen-Protokoll?

In my.cnf:
```ini
slow_query_log = 1
slow_query_log_file = /var/log/mysql/slow.log
long_query_time = 2
```

---

## Backup und Wiederherstellung

### Wie sichere ich eine Datenbank?

```bash
mysqldump -u root -p meineapp > backup.sql
```

### Wie stelle ich eine Datenbank wieder her?

```bash
mysql -u root -p meineapp < backup.sql
```

---

## Benutzerverwaltung

### Wie erstelle ich einen neuen Benutzer?

```sql
CREATE USER 'benutzername'@'localhost' IDENTIFIED BY 'passwort';
```

### Wie gewähre ich Rechte?

```sql
GRANT SELECT, INSERT, UPDATE ON meineapp.* TO 'benutzername'@'localhost';
```

---

## Fehlerbehebung

### "Too many connections"

Erhöhen Sie max_connections in my.cnf:
```ini
max_connections = 300
```

### "Table is full"

- Festplattenplatz prüfen
- tablespace-Größe für InnoDB erhöhen
- max_table_size-Konfiguration prüfen

### "Out of memory"

- Buffer-Pool-Größe erhöhen
- Abfragen optimieren
- Mehr RAM hinzufügen

---

## Ressourcen

- Offizielle Dokumentation: https://dev.mysql.com/doc/
- MySQL Foren: https://forums.mysql.com/
