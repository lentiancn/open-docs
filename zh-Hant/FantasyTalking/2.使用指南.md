# FantasyTalking 使用指南

本指南介紹如何使用 FantasyTalking 生成 talking head 影片。

## 快速開始

### 基本用法

```bash
python inference.py \
  --source_image images/face.jpg \
  --audio audio/speech.wav \
  --output results/output.mp4
```

## 輸入要求

### 圖片要求

- 格式：JPG、PNG
- 分辨率：512x512 或更高
- 人臉：正面朝向、五官清晰
- 背景：簡單背景為佳

### 音頻要求

- 格式：WAV、MP3
- 採樣率：16000 Hz 或更高
- 時長：無限制
- 語言：多語言支持

## 高級用法

### 人臉增強

```bash
python inference.py \
  --source_image images/face.jpg \
  --audio audio/speech.wav \
  --output results/output.mp4 \
  --face_enhancer
```

### 批次處理

```bash
python batch_inference.py \
  --image_dir images/ \
  --audio_dir audio/ \
  --output_dir results/
```

### 自定義幀率

```bash
python inference.py \
  --source_image images/face.jpg \
  --audio audio/speech.wav \
  --output results/output.mp4 \
  --fps 30
```

## 配置

### 配置文件

編輯 `config.yaml`：

```yaml
inference:
  face_enhancer: true
  fps: 25
  output_resolution: 512
  
model:
  checkpoint: "checkpoints/fantasytalking.pth"
```

## 模型訓練

### 準備數據集

```bash
python prepare_dataset.py \
  --video_dir videos/ \
  --output_dir dataset/
```

### 訓練

```bash
python train.py \
  --config config/train.yaml \
  --epochs 100
```

## 最佳實踐

### 1. 使用高品質圖片

- 使用清晰、正面的照片
- 良好的照明條件
- 較高分辨率為佳

### 2. 匹配音頻質量

- 清晰的音頻，無背景噪音
- 適當的採樣率
- 語言與人臉種族相匹配

### 3. 後處理

- 使用人臉增強以獲得更好的質量
- 根據需要調整幀率

## 故障排除

### 影片太暗？

檢查來源圖片的照明。

### 音頻不同步？

確保音頻採樣率正確。

### 質量差？

嘗試使用人臉增強選項。

## 相關資源

- [GitHub](https://github.com/FantasyTalking/FantasyTalking)
- [演示](https://fantasytalking.demo.com)
