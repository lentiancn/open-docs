# 安装 Flutter

本文档介绍如何在你的电脑上配置 Flutter 开发环境。

---

## 环境要求

| 操作系统 | 要求 |
|----------|------|
| Windows | Windows 10 或更高版本（64 位） |
| macOS | macOS 10.14 (Mojave) 或更高版本 |
| Linux | Ubuntu 18.04 或类似发行版 |

另外需要：
- 2.8 GB 以上磁盘空间
- 4 GB 以上内存

---

## Windows 安装步骤

### 1. 下载 Flutter SDK

访问 Flutter 官网下载页面：
https://docs.flutter.dev/get-started/install/windows

或者用 Git 克隆：

```bash
git clone https://github.com/flutter/flutter.git -b stable
```

建议放到 `C:\src\flutter` 这个位置。

### 2. 设置环境变量

1. 右键「此电脑」→ 属性
2. 点击「高级系统设置」
3. 点击「环境变量」
4. 在「用户变量」中找到 Path，点击编辑
5. 添加 `C:\src\flutter\bin`
6. 确定保存，**重启电脑**

### 3. 验证安装

打开命令行（CMD 或 PowerShell），运行：

```bash
flutter --version
```

能看到版本号说明安装成功。

### 4. 检查开发环境

```bash
flutter doctor
```

这个命令会检查你的电脑是否具备开发环境。常见问题：

- Android SDK 缺失 → 安装 Android Studio
- license 没接受 → 运行 `flutter doctor --android-licenses`

---

## macOS 安装步骤

### 1. 安装 Xcode

去 App Store 搜索 Xcode，免费下载安装。

### 2. 安装 Flutter

**方式一：Homebrew（推荐）**

```bash
brew update
brew install flutter
```

**方式二：手动下载**

1. 去 Flutter 官网下载 macOS 版本
2. 解压到 `~/flutter`
3. 在终端配置 PATH：

```bash
# 打开配置文件
nano ~/.bash_profile  # 或者 nano ~/.zshrc

# 添加这一行
export PATH="$PATH:$HOME/flutter/bin"

# 保存退出后刷新
source ~/.bash_profile
```

### 3. 验证

```bash
flutter --version
flutter doctor
```

---

## Linux 安装步骤

### 1. 安装系统依赖

```bash
sudo apt-get update
sudo apt-get install -y \
    curl \
    git \
    unzip \
    xz-utils \
    libglu1-mesa \
    clang \
    cmake \
    ninja-build \
    pkg-config \
    libgtk-3-dev
```

### 2. 安装 Flutter

```bash
cd /opt
sudo git clone https://github.com/flutter/flutter.git -b stable

# 配置 PATH
echo 'export PATH="$PATH:/opt/flutter/bin"' >> ~/.bashrc
source ~/.bashrc
```

### 3. 验证

```bash
flutter --version
flutter doctor
```

---

## 第一个 Flutter 项目

### 创建项目

```bash
flutter create my_app
cd my_app
```

### 运行项目

```bash
flutter run
```

首次运行会提示选择设备，可以选择：
- 连接的真机
- 模拟器（Android / iOS）
- 浏览器（Web）
- 桌面应用（Windows / macOS / Linux）

---

## 常见问题

### Q: 下载慢怎么办？

使用国内镜像：

```bash
# Windows (PowerShell)
[Environment]::SetEnvironmentVariable("FLUTTER_STORAGE_BASE_URL", "https://storage.flutter-io.cn")

# macOS / Linux
export FLUTTER_STORAGE_BASE_URL="https://storage.flutter-io.cn"
```

### Q: flutter doctor 一直卡住？

可能是首次下载 SDK 资源，等几分钟即可。如果长时间无响应，尝试重启命令行。

### Q: Android 模拟器打不开？

需要确保 BIOS 中已开启 **Intel VT-x** 或 **AMD-V** 虚拟化技术。

---

## 下一步

- [使用手册](./3.使用手册.md) - 学习 Flutter 编程
- [常见问题](./4.常见问题.md) - 解决问题
