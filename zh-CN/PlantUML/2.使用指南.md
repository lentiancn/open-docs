# PlantUML 使用指南

本指南介绍如何使用 PlantUML 创建各种 UML 图。

## 快速开始

### 基本语法

```plantuml
@startuml
Alice -> Bob: Hello
@enduml 序列图

```
```

##plantuml
@startuml
actor 用户
participant "前端" as Front
participant "后端" as Back
database "数据库" as DB

用户 -> Front: 提交请求
Front -> Back: API 调用
Back -> DB: 查询数据
DB --> Back: 返回结果
Back --> Front: 响应
Front --> 用户: 显示结果
@enduml
```

## 类图

```plantuml
@startuml
class User {
  +id: int
  +username: string
  +email: string
  +login()
  +logout()
}

class Admin extends User {
  +manageUsers()
  +viewReports()
}

class Order {
  +id: int
  +total: decimal
  +createOrder()
  +cancelOrder()
}

User "1" -- "*" Order: places
@enduml
```

## 用例图

```plantuml
@startuml
left to right direction
actor 用户
rectangle 系统 {
  用户 -> (登录)
  用户 -> (浏览商品)
  用户 -> (加入购物车)
  用户 -> (下单)
  (登录) .> (浏览商品): extends
}
@enduml
```

## 状态图

```plantuml
@startuml
[*] --> 待支付
待支付 --> 已支付: 支付成功
已支付 --> 已发货: 发货
已发货 --> 已送达: 送达
已送达 --> [*]
待支付 --> 已取消: 用户取消
已取消 --> [*]
@enduml
```

## 活动图

```plantuml
@startuml
start
:开始购物;
:浏览商品;
if (找到商品?) then (是)
  :加入购物车;
else (否)
  :搜索商品;
endif
:结算;
if (支付成功?) then (是)
  :下单成功;
else (否)
  :支付失败;
endif
stop
@enduml
```

## 组件图

```plantuml
@startuml
package "前端" {
  [Web App] as WA
  [Mobile App] as MA
}
package "后端" {
  [API Gateway] as API
  [Auth Service] as Auth
  [Order Service] as Order
}
package "数据" {
  database "MySQL" as DB
  database "Redis" as Cache
}

WA --> API
MA --> API
API --> Auth
API --> Order
Order --> DB
Order --> Cache
@enduml
```

## 部署图

```plantuml
@startuml
node "用户设备" as Client {
  [浏览器]
}
node "负载均衡" as LB {
  [Nginx]
}
node "应用服务器" as App {
  [Tomcat 1]
  [Tomcat 2]
}
node "数据库服务器" as DB {
  [MySQL]
  [Redis]
}

Client --> LB
LB --> App
App --> DB
@enduml
```

## 时序图

```plantuml
@startuml
clock "时钟" as C with period 1000
binary "同步" as SY
binary "数据" as DT

C is idle
SY is low
DT is low

@1000
SY is high
@1500
SY is low
@2000
DT is high
@3000
DT is low
@enduml
```

## 甘特图

```plantuml
@startuml
[设计] lasts 5 days
[开发] lasts 10 days
[测试] lasts 5 days
[上线] lasts 3 days

[设计] starts at 2024-01-01
[开发] starts at 2024-01-06
[测试] starts at 2024-01-16
[上线] starts at 2024-01-21
@enduml
```

## 思维导图

```plantuml
@startmindmap
* 项目计划
** 需求分析
*** 用户访谈
*** 竞品分析
** 设计阶段
*** UI设计
*** 架构设计
** 开发阶段
*** 前端开发
*** 后端开发
** 测试阶段
*** 单元测试
*** 集成测试
** 上线阶段
*** 部署
*** 监控
@endmindmap
```

## 常用指令

### 隐藏元素

```plantuml
@startuml
hide footbox
actor A
participant B
A -> B: 消息
@enduml
```

### 样式设置

```plantuml
@startuml
skinparam backgroundColor #EEEBDC
skinparam handwritten true
skinparam actorStyle awesome

actor User
User -> (登录)
@enduml
```

## 相关资源

- [PlantUML 官方网站](https://plantuml.com/)
- [PlantUML 语法参考](https://plantuml.com/sitemap-language-specification)
