# Guide d'installation Redis

Guide complet pour installer Redis sur toutes les principales plateformes.

---

## Table des matières

- [Qu'est-ce que Redis ?](#quest-ce-que-redis)
- [Linux](#linux)
  - [Ubuntu / Debian](#ubuntu--debian)
  - [CentOS / RHEL](#centos--rhel)
  - [Fedora](#fedora)
  - [Arch Linux](#arch-linux)
- [macOS](#macos)
  - [Homebrew (Recommandé)](#homebrew-recommandé)
  - [MacPorts](#macports)
- [Windows](#windows)
  - [WSL2 (Recommandé)](#wsl2-recommandé)
  - [Memurai (Alternative recommandée)](#memurai-alternative-recommandée)
  - [Docker](#docker)
- [Vérification de l'installation](#vérification-de-linstallation)
- [Configuration](#configuration)
- [Commandes de base Redis CLI](#commandes-de-base-redis-cli)
- [Désinstallation](#désinstallation)
- [Étapes suivantes](#étapes-suivantes)

---

## Qu'est-ce que Redis ?

Redis est un magasin de structures de données en mémoire open source, utilisé comme base de données, cache et broker de messages. Il prend en charge diverses structures de données comme les chaînes, les hashs, les listes, les ensembles et les ensembles triés.

---

## Linux

### Ubuntu / Debian

#### Méthode 1 : APT (Recommandée)

```bash
# Mettre à jour l'index des paquets
sudo apt update

# Installer Redis
sudo apt install redis-server

# Démarrer Redis
sudo systemctl start redis-server

# Activer au démarrage
sudo systemctl enable redis-server
```

#### Méthode 2 : Compiler depuis les sources

```bash
# Installer les dépendances
sudo apt install build-essential tcl

# Télécharger Redis
cd /tmp
wget https://github.com/redis/redis/archive/7.2.4.tar.gz
tar -zxvf 7.2.4.tar.gz
cd redis-7.2.4

# Compiler et installer
make
sudo make install
```

### CentOS / RHEL

#### Utiliser YUM

```bash
# Installer le dépôt EPEL
sudo yum install epel-release

# Installer Redis
sudo yum install redis

# Démarrer Redis
sudo systemctl start redis

# Activer au démarrage
sudo systemctl enable redis
```

### Fedora

```bash
# Installer Redis
sudo dnf install redis

# Démarrer Redis
sudo systemctl start redis
sudo systemctl enable redis
```

### Arch Linux

```bash
# Installer Redis
sudo pacman -S redis

# Démarrer Redis
sudo systemctl start redis
sudo systemctl enable redis
```

---

## macOS

### Homebrew (Recommandé)

```bash
# Installer Homebrew (si nécessaire)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# Installer Redis
brew install redis

# Démarrer Redis
brew services start redis

# Ou exécuter manuellement
redis-server
```

### MacPorts

```bash
sudo port install redis
```

---

## Windows

### WSL2 (Recommandé)

```bash
# Installer Redis sur WSL2 (Ubuntu)
sudo apt update
sudo apt install redis-server

# Démarrer Redis
sudo systemctl start redis
```

### Memurai (Alternative recommandée)

1. Télécharger Memurai depuis https://www.memurai.com/
2. Installer et exécuter comme service Windows

### Docker

```bash
# Exécuter le conteneur Redis
docker run -d --name redis -p 6379:6379 redis:latest

# Avec stockage persistant
docker run -d --name redis -p 6379:6379 -v redis-data:/data redis:latest redis-server --appendonly yes

# Avec mot de passe
docker run -d --name redis -p 6379:6379 -v redis-data:/data redis:latest redis-server --requirepass yourpassword
```

---

## Vérification de l'installation

```bash
# Vérifier la version de Redis
redis-server --version

# Vérifier le statut de Redis
sudo systemctl status redis

# Se connecter à Redis
redis-cli

# Tester la connexion
redis-cli ping
# Devrait retourner : PONG
```

---

## Configuration

### Fichier de configuration principal

- **Ubuntu/Debian** : `/etc/redis/redis.conf`
- **CentOS/RHEL** : `/etc/redis.conf`
- **macOS** : `/usr/local/etc/redis.conf` (Homebrew)
- **Docker** : `/etc/redis/redis.conf`

### Configuration de base

```bash
# Lier à localhost (sécurité)
bind 127.0.0.1

# Définir un mot de passe
requirepass yourpassword

# Activer la persistance
appendonly yes

# Définir la mémoire maximale
maxmemory 256mb

# Définir la politique d'éviction
maxmemory-policy allkeys-lru
```

### Commandes courantes

```bash
# Démarrer Redis
redis-server

# Démarrer avec une configuration personnalisée
redis-server /etc/redis/redis.conf

# Se connecter à Redis
redis-cli

# Se connecter avec un mot de passe
redis-cli -a yourpassword

# Arrêter Redis
sudo systemctl stop redis
```

---

## Commandes de base Redis CLI

```bash
# Définir une clé
redis-cli SET mykey "Hello"

# Obtenir une clé
redis-cli GET mykey

# Voir toutes les clés
redis-cli KEYS "*"

# Supprimer une clé
redis-cli DEL mykey

# Définir une expiration (secondes)
redis-cli SETEX mykey 60 "value"

# Voir les informations du serveur
redis-cli INFO
```

---

## Désinstallation

### Ubuntu/Debian

```bash
sudo apt remove redis-server
```

### CentOS/RHEL

```bash
sudo yum remove redis
```

### macOS (Homebrew)

```bash
brew uninstall redis
```

---

## Étapes suivantes

- [Guide d'utilisation](./2.Guide-dutilisation.md)
- Lire la [documentation officielle Redis](https://redis.io/docs/)
