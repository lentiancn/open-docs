# Element Plus 使用指南

本指南介绍如何在 Vue 3 应用中有效使用 Element Plus 组件。

## 基本用法

### Hello World 示例

```vue
<template>
  <div>
    <el-button type="primary">Hello Element Plus</el-button>
  </div>
</template>

<script setup>
import { ElButton } from 'element-plus'
</script>
```

使用自动导入（推荐）：

```vue
<template>
  <div>
    <el-button type="primary">点击我</el-button>
    <el-input v-model="input" placeholder="输入文本"></el-input>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const input = ref('')
</script>
```

## 组件分类

Element Plus 提供以下组件分类：

| 分类 | 组件示例 |
|------|----------|
| 基础 | Button, Link, Typography, Divider |
| 表单 | Input, Select, Radio, Checkbox, Switch, Slider, TimePicker, DatePicker |
| 数据 | Table, Tree, Pagination, Tag |
| 通知 | Alert, Message, Notification, Progress |
| 导航 | Menu, Tabs, Breadcrumb, Steps |
| 其他 | Dialog, Drawer, Card, Collapse |

## 常用组件

### 按钮 Button

```vue
<template>
  <div>
    <!-- 基础按钮 -->
    <el-button>默认</el-button>
    <el-button type="primary">主要</el-button>
    <el-button type="success">成功</el-button>
    <el-button type="warning">警告</el-button>
    <el-button type="danger">危险</el-button>
    
    <!-- 朴素按钮 -->
    <el-button plain>朴素</el-button>
    <el-button type="primary" plain>主要朴素</el-button>
    
    <!-- 圆角按钮 -->
    <el-button round>圆角</el-button>
    <el-button type="primary" round>主要圆角</el-button>
    
    <!-- 禁用 -->
    <el-button disabled>禁用</el-button>
    
    <!-- 加载中 -->
    <el-button loading>加载中</el-button>
    
    <!-- 不同尺寸 -->
    <el-button size="large">大</el-button>
    <el-button size="default">默认</el-button>
    <el-button size="small">小</el-button>
  </div>
</template>
```

### 输入框 Input

```vue
<template>
  <div>
    <!-- 基础输入框 -->
    <el-input v-model="input" placeholder="输入文本"></el-input>
    
    <!-- 带图标 -->
    <el-input
      v-model="input1"
      placeholder="搜索"
      :prefix-icon="Search"
    ></el-input>
    <el-input
      v-model="input2"
      placeholder="密码"
      :suffix-icon="Lock"
      show-password
    ></el-input>
    
    <!-- 文本域 -->
    <el-input
      v-model="textarea"
      type="textarea"
      :rows="3"
      placeholder="输入描述"
    ></el-input>
    
    <!-- 可清空 -->
    <el-input
      v-model="input3"
      placeholder="可清空"
      clearable
    ></el-input>
    
    <!-- 禁用 -->
    <el-input disabled placeholder="禁用"></el-input>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { Search, Lock } from '@element-plus/icons-vue'

const input = ref('')
const input1 = ref('')
const input2 = ref('')
const input3 = ref('')
const textarea = ref('')
</script>
```

### 表格 Table

```vue
<template>
  <el-table :data="tableData" stripe border>
    <el-table-column prop="date" label="日期" width="180"></el-table-column>
    <el-table-column prop="name" label="姓名" width="180"></el-table-column>
    <el-table-column prop="address" label="地址"></el-table-column>
    <el-table-column label="操作">
      <template #default="scope">
        <el-button type="primary" @click="handleEdit(scope.row)">
          编辑
        </el-button>
        <el-button type="danger" @click="handleDelete(scope.row)">
          删除
        </el-button>
      </template>
    </el-table-column>
  </el-table>
</template>

<script setup>
const tableData = ref([
  {
    date: '2024-01-01',
    name: '张三',
    address: '北京市朝阳区',
  },
  {
    date: '2024-01-02',
    name: '李四',
    address: '上海市浦东新区',
  },
])

const handleEdit = (row) => {
  console.log('编辑:', row)
}

const handleDelete = (row) => {
  console.log('删除:', row)
}
</script>
```

### 表单 Form

```vue
<template>
  <el-form
    ref="ruleFormRef"
    :model="form"
    :rules="rules"
    label-width="120px"
  >
    <el-form-item label="姓名" prop="name">
      <el-input v-model="form.name"></el-input>
    </el-form-item>
    
    <el-form-item label="邮箱" prop="email">
      <el-input v-model="form.email"></el-input>
    </el-form-item>
    
    <el-form-item label="性别" prop="gender">
      <el-radio-group v-model="form.gender">
        <el-radio label="male">男</el-radio>
        <el-radio label="female">女</el-radio>
      </el-radio-group>
    </el-form-item>
    
    <el-form-item label="爱好" prop="hobby">
      <el-checkbox-group v-model="form.hobby">
        <el-checkbox label="阅读"></el-checkbox>
        <el-checkbox label="运动"></el-checkbox>
        <el-checkbox label="音乐"></el-checkbox>
      </el-checkbox-group>
    </el-form-item>
    
    <el-form-item label="国家" prop="country">
      <el-select v-model="form.country" placeholder="选择国家">
        <el-option label="中国" value="china"></el-option>
        <el-option label="美国" value="usa"></el-option>
        <el-option label="英国" value="uk"></el-option>
      </el-select>
    </el-form-item>
    
    <el-form-item>
      <el-button type="primary" @click="submitForm(ruleFormRef)">
        提交
      </el-button>
      <el-button @click="resetForm(ruleFormRef)">重置</el-button>
    </el-form-item>
  </el-form>
</template>

<script setup>
import { reactive, ref } from 'vue'

const ruleFormRef = ref()

const form = reactive({
  name: '',
  email: '',
  gender: '',
  hobby: [],
  country: '',
})

const rules = reactive({
  name: [
    { required: true, message: '请输入姓名', trigger: 'blur' },
  ],
  email: [
    { required: true, message: '请输入邮箱', trigger: 'blur' },
    { type: 'email', message: '邮箱格式不正确', trigger: 'blur' },
  ],
  gender: [
    { required: true, message: '请选择性别', trigger: 'change' },
  ],
  country: [
    { required: true, message: '请选择国家', trigger: 'change' },
  ],
})

const submitForm = async (formEl) => {
  if (!formEl) return
  await formEl.validate((valid) => {
    if (valid) {
      console.log('提交:', form)
    }
  })
}

const resetForm = (formEl) => {
  if (!formEl) return
  formEl.resetFields()
}
</script>
```

### 对话框 Dialog

```vue
<template>
  <el-button type="primary" @click="dialogVisible = true">
    打开对话框
  </el-button>

  <el-dialog
    v-model="dialogVisible"
    title="对话框标题"
    width="30%"
  >
    <span>这是一条对话框消息。</span>
    <template #footer>
      <span class="dialog-footer">
        <el-button @click="dialogVisible = false">取消</el-button>
        <el-button type="primary" @click="dialogVisible = false">
          确定
        </el-button>
      </span>
    </template>
  </el-dialog>
</template>

<script setup>
import { ref } from 'vue'

const dialogVisible = ref(false)
</script>
```

### 消息提示 Message

```javascript
import { ElMessage } from 'element-plus'

// 成功消息
ElMessage.success('成功消息')

// 错误消息
ElMessage.error('错误消息')

// 警告消息
ElMessage.warning('警告消息')

// 信息消息
ElMessage.info('信息消息')

// 自定义
ElMessage({
  message: '自定义消息',
  type: 'success',
  duration: 3000,
})
```

### 通知 Notification

```javascript
import { ElNotification } from 'element-plus'

// 成功通知
ElNotification({
  title: '成功',
  message: '操作成功完成',
  type: 'success',
})

// 错误通知
ElNotification({
  title: '错误',
  message: '操作失败',
  type: 'error',
})
```

## 插槽 Slots

Element Plus 组件支持 Vue 插槽：

```vue
<template>
  <!-- 默认插槽 -->
  <el-button>按钮文本</el-button>
  
  <!-- 具名插槽 -->
  <el-dialog>
    <template #header>
      <h3>自定义头部</h3>
    </template>
    <p>对话框内容</p>
    <template #footer>
      <el-button>取消</el-button>
      <el-button type="primary">确定</el-button>
    </template>
  </el-dialog>
  
  <!-- 空状态插槽 -->
  <el-table-column>
    <template #empty>
      <div>暂无数据</div>
    </template>
  </el-table-column>
</template>
```

## 事件 Events

```vue
<template>
  <el-button @click="handleClick">点击我</el-button>
  
  <el-input
    v-model="input"
    @focus="handleFocus"
    @blur="handleBlur"
    @change="handleChange"
    @input="handleInput"
  ></el-input>
</template>

<script setup>
const handleClick = () => {
  console.log('按钮点击')
}

const handleFocus = () => {
  console.log('输入框获得焦点')
}

const handleBlur = () => {
  console.log('输入框失去焦点')
}

const handleChange = (value) => {
  console.log('值改变:', value)
}

const handleInput = (value) => {
  console.log('输入:', value)
}
</script>
```

## v-model 双向绑定

Element Plus 支持 v-model 进行双向绑定：

```vue
<template>
  <!-- 输入框 -->
  <el-input v-model="inputValue"></el-input>
  
  <!-- 复选框 -->
  <el-checkbox v-model="checked">标签</el-checkbox>
  <el-checkbox-group v-model="checkboxGroup">
    <el-checkbox label="A">A</el-checkbox>
    <el-checkbox label="B">B</el-checkbox>
  </el-checkbox-group>
  
  <!-- 单选框 -->
  <el-radio-group v-model="radio">
    <el-radio label="A">A</el-radio>
    <el-radio label="B">B</el-radio>
  </el-radio-group>
  
  <!-- 开关 -->
  <el-switch v-model="switchValue"></el-switch>
  
  <!-- 选择器 -->
  <el-select v-model="selectValue">
    <el-option label="选项 1" value="1"></el-option>
    <el-option label="选项 2" value="2"></el-option>
  </el-select>
  
  <!-- 滑块 -->
  <el-slider v-model="sliderValue"></el-slider>
</template>

<script setup>
import { ref } from 'vue'

const inputValue = ref('')
const checked = ref(true)
const checkboxGroup = ref(['A'])
const radio = ref('A')
const switchValue = ref(false)
const selectValue = ref('')
const sliderValue = ref(50)
</script>
```

## 图标使用

### 安装图标包

```bash
npm install @element-plus/icons-vue
```

### 使用图标

```vue
<template>
  <el-button :icon="Search">搜索</el-button>
  <el-icon><Search /></el-icon>
</template>

<script setup>
import { Search } from '@element-plus/icons-vue'
</script>
```

## 国际化

### 设置语言

```typescript
// main.ts
import ElementPlus from 'element-plus'
import zhCn from 'element-plus/es/locale/lang/zh-cn'

app.use(ElementPlus, {
  locale: zhCn,
})
```

### 支持的语言

| 语言 | 代码 |
|------|------|
| 简体中文 | zh-cn |
| 繁体中文 | zh-tw |
| 英语 | en |
| 西班牙语 | es |
| 法语 | fr |
| 德语 | de |
| 日语 | ja |
| 韩语 | ko |
| 俄语 | ru |

## 响应式布局

```vue
<template>
  <el-row :gutter="20">
    <el-col :xs="24" :sm="12" :md="8" :lg="6" :xl="4">
      <div class="grid-content">列 1</div>
    </el-col>
    <el-col :xs="24" :sm="12" :md="8" :lg="6" :xl="4">
      <div class="grid-content">列 2</div>
    </el-col>
  </el-row>
</template>

<style>
.grid-content {
  background: #eee;
  padding: 20px;
  text-align: center;
}
</style>
```

## 最佳实践

### 1. 使用按需引入

```typescript
// 不推荐 - 全量引入
import ElementPlus from 'element-plus'

// 推荐 - 通过自动导入插件按需引入
// 组件在使用时自动导入
```

### 2. 使用组合式 API

```vue
<script setup>
// 推荐
import { ref, computed, onMounted } from 'vue'

const count = ref(0)
const doubled = computed(() => count.value * 2)

onMounted(() => {
  console.log('已挂载')
})
</script>
```

### 3. 正确处理表单

```vue
<script setup>
const formRef = ref()
const form = reactive({ ... })
const rules = reactive({ ... })

const handleSubmit = async () => {
  if (!formRef.value) return
  await formRef.value.validate((valid) => {
    if (valid) {
      // 提交表单
    }
  })
}
</script>
```

### 4. 使用插槽进行自定义

```vue
<el-table-column>
  <template #default="{ row }">
    <span>{{ row.name }}</span>
  </template>
</el-table-column>
```

### 5. 处理加载状态

```vue
<template>
  <el-button :loading="loading" @click="handleSubmit">
    {{ loading ? '加载中...' : '提交' }}
  </el-button>
  
  <el-table v-loading="tableLoading" :data="tableData">
    <!-- 列 -->
  </el-table>
</template>
```

## 常见问题

### 组件未注册

```typescript
// 解决方案：检查自动导入配置
// vite.config.ts
Components({
  resolvers: [ElementPlusResolver()],
})
```

### 样式冲突

```css
/* 解决方案：使用更具体的选择器 */
.el-button.my-button {
  /* 自定义样式 */
}
```

## 相关链接

- [Element Plus 官方文档](https://element-plus.org)
- [组件列表](https://element-plus.org/en-US/component/button.html)
- [Vue 3 文档](https://vuejs.org)
- [Vite 文档](https://vitejs.dev)
