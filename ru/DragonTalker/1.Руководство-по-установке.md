# DragonTalker Руководство по установке

> Подробные инструкции по установке DragonTalker на всех основных операционных системах
> 
> Обновлено: Февраль 2026

---

## 1. Введение

DragonTalker — это инструмент для создания говорящих голов на основе глубокого обучения, который создаёт реалистичные видео из одного изображения и аудиофайла. Эта технология широко используется в виртуальных ведущих, цифровых помощниках, образовании и других областях.

### 1.1 Основные технологии

DragonTalker использует многоступенчатую архитектуру: сначала извлекаются признаки мел-спектрограммы через аудиоанализ; затем используется 3D-детектирование лицевых ориентиров для получения параметров движения; далее генерируются непрерывные видеокадры с помощью рендеринга; наконец, качество улучшается через сети восстановления лица.

### 1.2 Ключевые функции

- Аудио-управляемая анимация: создаёт синхронизированные говорящие видео из изображения и аудио
- 3D-оценка движения: естественные позы головы и выражения лица на основе 3D-реконструкции
- Множество поз: более 45 предопределённых шаблонов поз головы
- Улучшение лица: интегрированы GFPGAN, RestoreFormer, CodeFormer
- Веб-интерфейс: удобный браузерный интерфейс
- Python API: полный программный интерфейс для разработки

---

## 2. Системные требования

### 2.1 Оборудование

| Компонент | Минимум | Рекомендуется |
|-----------|---------|---------------|
| GPU | NVIDIA GTX 1060 (6GB) | NVIDIA RTX 3080+ (16GB) |
| RAM | 8GB | 32GB |
| Накопитель | 20GB | 50GB SSD |

### 2.2 Программное обеспечение

| ПО | Версия | Примечания |
|----|--------|-----------|
| ОС | Ubuntu 18.04/20.04/22.04, Windows 10/11, macOS 11+ | Рекомендуется 64-бит |
| Python | 3.8 - 3.10 | Более новые версии могут иметь проблемы |
| CUDA | 11.7+ | Требуется для GPU-инференса |
| ffmpeg | Любая стабильная | Требуется для кодирования видео |

---

## 3. Установка

### 3.1 Ubuntu/Linux

```bash
sudo apt-get update
sudo apt-get install -y build-essential git wget curl
sudo apt-get install -y python3.8 python3-pip python3-venv
sudo apt-get install -y ffmpeg libsm6 libxext6 libxrender-dev libgl1-mesa-glx

cd DragonTalker
python3 -m venv venv
source venv/bin/activate

pip install --upgrade pip
pip install torch==1.12.1+cu113 torchvision==0.13.1+cu113 -f https://download.pytorch.org/whl/cu113
pip install -r requirements.txt

bash scripts/download_models.sh
```

### 3.2 Windows

1. **Установить Python**: скачать 3.8-3.10 с python.org
2. **Установить Git**: с git-smd.com
3. **Установить CUDA**: скачать с NVIDIA
4. **Установить ffmpeg**:
```powershell
choco install ffmpeg
```

```powershell
git clone https://github.com/your-repo/DragonTalker.git
cd DragonTalker
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
```

### 3.3 macOS

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
brew install ffmpeg python@3.10 git wget
git clone https://github.com/your-repo/DragonTalker.git
cd DragonTalker
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

---

## 4. Проверка установки

```bash
source venv/bin/activate
python inference.py \
  --source_image examples/source_image.jpg \
  --driven_audio examples/driven_audio.wav \
  --result_dir ./results \
  --enhancer gfpgan
```

---

## 5. Docker (Рекомендуется)

```bash
docker build -t dragon-talker:latest .
docker run --gpus all -v $(pwd)/examples:/app/examples \
  -v $(pwd)/results:/app/results \
  dragon-talker:latest \
  python inference.py \
    --source_image /app/examples/source_image.jpg \
    --driven_audio /app/examples/driven_audio.wav \
    --result_dir /app/results
```

---

## 6. Удаление

```bash
deactivate
rm -rf venv
docker rmi dragon-talker:latest
```

---

## 7. Ресурсы

- GitHub: https://github.com/your-repo/DragonTalker
- Демо: https://huggingface.co/spaces/dragon-talker
