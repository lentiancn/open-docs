# Hadoop 安装指南

## 环境要求

- JDK 8+
- SSH 无密码登录
- 内存 4GB+

## 单机模式

### 1. 下载解压

```bash
wget https://dlcdn.apache.org/hadoop/common/hadoop-3.3.6/hadoop-3.3.6.tar.gz
tar -xzf hadoop-3.3.6.tar.gz
cd hadoop-3.3.6
```

### 2. 配置环境变量

```bash
# ~/.bashrc
export HADOOP_HOME=/path/to/hadoop-3.3.6
export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin

source ~/.bashrc
```

### 3. 配置 Java

```bash
# etc/hadoop/hadoop-env.sh
export JAVA_HOME=/path/to/jdk
```

### 4. 测试

```bash
hadoop version
```

## 伪分布式模式

### 1. 配置 core-site.xml

```xml
<configuration>
    <property>
        <name>fs.defaultFS</name>
        <value>hdfs://localhost:9000</value>
    </property>
</configuration>
```

### 2. 配置 hdfs-site.xml

```xml
<configuration>
    <property>
        <name>dfs.replication</name>
        <value>1</value>
    </property>
</configuration>
```

### 3. 启动 HDFS

```bash
# 格式化
hdfs namenode -format

# 启动
start-dfs.sh

# 验证
jps
```

## 完全分布式

### 集群规划

| 节点 | HDFS | YARN |
|------|------|------|
| node1 | NameNode DataNode | ResourceManager NodeManager |
| node2 | DataNode | NodeManager |
| node3 | DataNode | NodeManager |

### 配置 workers

```bash
# etc/hadoop/workers
node1
node2
node3
```

### 配置 core-site.xml、hdfs-site.xml、yarn-site.xml

类似伪分布式，配置具体节点地址。
