# MySQL 安装文档

在所有主流平台上安装 MySQL 的详细指南。

---

## 目录

- [版本选择](#版本选择)
- [Docker（推荐）](#docker推荐)
- [Linux](#linux)
- [macOS](#macos)
- [Windows](#windows)
- [验证安装](#验证安装)
- [初始配置](#初始配置)

---

## 版本选择

| 版本 | 类型 | 说明 |
|------|------|------|
| **8.0/8.4** | 稳定版 | 推荐生产环境使用 |
| **9.x** | 创新版 | 最新功能 |

**推荐：** 生产环境使用 MySQL 8.0 或 8.4。

---

## Docker（推荐）

在任意平台运行 MySQL 的最简单方式。

### 快速启动

```bash
# 运行 MySQL 8
docker run -d \
  --name mysql \
  -e MYSQL_ROOT_PASSWORD=your_password \
  -e MYSQL_DATABASE=mydb \
  -e MYSQL_USER=user \
  -e MYSQL_PASSWORD=password \
  -v mysql-data:/var/lib/mysql \
  -p 3306:3306 \
  mysql:8
```

### 环境变量

| 变量 | 说明 |
|------|------|
| `MYSQL_ROOT_PASSWORD` | root 密码（必需） |
| `MYSQL_DATABASE` | 启动时创建数据库 |
| `MYSQL_USER` | 创建非 root 用户 |
| `MYSQL_PASSWORD` | 非 root 用户密码 |

---

## Linux

### Ubuntu/Debian

```bash
# 更新软件源
sudo apt update

# 安装 MySQL
sudo apt install -y mysql-server

# 启动 MySQL
sudo systemctl start mysql
sudo systemctl enable mysql

# 安全配置
sudo mysql_secure_installation
```

### CentOS/RHEL

```bash
# 安装 MySQL yum 源
sudo yum install -y https://dev.mysql.com/get/mysql80-community-release-el8-4.noarch.rpm

# 安装 MySQL
sudo yum install -y mysql-community-server

# 启动 MySQL
sudo systemctl start mysqld
sudo systemctl enable mysqld
```

### Fedora

```bash
sudo dnf install -y mysql-server
sudo systemctl start mysqld
sudo systemctl enable mysqld
```

---

## macOS

### Homebrew（推荐）

```bash
brew install mysql
brew services start mysql

# 安全配置
mysql_secure_installation
```

---

## Windows

### MySQL Installer（推荐）

1. 下载 [MySQL Installer](https://dev.mysql.com/downloads/installer/)
2. 运行安装程序
3. 选择"Full"安装
4. 按照向导配置

### Chocolatey

```powershell
choco install mysql
Start-Service MySQL
```

---

## 验证安装

```bash
# 查看版本
mysql --version

# 连接 MySQL
mysql -u root -p

# Docker 连接
docker exec -it mysql mysql -u root -p
```

---

## 初始配置

### 创建数据库和用户

```sql
-- 创建数据库
CREATE DATABASE myapp;

-- 创建用户
CREATE USER 'myuser'@'localhost' IDENTIFIED BY 'mypassword';

-- 授予权限
GRANT ALL PRIVILEGES ON myapp.* TO 'myuser'@'localhost';

-- 刷新权限
FLUSH PRIVILEGES;
```

---

## 下一步

- [MySQL 使用指南](./2.使用指南.md)
- [MySQL 官方文档](https://dev.mysql.com/doc/)
