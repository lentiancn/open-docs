# JDK 安裝指南

本指南介紹如何在 Windows、macOS 和 Linux 上安裝 JDK（Java 開發工具包）。

## 版本概覽

| 版本 | 類型 | 發布日期 | 支援截止 |
|---------|------|--------------|---------------|
| JDK 25 | 最新版 | 2026 | 6個月 |
| JDK 21 | LTS | 2023年9月 | 2029年9月 |
| JDK 17 | LTS | 2021年9月 | 2029年9月 |
| JDK 11 | LTS | 2018年9月 | 2031年9月 |
| JDK 8 | 傳統版 | 2014年3月 | 2030年12月 |

**推薦：** 生產環境使用 JDK 21 (LTS) 或 JDK 17 (LTS)。JDK 25 用於最新特性。

## 下載 JDK

### 官方來源

- **Oracle JDK**：https://www.oracle.com/java/technologies/downloads/
- **OpenJDK (Eclipse Temurin)**：https://adoptium.net/
- **Amazon Corretto**：https://aws.amazon.com/corretto/
- **Azul Zulu**：https://www.azul.com/downloads/zulu-community/

### 推薦下載

| 平台 | JDK 21 (LTS) | JDK 17 (LTS) |
|----------|--------------|---------------|
| Windows x64 | .exe / .zip | .exe / .zip |
| macOS x64 | .dmg | .dmg |
| macOS ARM64 (Apple Silicon) | .dmg | .dmg |
| Linux x64 | .tar.gz / .rpm / .deb | .tar.gz / .rpm / .deb |
| Linux ARM64 | .tar.gz / .rpm | .tar.gz / .rpm |

## 在 Windows 上安裝

### 選項 1：安裝程式 (.exe)

1. 從 Oracle 或 Adoptium 下載 JDK
2. 執行安裝程式
3. 點擊「下一步」完成精靈
4. 記錄安裝路徑（預設：`C:\Program Files\Java\jdk-21`）

### 選項 2：ZIP 壓縮包

1. 從 Oracle 或 Adoptium 下載 ZIP
2. 解壓到目標位置（例如：`C:\Java\jdk-21`）
3. 無需安裝

### 設定環境變數

```cmd
# 開啟系統屬性 → 進階 → 環境變數

# 系統變數 → 新建
JAVA_HOME = C:\Program Files\Java\jdk-21

# 編輯 Path 變數，添加：
%JAVA_HOME%\bin
```

### 驗證安裝

```cmd
java -version
javac -version
```

## 在 macOS 上安裝

### 選項 1：DMG 安裝程式

1. 從 Oracle 或 Adoptium 下載 DMG
2. 開啟 DMG 檔案
3. 雙擊套件安裝程式
4. 依照精靈操作

### 選項 2：Homebrew

```bash
# 如果未安裝 Homebrew，先安裝
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# 安裝 JDK 21
brew install openjdk@21

# 連結到系統 Java
sudo ln -sfn $(brew --prefix)/opt/openjdk@21/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-21.jdk

# 添加到 PATH
echo 'export JAVA_HOME=$(/usr/libexec/java_home -v 21)' >> ~/.zshrc
source ~/.zshrc
```

### 選項 3：SDKMAN

```bash
# 安裝 SDKMAN
curl -s "https://get.sdkman.io" | bash
source ~/.sdkman/bin/sdkman-init.sh

# 安裝 JDK 21
sdk install java 21.0.5-tem
```

### 驗證安裝

```bash
java -version
javac -version
```

## 在 Linux 上安裝

### Ubuntu/Debian

```bash
# 更新軟體包列表
sudo apt update

# 安裝 OpenJDK 21
sudo apt install openjdk-21-jdk

# 設定 JAVA_HOME
echo 'export JAVA_HOME=/usr/lib/jvm/java-21-openjdk-amd64' >> ~/.bashrc
source ~/.bashrc
```

### RHEL/CentOS/Fedora

```bash
# 安裝 JDK 21
sudo dnf install java-21-openjdk-devel

# 設定 JAVA_HOME
echo 'export JAVA_HOME=/usr/lib/jvm/java-21-openjdk' >> ~/.bashrc
source ~/.bashrc
```

### 手動安裝（所有 Linux）

```bash
# 下載 JDK
wget https://download.oracle.com/java/21/latest/jdk-21_linux-x64_bin.tar.gz

# 解壓
sudo tar -xzf jdk-21_linux-x64_bin.tar.gz -C /usr/local/

# 設定 JAVA_HOME
echo 'export JAVA_HOME=/usr/local/jdk-21' >> ~/.bashrc
source ~/.bashrc
```

### 驗證安裝

```bash
java -version
javac -version
```

## 多個 JDK 版本

### 在 macOS 上切換 JDK

```bash
# 列出已安裝的 JDK
/usr/libexec/java_home -V

# 切換到指定版本
export JAVA_HOME=$(/usr/libexec/java_home -v 17)
```

### 在 Linux 上切換 JDK

```bash
# 使用 update-alternatives（Ubuntu/Debian）
sudo update-alternatives --config java

# 手動切換
export JAVA_HOME=/usr/lib/jvm/java-17-openjdk-amd64
export PATH=$JAVA_HOME/bin:$PATH
```

## IDE 設定

### IntelliJ IDEA

1. File → Project Structure → Project
2. 選擇 SDK：Add JDK → 選擇已安裝的 JDK
3. Apply → OK

### VS Code

1. 安裝「Extension Pack for Java」
2. Ctrl+Shift+P → Java: Configure Java Runtime
3. 選擇已安裝的 JDK

### Eclipse

1. Window → Preferences → Java → Installed JREs
2. Add → Standard VM
3. 瀏覽到 JDK 安裝資料夾
4. 設為預設

## 常見問題

### "java" 命令無法識別

- 驗證 JAVA_HOME 是否正確設定
- 檢查 PATH 是否包含 `%JAVA_HOME%\bin`
- 重新啟動終端/命令提示符

### 連接埠 8080 被佔用

```bash
# Windows
netstat -ano | findstr :8080

# Linux/macOS
lsof -i :8080
```

### JAVA_HOME 指向 JRE 而非 JDK

- 確保 JAVA_HOME 指向 JDK（包含 `bin/javac`）
- 而不是 JRE（只包含 `bin/java`）

## 相關連結

- [Oracle JDK 下載](https://www.oracle.com/java/technologies/downloads/)
- [Eclipse Temurin](https://adoptium.net/)
- [Amazon Corretto](https://aws.amazon.com/corretto/)
- [SDKMAN](https://sdkman.io/)
- [Java 官方文件](https://docs.oracle.com/en/java/javase/)
