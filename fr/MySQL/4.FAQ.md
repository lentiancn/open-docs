# FAQ MySQL

Cette page répond aux questions fréquemment posées sur MySQL.

---

## Installation

### Quelle version de MySQL dois-je utiliser?

Pour les environnements de production, MySQL 8.0.x ou 8.4.x est recommandé.

### Comment installer MySQL sur Windows?

1. Téléchargez MySQL Installer depuis https://dev.mysql.com/downloads/installer/
2. Exécutez l'installateur
3. Choisissez une installation "Full" ou "Custom"
4. Suivez l'assistant

### Comment installer MySQL avec Docker?

```bash
docker run -d --name mysql \
  -e MYSQL_ROOT_PASSWORD=votre_mot_de_passe \
  -v mysql-data:/var/lib/mysql \
  -p 3306:3306 \
  mysql:8
```

---

## Connexion

### Comment se connecter à MySQL depuis la ligne de commande?

```bash
mysql -u root -p
```

### Mot de passe root MySQL oublié

**Linux:**
1. Arrêtez MySQL: `sudo systemctl stop mysql`
2. Démarrez en mode sans échec: `sudo mysqld_safe --skip-grant-tables`
3. Connectez-vous: `mysql -u root`
4. Réinitialisez le mot de passe:
```sql
FLUSH PRIVILEGES;
ALTER USER 'root'@'localhost' IDENTIFIED BY 'nouveau_mot_de_passe';
```
5. Redémarrez MySQL

---

## Bases de données et tables

### Comment créer une base de données?

```sql
CREATE DATABASE monapp;
```

### Comment créer une table?

```sql
CREATE TABLE utilisateurs (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nom VARCHAR(50) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE
);
```

### Comment voir toutes les tables?

```sql
SHOW TABLES;
```

---

## Opérations de données

### Comment insérer des données?

```sql
INSERT INTO utilisateurs (nom, email) VALUES ('jean', 'jean@exemple.fr');
```

### Comment mettre à jour des données?

```sql
UPDATE utilisateurs SET email = 'nouveau@exemple.fr' WHERE id = 1;
```

### Comment supprimer des données?

```sql
DELETE FROM utilisateurs WHERE id = 1;
```

---

## Requêtes

### Comment joindre des tables?

```sql
SELECT * FROM commandes 
INNER JOIN utilisateurs ON commandes.utilisateur_id = utilisateurs.id;
```

### Comment utiliser LIMIT et OFFSET?

```sql
SELECT * FROM utilisateurs LIMIT 10 OFFSET 20;
```

### Comment compter les lignes?

```sql
SELECT COUNT(*) FROM utilisateurs;
```

---

## Index

### Comment créer un index?

```sql
CREATE INDEX idx_email ON utilisateurs(email);
```

### Quand dois-je utiliser des index?

- Colonnes dans les clauses WHERE
- Colonnes dans les conditions JOIN
- Colonnes dans ORDER BY
- Colonnes à haute cardinalité

---

## Performance

### MySQL fonctionne lentement

1. Vérifiez les requêtes lentes: `SHOW FULL PROCESSLIST;`
2. Analysez les requêtes: `EXPLAIN SELECT ...`
3. Ajoutez des index aux colonnes fréquemment interrogées
4. Optimisez la configuration

### Comment activer le journal des requêtes lentes?

Dans my.cnf:
```ini
slow_query_log = 1
slow_query_log_file = /var/log/mysql/slow.log
long_query_time = 2
```

---

## Sauvegarde et restauration

### Comment sauvegarder une base de données?

```bash
mysqldump -u root -p monapp > sauvegarde.sql
```

### Comment restaurer une base de données?

```bash
mysql -u root -p monapp < sauvegarde.sql
```

---

## Gestion des utilisateurs

### Comment créer un nouvel utilisateur?

```sql
CREATE USER 'nom_utilisateur'@'localhost' IDENTIFIED BY 'mot_de_passe';
```

### Comment accorder des privilèges?

```sql
GRANT SELECT, INSERT, UPDATE ON monapp.* TO 'nom_utilisateur'@'localhost';
```

---

## Erreurs et dépannage

### "Too many connections"

Augmentez max_connections dans my.cnf:
```ini
max_connections = 300
```

### "Table is full"

- Vérifiez l'espace disque
- Augmentez la taille du tablespace pour InnoDB

### "Out of memory"

- Augmentez la taille du buffer pool
- Optimisez les requêtes
- Ajoutez plus de RAM

---

## Ressources

- Documentation officielle: https://dev.mysql.com/doc/
- Forums MySQL: https://forums.mysql.com/
