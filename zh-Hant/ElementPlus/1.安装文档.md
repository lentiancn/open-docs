# Element Plus 安裝指南

Element Plus 是專為開發者、設計師和產品經理打造的 Vue 3 元件庫。

## 版本總覽

| 版本 | Vue 版本 | 狀態 |
|---------|-------------|--------|
| Element Plus 2.x | Vue 3.2+ | 當前版本 - 推薦使用 |
| Element Plus 1.x | Vue 3.0+ | 舊版 |
| Element UI 2.x | Vue 2.x | 舊版 (Vue 2) |

**建議：** 所有新的 Vue 3 項目請使用 Element Plus 2.x。Element UI 僅適用於 Vue 2 項目。

### 版本相容性

| Element Plus | Vue 版本 | Node.js | 發布日期 |
|--------------|-------------|---------|--------------|
| 2.5.x | Vue 3.3+ | 16+ | 2024 |
| 2.4.x | Vue 3.2+ | 14+ | 2023 |
| 2.3.x | Vue 3.2+ | 14+ | 2023 |
| 2.2.x | Vue 3.2+ | 14+ | 2023 |

## 環境要求

### 系統需求

| 需求 | 最低版本 | 推薦版本 |
|-------------|---------|-------------|
| Node.js | 16.x | 18.x 或 20.x |
| npm | 8.x | 9.x 或 10.x |
| Vue | 3.2+ | 3.4+ |
| Vite | 4.x | 5.x |

### 瀏覽器相容性

Element Plus 支援最近 2 個版本的瀏覽器：

| 瀏覽器 | 最低版本 |
|--------|-----------------|
| Chrome | 64+ (85+ for 2.5.0+) |
| Edge | 79+ (85+ for 2.5.0+) |
| Firefox | 78+ (79+ for 2.5.0+) |
| Safari | 12+ (14.1+ for 2.5.0+) |

**注意：** Element Plus 不支援 IE11。如需 IE11 支援，請使用 Vue 2 的 Element UI。

## 安裝方式

### 方式 1：套件管理工具（推薦）

#### 使用 npm

```bash
npm install element-plus --save
```

#### 使用 yarn

```bash
yarn add element-plus
```

#### 使用 pnpm

```bash
pnpm install element-plus
```

#### 使用 cnpm（中國鏡像）

```bash
# 設定鏡像
npm config set registry https://registry.npmmirror.com

# 安裝
npm install element-plus --save
```

### 方式 2：CDN 引入

#### 使用 unpkg

```html
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>Element Plus CDN 範例</title>
  <!-- 引入 Vue 3 -->
  <script src="//unpkg.com/vue@3"></script>
  <!-- 引入 Element Plus 樣式 -->
  <link rel="stylesheet" href="//unpkg.com/element-plus/dist/index.css">
  <!-- 引入 Element Plus -->
  <script src="//unpkg.com/element-plus"></script>
</head>
<body>
  <div id="app">
    <el-button>{{ message }}</el-button>
  </div>

  <script>
    const { createApp, ref } = Vue
    const app = createApp({
      setup() {
        const message = ref('Hello Element Plus!')
        return { message }
      }
    })
    app.use(ElementPlus)
    app.mount('#app')
  </script>
</body>
</html>
```

#### 使用 jsDelivr

```html
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>Element Plus CDN 範例</title>
  <!-- 引入 Vue 3 -->
  <script src="//cdn.jsdelivr.net/npm/vue@3"></script>
  <!-- 引入 Element Plus 樣式 -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/element-plus/dist/index.css">
  <!-- 引入 Element Plus -->
  <script src="//cdn.jsdelivr.net/npm/element-plus"></script>
</head>
```

#### 在 CDN 上鎖定版本

```html
<!-- 鎖定特定版本 -->
<link rel="stylesheet" href="//unpkg.com/element-plus@2.5.0/dist/index.css">
<script src="//unpkg.com/element-plus@2.5.0/dist/index.full.js"></script>
```

### 方式 3：Nuxt.js 整合

```bash
# 安裝 Nuxt 模組
npm install -D @element-plus/nuxt
# 或
yarn add -D @element-plus/nuxt
# 或
pnpm install -D @element-plus/nuxt
```

在 `nuxt.config.ts` 中配置：

```typescript
// nuxt.config.ts
export default defineNuxtConfig({
  modules: ['@element-plus/nuxt'],
  elementPlus: {
    /** 選項 */
  }
})
```

## 專案設定

### 步驟 1：建立 Vue 專案

#### 使用 Vite（推薦）

```bash
# 建立專案
npm create vite@latest my-element-app -- --template vue-ts

# 進入專案目錄
cd my-element-app

# 安裝依賴
npm install
```

#### 使用 Vue CLI

```bash
# 安裝 Vue CLI
npm install -g @vue/cli

# 建立專案
vue create my-element-app

# 當提示時選擇 Vue 3
```

### 步驟 2：安裝 Element Plus

```bash
npm install element-plus
```

### 步驟 3：在 main.ts/main.js 中配置

#### 完整引入（簡單但套件較大）

```typescript
// main.ts
import { createApp } from 'vue'
import ElementPlus from 'element-plus'
import 'element-plus/dist/index.css'
import App from './App.vue'

const app = createApp(App)

app.use(ElementPlus)
app.mount('#app')
```

#### 按需引入（推薦用於生產環境）

首先，安裝自動引入插件：

```bash
npm install -D unplugin-vue-components unplugin-auto-import
```

配置 Vite：

```typescript
// vite.config.ts
import { defineConfig } from 'vite'
import AutoImport from 'unplugin-auto-import/vite'
import Components from 'unplugin-vue-components/vite'
import { ElementPlusResolver } from 'unplugin-vue-components/resolvers'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [
    vue(),
    AutoImport({
      resolvers: [ElementPlusResolver()],
    }),
    Components({
      resolvers: [ElementPlusResolver()],
    }),
  ],
})
```

配置 TypeScript：

```json
// tsconfig.json
{
  "compilerOptions": {
    // ... other options
    "types": ["element-plus/global"]
  }
}
```

配置 Webpack：

```javascript
// webpack.config.js
const AutoImport = require('unplugin-auto-import/webpack')
const Components = require('unplugin-vue-components/webpack')
const { ElementPlusResolver } = require('unplugin-vue-components/resolvers')

module.exports = {
  plugins: [
    AutoImport({
      resolvers: [ElementPlusResolver()],
    }),
    Components({
      resolvers: [ElementPlusResolver()],
    }),
  ],
}
```

### 步驟 4：使用元件

```vue
<!-- App.vue -->
<template>
  <div>
    <h1>{{ message }}</h1>
    <el-button type="primary" @click="handleClick">
      點擊我
    </el-button>
    
    <el-input v-model="input" placeholder="輸入文字"></el-input>
    
    <el-table :data="tableData" style="width: 100%">
      <el-table-column prop="name" label="姓名"></el-table-column>
      <el-table-column prop="age" label="年齡"></el-table-column>
    </el-table>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const message = ref('Hello Element Plus!')
const input = ref('')
const tableData = ref([
  { name: '王小明', age: 25 },
  { name: '李小華', age: 30 },
])
</script>
```

## 入門範本

Element Plus 提供官方入門範本：

| 範本 | 說明 |
|----------|-------------|
| [Vite 範本](https://github.com/element-plus/element-plus-vite-starter) | 官方 Vite + Vue 3 入門 |
| [Nuxt 範本](https://github.com/element-plus/element-plus-nuxt-starter) | 官方 Nuxt 3 入門 |
| [Laravel 範本](https://github.com/element-plus/element-plus-in-laravel-starter) | Laravel + Vue 3 入門 |

## 全域配置

### 設定預設大小和 zIndex

```typescript
// 完整引入配置
import { createApp } from 'vue'
import ElementPlus from 'element-plus'
import App from './App.vue'

const app = createApp(App)
app.use(ElementPlus, { size: 'small', zIndex: 3000 })
```

### 使用 el-config-provider

```vue
<template>
  <el-config-provider :size="size" :z-index="zIndex">
    <app />
  </el-config-provider>
</template>

<script setup>
import { ref } from 'vue'
import { ElConfigProvider } from 'element-plus'

const size = ref('default')
const zIndex = ref(3000)
</script>
```

## Sass/SCSS 配置

自版本 2.8.5 起，Element Plus 需要 Sass 1.79.0+：

```typescript
// vite.config.ts
export default defineConfig({
  css: {
    preprocessorOptions: {
      scss: { api: 'modern-compiler' },
    }
  }
})
```

## 疑難排解

### 元件找不到

**問題：** 元件無法顯示或出現錯誤

**解決方案：**
1. 確認 Element Plus 已安裝：`npm list element-plus`
2. 驗證 main.ts 中的引入
3. 對於按需引入，檢查 vite.config.ts 插件配置
4. 重新啟動開發伺服器

### 樣式未生效

**問題：** 元件樣式不正確

**解決方案：**
1. 引入 CSS：`import 'element-plus/dist/index.css'`
2. 檢查專案中是否有 CSS 衝突
3. 驗證建置工具配置

### TypeScript 錯誤

**問題：** TypeScript 抱怨 Element Plus 類型

**解決方案：**
1. 在 tsconfig.json 中新增：`"types": ["element-plus/global"]`
2. 執行 `npm install -D @types/node`
3. 更新 TypeScript：`npm install -D typescript@latest`

### 記憶體問題

**問題：** 建置時記憶體不足

**解決方案：**
1. 增加 Node.js 記憶體：`NODE_OPTIONS=--max_old_space_size=4096 npm run build`
2. 使用按需引入來減少套件大小
3. 將 Node.js 升級到最新的 LTS 版本

## 從 Element UI（Vue 2）遷移

### 主要差異

| Element UI (Vue 2) | Element Plus (Vue 3) |
|-------------------|---------------------|
| `el-button` | 相同 |
| `el-table` | 相同 |
| `el-form` | 相同 |
| `v-model` | 相同語法 |
| `slot` | 相同語法 |
| 事件 | 相同 |

### 套件名稱變更

```javascript
// Vue 2 + Element UI
import { Button, Table } from 'element-ui'

// Vue 3 + Element Plus
import { Button, Table } from 'element-plus'
```

### 重大變更

1. **不再支援 IE11**
2. **支援 Vue 3 Composition API**
3. **改進了 TypeScript 支援**
4. **部分元件屬性已重新命名**

## 最佳實踐

1. **使用按需引入** - 大幅減少套件大小
2. **使用 Vite** - 更快的開發和建置時間
3. **鎖定版本** - 在生產環境中使用特定版本
4. **使用 TypeScript** - 更好的類型安全和 IDE 支援
5. **檢查瀏覽器支援** - 確保目標瀏覽器受支援

## 相關連結

- [官方網站](https://element-plus.org)
- [GitHub 倉庫](https://github.com/element-plus/element-plus)
- [元件文檔](https://element-plus.org/en-US/component/button.html)
- [npm 套件](https://www.npmjs.com/package/element-plus)
- [Vue 3 文檔](https://vuejs.org)
- [Vite 文檔](https://vitejs.dev)
