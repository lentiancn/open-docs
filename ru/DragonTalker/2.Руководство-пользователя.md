# DragonTalker Руководство пользователя

> Подробные инструкции по использованию DragonTalker и руководство для разработчиков
> 
> Обновлено: Февраль 2026

---

## 1. Обзор

DragonTalker — это система генерации говорящих голов на основе глубокого обучения. Основная функция — объединить статическое изображение человека с аудиофайлом и создать динамическое видео с движениями речи. Технология использует передовые алгоритмы 3D-реконструкции лица и синтеза изображений для сохранения оригинальных черт лица и достижения естественной синхронизации губ.

### 1.1 Области применения

- **Виртуальные ведущие**: настройка виртуальных аватаров с реалистичным голосом
- **Цифровые помощники**: создание антропоморфных интерактивных видео
- **Образование**: представление учебного материала в виде видео
- **Дубляж**: быстрое создание анимации дубляжа для персонажей

---

## 2. Быстрый старт

### 2.1 Базовое использование

```bash
source venv/bin/activate
python inference.py \
  --source_image examples/source_image.jpg \
  --driven_audio examples/driven_audio.wav \
  --result_dir ./results
```

### 2.2 Параметры

| Параметр | Описание | По умолчанию |
|----------|----------|--------------|
| --source_image | Путь к изображению | Обязательно |
| --driven_audio | Путь к аудио | Обязательно |
| --result_dir | Папка вывода | ./results |
| --enhancer | Алгоритм улучшения | gfpgan |
| --outputfps | Частота кадров | 25 |

---

## 3. Спецификации

### 3.1 Изображение

- Формат: JPG, PNG
- Разрешение: рекомендуется 512×512 или выше
- Содержимое: лицо анфас, чёткое, без遮挡

### 3.2 Аудио

- Формат: WAV, MP3
- Длительность: 1-60 секунд
- Качество: чёткий голос

### 3.3 Видео

- Формат: MP4 (H.264)
- Разрешение: 256×256 или 512×512
- Частота кадров: 25 FPS

---

## 4. Веб-интерфейс

DragonTalker предоставляет графический веб-интерфейс.

```bash
python app.py
```

Открыть браузер: http://localhost:7860

---

## 5. Python API

### Базовое использование

```python
from dragon_talker import DragonTalker

model = DragonTalker(
    device='cuda',
    faceid_weight=0.5,
    enhancer='gfpgan'
)

model.load_source('source.jpg')
model.load_audio('audio.wav')

result_path = model.generate(
    output_path='result.mp4',
    preprocess='full',
    fps=25
)

print(f"Видео сохранено: {result_path}")
```

---

## 6. FAQ

### 6.1 Качество видео

**Лицо размыто**

Решение: включить улучшение лица

```bash
python inference.py --enhancer gfpgan ...
```

---

**Губы не синхронизированы с аудио**

Причина: плохое качество аудио или слишком быстрая речь

Решение: предобработка аудио, увеличение частоты дискретизации

---

### 6.2 Производительность

**Недостаточно памяти GPU**

Решения:
1. Уменьшить разрешение вывода
2. Отключить улучшение
3. Использовать режим CPU

---

## 7. Ресурсы

- Демо: https://huggingface.co/spaces/dragon-talker
- GitHub: https://github.com/your-repo/DragonTalker
