# LivePortrait Руководство по использованию

LivePortrait — эффективный фреймворк для анимации портретов, который анимирует статичные портреты с использованием движения из управляющего видео. Поддерживает сшивание и перенаправление.

## Быстрый старт

### Основная команда

```bash
# Анимация на основе видео
python inference.py \
  --source_image examples/source_image.jpg \
  --driving_video examples/driving_video.mp4 \
  --result_dir ./results
```

### Со сшиванием

```bash
python inference.py \
  --source_image examples/source_image.jpg \
  --driving_video examples/driving_video.mp4 \
  --result_dir ./results \
  --stitching
```

## Команды

### Параметры ввода

| Параметр | Описание | По умолчанию |
|---------|----------|--------------|
| `--source_image` | Путь к изображению портрета | Обязательно |
| `--driving_video` | Путь к управляющему видео | Опционально |
| `--result_dir` | Каталог вывода | ./results |

### Параметры обработки

| Параметр | Описание | По умолчанию |
|---------|----------|--------------|
| `--stitching` | Включить сшивание | False |
| `--eye_retargeting` | Перенаправление глаз (0-1) | 0 |
| `--lip_retargeting` | Перенаправление губ (0-1) | 0 |

## Примеры

### Пример 1: Базовая анимация

```bash
python inference.py \
  --source_image examples/source_image.jpg \
  --driving_video examples/driving_video.mp4 \
  --result_dir results/basic
```

### Пример 2: Со сшиванием

```bash
python inference.py \
  --source_image examples/source_image.jpg \
  --driving_video examples/driving_video.mp4 \
  --result_dir results/stitching \
  --stitching
```

## Функции

### 1. Сшивание

Модуль сшивания соединяет сгенерированную голову с телом:

```bash
--stitching
```

### 2. Перенаправление глаз

Управление открытием глаз (0-1):

```bash
--eye_retargeting 0.5
```

### 3. Перенаправление губ

Управление интенсивностью движения губ:

```bash
--lip_retargeting 0.5
```

## Требования к вводу

### Исходное изображение

- Формат: JPG, PNG
- Разрешение: 512x512 или выше рекомендуется

### Управляющее видео

- Формат: MP4, AVI
- Длительность: 1-60 секунд

## Вывод

- Формат: MP4 (H.264)
- Разрешение: 512x512
- Частота кадров: 30

## Ссылки

- [GitHub](https://github.com/KwaiVGI/LivePortrait)
- [Демо](https://liveportrait.github.io)
