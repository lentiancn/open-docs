# React - 简介

React 是 Facebook 于 2013 年开源的前端 JavaScript 库，用于构建用户界面，特别是单页应用。React 采用组件化开发模式，通过虚拟 DOM 实现高效的页面更新，是现代前端开发中最流行的框架之一。

## React 的核心概念

### 1. 组件化

React 的核心思想是将用户界面拆分为独立、可复用的组件。每个组件维护自己的状态和逻辑：

```jsx
function Welcome({ name }) {
  return <h1>Hello, {name}!</h1>;
}

class Welcome extends React.Component {
  render() {
    return <h1>Hello, {this.props.name}!</h1>;
  }
}
```

### 2. 虚拟 DOM

React 使用虚拟 DOM 来优化 DOM 操作。当状态变化时，React 会创建新的虚拟 DOM 树，与旧的进行比较，只更新变化的部分（Diff 算法），大大提高了性能。

### 3. JSX

JSX 是 JavaScript 的语法扩展，允许在 JavaScript 中编写类似 HTML 的代码：

```jsx
const element = (
  <div className="container">
    <h1>标题</h1>
    <p>内容</p>
  </div>
);
```

### 4. 单向数据流

React 采用单向数据流，数据从父组件通过 props 传递给子组件，子组件通过回调函数修改父组件的状态。

### 5. 声明式

React 采用声明式编程，开发者只需要描述 UI 应该呈现的状态，React 会自动处理 DOM 更新。

## React 的主要特性

### 1. 组件系统

React 组件可以是函数组件或类组件：

```jsx
// 函数组件（推荐）
function Button({ text, onClick }) {
  return (
    <button className="btn" onClick={onClick}>
      {text}
    </button>
  );
}

// 箭头函数组件
const Button = ({ text, onClick }) => (
  <button className="btn" onClick={onClick}>
    {text}
  </button>
);
```

### 2. Props

Props 是父组件传递给子组件的数据：

```jsx
function UserCard({ name, avatar, bio }) {
  return (
    <div className="user-card">
      <img src={avatar} alt={name} />
      <h2>{name}</h2>
      <p>{bio}</p>
    </div>
  );
}

// 使用
<UserCard 
  name="Tom" 
  avatar="/avatar.jpg" 
  bio="前端开发者" 
/>
```

### 3. State

State 是组件内部的状态：

```jsx
import { useState } from 'react';

function Counter() {
  const [count, setCount] = useState(0);
  
  return (
    <div>
      <p>计数: {count}</p>
      <button onClick={() => setCount(count + 1)}>
        增加
      </button>
    </div>
  );
}
```

### 4. 生命周期

类组件有生命周期方法：

```jsx
class Component extends React.Component {
  componentDidMount() {
    // 组件挂载后
  }
  
  componentDidUpdate(prevProps, prevState) {
    // 组件更新后
  }
  
  componentWillUnmount() {
    // 组件卸载前
  }
  
  render() {
    return <div>内容</div>;
  }
}
```

函数组件使用 Hooks：

```jsx
import { useEffect, useState } from 'react';

function Component() {
  const [data, setData] = useState(null);
  
  useEffect(() => {
    // 挂载时执行
    fetchData();
    
    return () => {
      // 卸载时清理
    };
  }, []); // 空数组表示只执行一次
  
  return <div>{data}</div>;
}
```

### 5. 事件处理

React 的事件处理与 DOM 事件类似：

```jsx
function HandleClick() {
  function handleClick(e) {
    e.preventDefault();
    console.log('点击了');
  }
  
  return (
    <button onClick={handleClick}>
      点击
    </button>
  );
}
```

### 6. 条件渲染

```jsx
function Greeting({ isLoggedIn }) {
  if (isLoggedIn) {
    return <h1>欢迎回来</h1>;
  }
  
  return <h1>请登录</h1>;
}

// 使用三元运算符
function Greeting({ isLoggedIn }) {
  return (
    <div>
      {isLoggedIn ? <h1>欢迎</h1> : <h1>请登录</h1>}
    </div>
  );
}

// 使用 &&
function Greeting({ isLoggedIn }) {
  return (
    <div>
      {isLoggedIn && <h1>欢迎</h1>}
    </div>
  );
}
```

### 7. 列表渲染

```jsx
function List({ items }) {
  return (
    <ul>
      {items.map(item => (
        <li key={item.id}>
          {item.name}
        </li>
      ))}
    </ul>
  );
}
```

## React 的版本

| 版本 | 发布年份 | 主要特性 |
|------|----------|----------|
| React 0.3 | 2013 | 初始版本 |
| React 0.14 | 2015 | 分离 react 和 react-dom |
| React 15 | 2016 | 改进 SVG 支持 |
| React 16 | 2017 | Fiber 架构 |
| React 16.8 | 2019 | Hooks |
| React 17 | 2020 | 渐进升级 |
| React 18 | 2022 | 并发特性 |
| React 19 | 2024 | Actions、useOptimistic |

## React 的应用场景

### 1. 单页应用（SPA）

React 是构建 SPA 的理想选择：

```jsx
import { BrowserRouter, Routes, Route } from 'react-router-dom';

function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/" element={<Home />} />
        <Route path="/about" element={<About />} />
      </Routes>
    </BrowserRouter>
  );
}
```

### 2. 移动应用

通过 React Native 构建原生移动应用：

```jsx
import { View, Text, TouchableOpacity } from 'react-native';

function Button({ title, onPress }) {
  return (
    <TouchableOpacity onPress={onPress}>
      <View>
        <Text>{title}</Text>
      </View>
    </TouchableOpacity>
  );
}
```

### 3. 桌面应用

结合 Electron 构建桌面应用：

- VS Code（部分）
- Discord
- Slack

### 4. 服务端渲染

使用 Next.js 实现 SSR：

```jsx
// pages/index.js
export default function Home() {
  return <h1>Hello Next.js!</h1>;
}
```

### 5. 静态网站

使用 Gatsby 或 Next.js 构建静态网站。

## React 生态系统

### 核心库

| 库 | 说明 |
|-----|------|
| React | 核心库 |
| React DOM | DOM 渲染 |
| React Native | 移动端 |
| Next.js | 服务端渲染/静态站点 |

### 状态管理

| 库 | 说明 |
|-----|------|
| Redux | 状态管理容器 |
| MobX | 响应式状态管理 |
| Zustand | 轻量级状态管理 |
| Jotai | 原子化状态管理 |
| Recoil | Facebook 官方状态管理 |

### UI 组件库

- **Ant Design**：企业级 UI
- **Material UI**：Material Design
- **Chakra UI**：现代 UI
- **Tailwind CSS**：原子化 CSS

### 开发工具

- **Create React App**：脚手架
- **Vite**：新一代构建工具
- **React Developer Tools**：浏览器扩展

## React 与其他框架对比

### React vs Vue

| 特性 | React | Vue |
|------|-------|-----|
| 学习曲线 | 较陡 | 平缓 |
| 模板 | JSX | HTML 模板 |
| 状态管理 | Redux/MobX | Vuex/Pinia |
| 社区 | 更活跃 | 活跃 |

### React vs Angular

| 特性 | React | Angular |
|------|-------|---------|
| 类型 | JavaScript库 | 完整框架 |
| 学习难度 | 中等 | 较高 |
| 灵活性 | 高 | 低 |
| TypeScript | 可选 | 必须 |

## React 的统计数据

- **GitHub 星标**：222,000+ ⭐
- **周下载量**：20,000,000+
- **NPM 月下载量**：数亿次
- **企业用户**：Facebook、Netflix、Airbnb、Uber 等

## 为什么选择 React？

1. **组件化**：提高代码复用性和可维护性
2. **虚拟 DOM**：高性能的 DOM 更新
3. **生态丰富**：完整的工具链和组件库
4. **灵活**：可以与其他库组合使用
5. **社区活跃**：大量的学习资源和解决方案
6. **职业需求**：市场需求大，就业前景好
7. **跨平台**：React Native 支持移动端

## 相关资源

- 官方网站：https://react.dev
- 中文文档：https://zh-hans.react.dev
- GitHub：https://github.com/facebook/react
- React 博客：https://react.dev/blog

React 是现代前端开发的必备技能，无论是构建 Web 应用、移动应用还是桌面应用，都能提供优秀的开发体验。
