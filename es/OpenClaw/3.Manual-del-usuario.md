# Manual del Usuario de OpenClaw

Este manual proporciona una guía detallada de las características y uso de OpenClaw, ayudándote a aprovechar al máximo esta poderosa puerta de enlace de asistente de IA. Ya seas nuevo o tengas experiencia, encontrarás información valiosa aquí.

---

## Conceptos Básicos

Entender estos conceptos centrales te ayudará a comenzar más efectivamente:

### Gateway

El Gateway es el componente central de OpenClaw. Se ejecuta en tu máquina local como el plano de control para todas las conexiones de canal, agentes de IA y clientes. Un único proceso de Gateway puede manejar múltiples canales de chat y múltiples agentes de IA simultáneamente.

### Canales

Los canales se refieren a las plataformas de chat que usas para interactuar con el asistente de IA, incluyendo WhatsApp, Telegram, Discord, iMessage y más. Cada canal puede ser configurado y gestionado independientemente.

### Agentes

Los agentes son instancias del asistente de IA. Cada agente tiene su propio espacio de trabajo, sesiones y configuración. Puedes configurar múltiples agentes para diferentes propósitos, como uso personal, trabajo, etc.

### Sesiones

Las sesiones gestionan el contexto de conversación. OpenClaw soporta múltiples modos de sesión:
- **main**: Sesión compartida
- **per-peer**: Sesión separada para cada contacto
- **per-channel-peer**: Sesión separada para cada combinación de canal-contacto
- **per-account-channel-peer**: Más granular, sesión separada para cada combinación de cuenta-canal

---

## Uso Diario

### Iniciar y Detener el Gateway

**Iniciar el Gateway:**

```bash
# Ejecutar en primer plano (para depuración)
openclaw gateway --port 18789

# Ejecutar en segundo plano (requiere instalación de servicio)
openclaw gateway start
```

**Detener el Gateway:**

```bash
openclaw gateway stop
```

**Verificar Estado:**

```bash
openclaw gateway status
```

### Usando la Interfaz de Control

Después de iniciar el Gateway, visita http://127.0.0.1:18789/ en tu navegador para abrir la interfaz de control.

La interfaz de control proporciona:
- Enviar y recibir mensajes
- Ver y gestionar sesiones
- Configurar canales y ajustes
- Ver estadísticas de uso

### Usando Comandos CLI

**Enviando Mensajes:**

```bash
openclaw message send --target +15555550123 --message "Hola, OpenClaw"
```

**Chateando con IA:**

```bash
openclaw agent --message "Ayúdame a escribir un programa Hello World" --thinking high
---

## Gestión de Canales

### Configurando WhatsApp

WhatsApp es uno de los canales más comúnmente usados. Pasos de configuración:

1. Ejecuta el comando de inicio de sesión:
   ```bash
   openclaw channels login
   ```

2. Selecciona WhatsApp y escanea el código QR siguiendo las indicaciones

3. Configura lista blanca (opcional pero recomendado):
   ```json5
   {
     channels: {
       whatsapp: {
         allowFrom: ["+15555550123"],
       },
     },
   }
   ```

### Configurando Telegram

1. Crea un Bot de Telegram:
   - Abre @BotFather
   - Usa el comando /newbot para crear un nuevo bot
   - Obtén el Token del Bot

2. Agrega al archivo de configuración:
   ```json5
   {
     channels: {
       telegram: {
         botToken: "tuTokenDeBot",
       },
     },
   }
   ```

3. Inicia una conversación con tu bot

### Configurando Discord

1. Crea una Aplicación de Discord:
   - Visita https://discord.com/developers/applications
   - Crea una nueva aplicación, agrega un usuario Bot

2. Obtén el Token del Bot y configura:
   ```json5
   {
     channels: {
       discord: {
         token: "tuTokenDeBot",
       },
     },
   }
   ```

3. Invita el Bot a tu servidor

---

## Características Avanzadas

### Enrutamiento Multi-agente

Puedes ejecutar múltiples agentes aislados en un Gateway:

```json5
{
  agents: {
    list: [
      { id: "home", default: true, workspace: "~/.openclaw/workspace-home" },
      { id: "work", workspace: "~/.openclaw/workspace-work" },
    ],
  },
  bindings: [
    { agentId: "home", match: { channel: "whatsapp", accountId: "personal" } },
    { agentId: "work", match: { channel: "whatsapp", accountId: "biz" } },
  ],
}
```

### Tareas Programadas (Cron Jobs)

Configura tareas automatizadas:

```json5
{
  cron: {
    enabled: true,
    maxConcurrentRuns: 2,
    sessionRetention: "24h",
  },
}
```

Crea tareas programadas:

```bash
openclaw cron create --schedule "0 9 * * *" --agent main --message "Buenos días"
```

### Webhooks

Configura Webhooks para responder a eventos externos:

```json5
{
  hooks: {
    enabled: true,
    token: "shared-secret",
    path: "/hooks",
    mappings: [
      {
        match: { path: "gmail" },
        action: "agent",
        agentId: "main",
        deliver: true,
      },
    ],
  },
}
```

### Modo Sandbox

Por seguridad, puedes ejecutar sesiones no principales en contenedores Docker aislados:

```json5
{
  agents: {
    defaults: {
      sandbox: {
        mode: "non-main",
        scope: "agent",
      },
    },
  },
}
```

---

## Configuración del Espacio de Trabajo

### Estructura de Directorios

OpenClaw usa la siguiente estructura de directorios:

```
~/.openclaw/
├── openclaw.json      # Archivo de configuración
├── credentials/       # Credenciales de canal
├── workspace/       # Espacio de trabajo de IA
│   ├── AGENTS.md    # Configuración de agente
│   ├── SOUL.md      # Configuración de identidad
│   ├── TOOLS.md     # Configuración de herramientas
│   ├── USER.md      # Configuración de usuario
│   ├── MEMORY.md    # Memoria a largo plazo
│   └── skills/      # Directorio de habilidades
└── logs/            # Archivos de registro
```

### Espacio de Trabajo Personalizado

```json5
{
  agents: {
    defaults: {
      workspace: "~/mi-espacio-trabajo",
    },
  },
}
```

---

## Herramientas de Línea de Comandos

### Comandos Comunes

| Comando | Descripción |
|---------|-------------|
| `openclaw --version` | Ver versión |
| `openclaw status` | Ver estado |
| `openclaw gateway start` | Iniciar Gateway |
| `openclaw gateway stop` | Detener Gateway |
| `openclaw gateway status` | Ver estado del Gateway |
| `openclaw dashboard` | Abrir interfaz de control |
| `openclaw channels login` | Iniciar sesión en canales |
| `openclaw channels status` | Ver estado de canales |
| `openclaw message send` | Enviar mensajes |
| `openclaw agent` | Chatear con IA |
| `openclaw config get` | Obtener configuración |
| `openclaw config set` | Establecer configuración |
| `openclaw doctor` | Diagnosticar problemas |

### Comandos de Chat

En canales soportados, puedes usar estos comandos:

- `/status` - Ver estado de sesión
- `/new` o `/reset` - Reiniciar sesión
- `/compact` - Compactar contexto de sesión
- `/think` - Establecer nivel de pensamiento (off|minimal|low|medium|high|xhigh)
- `/verbose on|off` - Alternar salida detallada
- `/usage off|tokens|full` - Ver estadísticas de uso
- `/restart` - Reiniciar Gateway (solo admin de grupo)

---

## Nodos Móviles

OpenClaw soporta emparejar dispositivos iOS y Android como nodos para habilitar más características locales.

### Nodo iOS

1. Descarga OpenClaw de App Store
2. Abre la aplicación y sigue el asistente de emparejamiento para emparejar con tu Gateway
3. Otorga los permisos necesarios (cámara, micrófono, ubicación, etc.)

Características disponibles después del emparejamiento:
- Captura de cámara y grabación
- Grabación de pantalla
- Interacción con Canvas
- Interacción de voz (Talk Mode)

### Nodo Android

1. Descarga la aplicación Android de OpenClaw
2. Empareja con Gateway
3. Otorga los permisos necesarios

Características similares a iOS.

### Modo Nodo macOS

La aplicación macOS puede ejecutarse en modo nodo, exponiendo:
- system.run - Ejecutar comandos locales
- system.notify - Enviar notificaciones
- canvas.* - Interacción con Canvas
- camera.* - Control de cámara
- screen.record - Grabación de pantalla

---

## Control del Navegador

OpenClaw tiene capacidades integradas de control del navegador:

```json5
{
  browser: {
    enabled: true,
    color: "#FF4500",
  },
}
```

**Comandos Comunes:**

```bash
# Iniciar navegador
openclaw browser start --browser-profile openclaw

# Ver perfiles disponibles
openclaw browser profiles
```

---

## Características de Voz

### Voice Wake

Habilita despertar por voz para IA, requiere dispositivo macOS/iOS/Android:

```bash
openclaw voicewake enable
```

### Talk Mode

Modo de conversación continua donde la IA puede escuchar y responder en cualquier momento:

```bash
openclaw talk start
```

Talk Mode requiere configurar TTS (Texto a Voz), se recomienda ElevenLabs.

---

## Monitoreo y Diagnósticos

### Ver Registros

```bash
# Ver registros recientes
openclaw logs

# Seguir registros en tiempo real
openclaw logs --follow
```

### Ejecutar Diagnósticos

```bash
openclaw doctor
```

Los diagnósticos verificarán:
- Correctitud de configuración
- Estado de servicio en ejecución
- Estado de conexión de canal
- Problemas de seguridad potenciales

### Verificaciones de Salud

```bash
openclaw health
```

---

## Casos de Uso Comunes

### Caso de Uso 1: Asistente de IA Personal

Configura WhatsApp o Telegram como asistente personal, envía mensajes desde cualquier lugar para obtener ayuda.

### Caso de Uso 2: Asistencia de Desarrollo

Al encontrar problemas durante el desarrollo, pregunta a la IA directamente a través de CLI o chat para obtener ayuda inmediata.

### Caso de Uso 3: Flujos de Trabajo Automatizados

Configura tareas Cron para ejecutar automáticamente trabajo recurrente:
- Resúmenes diarios
- Verificaciones periódicas de estado del sistema
- Respaldos regulares de datos

### Caso de Uso 4: Servicio al Cliente Multi-canal

Configura múltiples canales para proporcionar servicio de IA unificado para usuarios en diferentes plataformas.

---

## Optimización de Rendimiento

### Gestión de Sesiones

- Compactar sesiones regularmente: `/compact`
- Establecer reinicio automático:
  ```json5
  {
    session: {
      reset: {
        mode: "daily",
        atHour: 4,
        idleMinutes: 120,
      },
    },
  }
  ```

### Uso de Recursos

- Limitar sesiones simultáneas
- Habilitar limpieza de sesiones
- Usar caché de modelos

---

## Respaldo y Recuperación

### Respaldar Configuración

```bash
cp ~/.openclaw/openclaw.json ~/.openclaw/openclaw.json.backup
```

### Restaurar Configuración

```bash
cp ~/.openclaw/openclaw.json.backup ~/.openclaw/openclaw.json
```

### Respaldo Completo

```bash
tar -czf openclaw-backup.tar.gz ~/.openclaw
```

---

## Próximos Pasos

- [Preguntas Frecuentes](/4.Preguntas-Frecuentes.md): Respuestas a preguntas comunes
- [Documentación Oficial](https://docs.openclaw.ai): Referencia completa de configuración
- [GitHub](https://github.com/openclaw/openclaw): Contribuir al código abierto
- [Comunidad Discord](https://discord.gg/clawd): Conectar con otros usuarios
