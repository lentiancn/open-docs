# Guide utilisateur JMeter

Ce guide explique comment utiliser JMeter pour les tests de performance.

## Démarrage rapide

### Créer un plan de test

1. Ouvrez JMeter
2. Créez un plan de test
3. Ajoutez un groupe de threads
4. Ajoutez un échantillonneur
5. Ajoutez un écouteur
6. Exécutez le test

## Groupes de threads

### Configurer le groupe de threads

```
Nombre de threads：10
 Temps de montée en charge：5 secondes
 Nombre d'itérations：1
```

### Propriétés des threads

- Nombre de threads : utilisateurs simultanés
- Temps de montée en charge : temps de démarrage
- Nombre d'itérations : exécutions par utilisateur

## Échantillonneurs

### Requête HTTP

```
Protocole：http
Nom du serveur：www.example.com
Chemin：/api/users
Méthode：GET
```

### Paramètres

- Paramètres de requête
- Paramètres POST/GET
- Téléversement de fichiers

## Écouteurs

### Afficher l'arbre des résultats

```markdown
- Afficher les requêtes et réponses
- Déboguer les scripts de test
```

### Rapport agrégé

```markdown
- Temps de réponse moyen
- Médiane
- 90e percentile
- Débit
```

### Résultats graphiques

```markdown
- Visualisation du temps de réponse
- Surveillance en temps réel
```

## Contrôleurs

### Contrôleurs logiques

- Contrôleur Si
- Contrôleur de boucle
- Contrôleur aléatoire
- Contrôleur de transaction

### Utilisation des contrôleurs

```bash
# Boucler 5 fois
Loop Controller: 5

# Sélection aléatoire
Random Controller
```

## Assertions

### Assertion de réponse

```bash
# Vérifier le contenu de la réponse
Response Assertion
Pattern: "success"

# Vérifier le code de réponse
Response Code: 200
```

### Assertion JSON

```bash
# Vérifier la valeur JSON
JSON Path: $.status
Expected Value: success
```

## Paramétrage

### Fichier de données CSV

```bash
# Créer un fichier CSV
username,password
user1,pass1
user2,pass2
```

### Configuration

```
CSV Data Set Config
Filename: users.csv
Variable Names: username,password
```

### Fonctions

- __Random
- __time
- __counter

## Corrélation

### Extraction par expression régulière

```
Expression régulière：token="(.+?)"
Modèle：$1$
Numéro de correspondance：1
```

### Extraction JSON

```
JSON Path: $.data.token
```

## Tests distribués

### Configuration maître/esclave

```bash
# Configuration de l'esclave
remote_hosts=192.168.1.2,192.168.1.3

# Démarrer
jmeter -R 192.168.1.2
```

### Exécution

```bash
# Exécution distribuée
jmeter -n -t test.jmx -R server1,server2
```

## Exécution en ligne de commande

### Commandes de base

```bash
# Exécuter le test
jmeter -n -t test.jmx -l result.jtl

# Générer un rapport
jmeter -g result.jtl -o report
```

### Paramètres

```bash
-n Mode non-GUI
-t Fichier de plan de test
-l Fichier de résultats
-r Exécution distribuée
```

## Optimisation des performances

### 1. Utiliser des assertions

```bash
# Ajouter uniquement les assertions nécessaires
Response Assertion
```

### 2. Optimisation des écouteurs

```bash
# Réduire les écouteurs en production
# Utiliser Simple Data Writer
```

### 3. Préchauffage

```bash
# Préchauffer avant les tests officiels
```

## Génération de rapports

### Rapport HTML

```bash
jmeter -g result.jtl -o /path/to/report
```

### Tableau de bord

```bash
# Rapport complet
jmeter -n -t test.jmx -l result.jtl -e -o report
```

## Bonnes pratiques

### 1. Conception des tests

```bash
# Simuler le comportement réel des utilisateurs
# Paramétrer les données de test
```

### 2. Analyse des résultats

```bash
# Se concentrer sur le temps de réponse
# Analyser le taux d'erreurs
```

## Ressources connexes

- [Documentation officielle JMeter](https://jmeter.apache.org/usermanual/)
- [Plugins JMeter](https://jmeter-plugins.org/)
