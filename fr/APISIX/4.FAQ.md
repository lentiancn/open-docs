# APISIX FAQ

Questions fréquentes et réponses.

## Installation

### Q: Le conteneur Docker ne démarre pas?

**Solutions:**
1. Vérifier que Docker est installé et en cours d'exécution
```bash
docker --version
docker ps
```
2. Vérifier si les ports sont occupés
```bash
netstat -tlnp | grep 9080
```
3. Voir les logs du conteneur
```bash
docker logs apisix
docker logs etcd
```

### Q: Erreur de connexion etcd?

**Solutions:**
1. Vérifier qu etcd est en cours d'exécution
```bash
docker ps | grep etcd
```
2. Vérifier qu etcd écoute sur le bon port

### Q: Port déjà utilisé?

**Solutions:**
1. Identifier le processus utilisant le port
```bash
lsof -i:9080
```
2. Tuer le processus ou changer le port APISIX
```yaml
apisix:
  node_listen: 9081
```

## Utilisation

### Q: La route ne fonctionne pas?

**Solutions:**
1. Vérifier le format de configuration de la route
2. Confirmer que la route a été créée correctement
3. Vérifier les logs d'erreur
```bash
tail -f logs/error.log
```

### Q: Le plugin ne fonctionne pas?

**Solutions:**
1. Confirmer que le plugin est activé
2. Vérifier le format de configuration du plugin

### Q: Service upstream inaccessible?

**Solutions:**
1. Confirmer que le service upstream est en cours d'exécution
2. Vérifier la connectivité réseau
3. Vérifier les règles du pare-feu

## Configuration

### Q: Comment configurer les certificats SSL/TLS?

**Solutions:**
1. Télécharger le certificat SSL
```bash
curl -X PUT http://127.0.0.1:9180/apisix/admin/ssls/1 \
  -H "X-API-KEY: 123456" \
  -d '{"cert":"contenu-certificat","key":"clé-privée","sni":"example.com"}'
```

### Q: Comment configurer CORS?

**Solutions:**
Utiliser le plugin cors:

```bash
curl -X PUT http://127.0.0.1:9180/apisix/admin/routes/1 \
  -H "X-API-KEY: 123456" \
  -d '{"uri":"/api/*","plugins":{"cors":{}}}'
```

## Performance

### Q: L'utilisation de la mémoire augmente?

**Solutions:**
1. Vérifier les fuites de mémoire dans les plugins
2. Limiter la taille du tampon

### Q: CPU élevé?

**Solutions:**
1. Vérifier le volume de requêtes
2. Optimiser les règles de regex
3. Réduire le nombre de plugins

## Sécurité

### Q: Comment protéger Admin API?

**Solutions:**
1. Utiliser des clés fortes
2. Limiter les IPs d'accès
3. Activer HTTPS

### Q: Comment prévenir les attaques?

**Solutions:**
1. Activer le plugin de limitation de débit
2. Activer la liste noire IP
3. Activer le pare-feu
4. Surveiller les requêtes anormales

## Ressources

### Q: Où apprendre APISIX?

- Documentation: https://apisix.apache.org/docs
- GitHub: https://github.com/apache/apisix
- Forum: https://apisix.discourse.group
