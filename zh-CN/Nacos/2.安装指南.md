# Nacos 安装指南

## 环境要求

- JDK 1.8+
- Maven 3.2+
- 内存 2GB+

## Docker 安装（推荐）

```bash
# 单机模式
docker run -d \
  --name nacos \
  -p 8848:8848 \
  -p 9848:9848 \
  -e MODE=standalone \
  nacos/nacos-server:latest

# 访问控制台
# http://localhost:8848/nacos
# 默认账号：nacos / nacos
```

## 源码安装

```bash
# 下载源码
git clone https://github.com/alibaba/nacos.git
cd nacos

# 编译
mvn -Prelease-nacos -DskipTests clean install -U

# 启动（单机模式）
cd distribution/target/nacos/bin
sh startup.sh -m standalone
```

## Windows 启动

```cmd
# 双击运行
distribution\target\nacos\bin\startup.cmd -m standalone
```

## 配置说明

### 端口说明

- 8848：HTTP 端口
- 9848：gRPC 端口
- 9849：gRPC 端口（备份）

### 数据持久化

默认使用 Derby，可切换为 MySQL：

```properties
# conf/application.properties
spring.datasource.platform=mysql

db.num=1
db.url.0=jdbc:mysql://localhost:3306/nacos_config?characterEncoding=utf8&connectTimeout=1000&socketTimeout=3000&autoReconnect=true
db.user=nacos
db.password=nacos
```

## 集群部署

```bash
# 准备 3 台服务器
# 配置 cluster.conf
# 192.168.1.1:8848
# 192.168.1.2:8848
# 192.168.1.3:8848

# 启动
sh startup.sh
```
